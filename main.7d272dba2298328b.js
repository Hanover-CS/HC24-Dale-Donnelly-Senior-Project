"use strict";(self.webpackChunkwatchlist_app=self.webpackChunkwatchlist_app||[]).push([[179],{290:()=>{function Ie(t){return"function"==typeof t}function vu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const pd=vu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function go(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class an{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ie(r))try{r()}catch(s){e=s instanceof pd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{PT(s)}catch(o){e=e??[],o instanceof pd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new pd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)PT(e);else{if(e instanceof an){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&go(n,e)}remove(e){const{_finalizers:n}=this;n&&go(n,e),e instanceof an&&e._removeParent(this)}}an.EMPTY=(()=>{const t=new an;return t.closed=!0,t})();const NT=an.EMPTY;function kT(t){return t instanceof an||t&&"closed"in t&&Ie(t.remove)&&Ie(t.add)&&Ie(t.unsubscribe)}function PT(t){Ie(t)?t():t.unsubscribe()}const us={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},gd={setTimeout(t,e,...n){const{delegate:r}=gd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=gd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function OT(t){gd.setTimeout(()=>{const{onUnhandledError:e}=us;if(!e)throw t;e(t)})}function nm(){}const U$=rm("C",void 0,void 0);function rm(t,e,n){return{kind:t,value:e,error:n}}let cs=null;function md(t){if(us.useDeprecatedSynchronousErrorHandling){const e=!cs;if(e&&(cs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=cs;if(cs=null,n)throw r}}else t()}class im extends an{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kT(e)&&e.add(this)):this.destination=q$}static create(e,n,r){return new _u(e,n,r)}next(e){this.isStopped?om(function B$(t){return rm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?om(function j$(t){return rm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?om(U$,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const H$=Function.prototype.bind;function sm(t,e){return H$.call(t,e)}class z${constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){yd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){yd(r)}else yd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){yd(n)}}}class _u extends im{constructor(e,n,r){let i;if(super(),Ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&us.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sm(e.next,s),error:e.error&&sm(e.error,s),complete:e.complete&&sm(e.complete,s)}):i=e}this.destination=new z$(i)}}function yd(t){us.useDeprecatedSynchronousErrorHandling?function $$(t){us.useDeprecatedSynchronousErrorHandling&&cs&&(cs.errorThrown=!0,cs.error=t)}(t):OT(t)}function om(t,e){const{onStoppedNotification:n}=us;n&&gd.setTimeout(()=>n(t,e))}const q$={closed:!0,next:nm,error:function G$(t){throw t},complete:nm},am="function"==typeof Symbol&&Symbol.observable||"@@observable";function vi(t){return t}function FT(t){return 0===t.length?vi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Q$(t){return t&&t instanceof im||function K$(t){return t&&Ie(t.next)&&Ie(t.error)&&Ie(t.complete)}(t)&&kT(t)}(n)?n:new _u(n,r,i);return md(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=LT(r))((i,s)=>{const o=new _u({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[am](){return this}pipe(...n){return FT(n)(this)}toPromise(n){return new(n=LT(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function LT(t){var e;return null!==(e=t??us.Promise)&&void 0!==e?e:Promise}const Y$=vu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Gn=(()=>{class t extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new VT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Y$}next(n){md(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){md(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){md(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?NT:(this.currentObservers=null,s.push(n),new an(()=>{this.currentObservers=null,go(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Fe;return n.source=this,n}}return t.create=(e,n)=>new VT(e,n),t})();class VT extends Gn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:NT}}function UT(t){return Ie(t?.lift)}function ot(t){return e=>{if(UT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(t,e,n,r,i){return new X$(t,e,n,r,i)}class X$ extends im{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function re(t,e){return ot((n,r)=>{let i=0;n.subscribe(at(r,s=>{r.next(t.call(e,s,i++))}))})}function lm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function _i(t){return this instanceof _i?(this.v=t,this):new _i(t)}function HT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function hm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const zT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function GT(t){return Ie(t?.then)}function qT(t){return Ie(t[am])}function WT(t){return Symbol.asyncIterator&&Ie(t?.[Symbol.asyncIterator])}function KT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const QT=function vH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function YT(t){return Ie(t?.[QT])}function XT(t){return function $T(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof _i?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield _i(n.read());if(i)return yield _i(void 0);yield yield _i(r)}}finally{n.releaseLock()}})}function JT(t){return Ie(t?.getReader)}function Pn(t){if(t instanceof Fe)return t;if(null!=t){if(qT(t))return function _H(t){return new Fe(e=>{const n=t[am]();if(Ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(zT(t))return function wH(t){return new Fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(GT(t))return function IH(t){return new Fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,OT)})}(t);if(WT(t))return ZT(t);if(YT(t))return function EH(t){return new Fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(JT(t))return function DH(t){return ZT(XT(t))}(t)}throw KT(t)}function ZT(t){return new Fe(e=>{(function TH(t,e){var n,r,i,s;return function jT(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=HT(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Lr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Dt(t,e,n=1/0){return Ie(e)?Dt((r,i)=>re((s,o)=>e(r,s,i,o))(Pn(t(r,i))),n):("number"==typeof e&&(n=e),ot((r,i)=>function bH(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Pn(n(g,l++)).subscribe(at(e,y=>{i?.(y),s?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const y=u.shift();o?Lr(e,o,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(at(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function mo(t=1/0){return Dt(vi,t)}const cr=new Fe(t=>t.complete());function fm(t){return t[t.length-1]}function wu(t){return function SH(t){return t&&Ie(t.schedule)}(fm(t))?t.pop():void 0}function vd(t,e=0){return ot((n,r)=>{n.subscribe(at(r,i=>Lr(r,t,()=>r.next(i),e),()=>Lr(r,t,()=>r.complete(),e),i=>Lr(r,t,()=>r.error(i),e)))})}function _d(t,e=0){return ot((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function eb(t,e){if(!t)throw new Error("Iterable cannot be null");return new Fe(n=>{Lr(n,e,()=>{const r=t[Symbol.asyncIterator]();Lr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pt(t,e){return e?function OH(t,e){if(null!=t){if(qT(t))return function MH(t,e){return Pn(t).pipe(_d(e),vd(e))}(t,e);if(zT(t))return function NH(t,e){return new Fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(GT(t))return function RH(t,e){return Pn(t).pipe(_d(e),vd(e))}(t,e);if(WT(t))return eb(t,e);if(YT(t))return function kH(t,e){return new Fe(n=>{let r;return Lr(n,e,()=>{r=t[QT](),Lr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ie(r?.return)&&r.return()})}(t,e);if(JT(t))return function PH(t,e){return eb(XT(t),e)}(t,e)}throw KT(t)}(t,e):Pn(t)}class On extends Gn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function $(...t){return pt(t,wu(t))}function tb(t={}){const{connector:e=(()=>new Gn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return ot((g,m)=>{c++,!d&&!l&&h();const y=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=pm(p,i))}),y.subscribe(m),!o&&c>0&&(o=new _u({next:v=>y.next(v),error:v=>{d=!0,h(),a=pm(f,n,v),y.error(v)},complete:()=>{l=!0,h(),a=pm(f,r),y.complete()}}),Pn(g).subscribe(o))})(s)}}function pm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new _u({next:()=>{r.unsubscribe(),t()}});return Pn(e(...n)).subscribe(r)}function qn(t,e){return ot((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(at(r,u=>{i?.unsubscribe();let c=0;const l=s++;Pn(t(u,l)).subscribe(i=at(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function VH(t,e){return t===e}function me(t){for(let e in t)if(t[e]===me)return e;throw Error("Could not find renamed property on target object.")}function ut(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function gm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const UH=me({__forward_ref__:me});function mm(t){return t.__forward_ref__=mm,t.toString=function(){return ut(this())},t}function G(t){return ym(t)?t():t}function ym(t){return"function"==typeof t&&t.hasOwnProperty(UH)&&t.__forward_ref__===mm}function vm(t){return t&&!!t.\u0275providers}const nb="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function Id(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function K(t){return"string"==typeof t?t:null==t?"":String(t)}function _m(t,e){throw new S(-201,!1)}function Fn(t,e){null==t&&function H(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ed(t){return rb(t,Td)||rb(t,ib)}function rb(t,e){return t.hasOwnProperty(e)?t[e]:null}function Dd(t){return t&&(t.hasOwnProperty(wm)||t.hasOwnProperty(WH))?t[wm]:null}const Td=me({\u0275prov:me}),wm=me({\u0275inj:me}),ib=me({ngInjectableDef:me}),WH=me({ngInjectorDef:me});var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{});let Im;function un(t){const e=Im;return Im=t,e}function ob(t,e,n){const r=Ed(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&te.Optional?null:void 0!==e?e:void _m(ut(t))}const Te=globalThis,Iu={},Cm="__NG_DI_FLAG__",bd="ngTempTokenPath",YH=/\n/gm,ub="__source";let yo;function wi(t){const e=yo;return yo=t,e}function ZH(t,e=te.Default){if(void 0===yo)throw new S(-203,!1);return null===yo?ob(t,void 0,e):yo.get(t,e&te.Optional?null:void 0,e)}function L(t,e=te.Default){return(function sb(){return Im}()||ZH)(G(t),e)}function P(t,e=te.Default){return L(t,Cd(e))}function Cd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Sm(t){const e=[];for(let n=0;n<t.length;n++){const r=G(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){const a=r[o],u=e4(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(L(i,s))}else e.push(L(r))}return e}function Eu(t,e){return t[Cm]=e,t.prototype[Cm]=e,t}function e4(t){return t[Cm]}function Vr(t){return{toString:t}.toString()}var Sd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Sd||{}),Kn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Kn||{});const lr={},de=[],Ad=me({\u0275cmp:me}),Am=me({\u0275dir:me}),xm=me({\u0275pipe:me}),lb=me({\u0275mod:me}),Ur=me({\u0275fac:me}),Du=me({__NG_ELEMENT_ID__:me}),db=me({__NG_ENV_ID__:me});function hb(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Mm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];pb(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function fb(t){return 3===t||4===t||6===t}function pb(t){return 64===t.charCodeAt(0)}function Tu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||gb(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function gb(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const mb="ng-template";function r4(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==hb(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function yb(t){return 4===t.type&&t.value!==mb}function i4(t,e,n){return e===(4!==t.type||n?t.value:mb)}function s4(t,e,n){let r=4;const i=t.attrs||[],s=function u4(t){for(let e=0;e<t.length;e++)if(fb(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!i4(t,u,n)||""===u&&1===e.length){if(Qn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!r4(t.attrs,c,n)){if(Qn(r))return!1;o=!0}continue}const d=o4(8&r?"class":u,i,yb(t),n);if(-1===d){if(Qn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==hb(f,c,0)||2&r&&c!==h){if(Qn(r))return!1;o=!0}}}}else{if(!o&&!Qn(r)&&!Qn(u))return!1;if(o&&Qn(u))continue;o=!1,r=u|1&r}}return Qn(r)||o}function Qn(t){return 0==(1&t)}function o4(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function c4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function vb(t,e,n=!1){for(let r=0;r<e.length;r++)if(s4(t,e[r],n))return!0;return!1}function _b(t,e){return t?":not("+e.trim()+")":e}function d4(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Qn(o)&&(e+=_b(s,i),i=""),r=o,s=s||!Qn(r);n++}return""!==i&&(e+=_b(s,i)),e}function vo(t){return Vr(()=>{const e=Ib(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Sd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Kn.Emulated,styles:t.styles||de,_:null,schemas:t.schemas||null,tView:null,id:""};Eb(n);const r=t.dependencies;return n.directiveDefs=xd(r,!1),n.pipeDefs=xd(r,!0),n.id=function _4(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function g4(t){return oe(t)||Tt(t)}function m4(t){return null!==t}function dr(t){return Vr(()=>({type:t.type,bootstrap:t.bootstrap||de,declarations:t.declarations||de,imports:t.imports||de,exports:t.exports||de,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function wb(t,e){if(null==t)return lr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function qt(t){return Vr(()=>{const e=Ib(t);return Eb(e),e})}function cn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function oe(t){return t[Ad]||null}function Tt(t){return t[Am]||null}function Wt(t){return t[xm]||null}function En(t,e){const n=t[lb]||null;if(!n&&!0===e)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function Ib(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||lr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||de,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wb(t.inputs,e),outputs:wb(t.outputs)}}function Eb(t){t.features?.forEach(e=>e(t))}function xd(t,e){if(!t)return null;const n=e?Wt:g4;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(m4)}const je=0,k=1,J=2,ke=3,Yn=4,bu=5,Ft=6,wo=7,qe=8,Ii=9,Io=10,Q=11,Cu=12,Db=13,Eo=14,We=15,Su=16,Do=17,hr=18,Au=19,Tb=20,Ei=21,jr=22,xu=23,Mu=24,ne=25,Rm=1,bb=2,fr=7,To=9,bt=11;function ln(t){return Array.isArray(t)&&"object"==typeof t[Rm]}function Kt(t){return Array.isArray(t)&&!0===t[Rm]}function Nm(t){return 0!=(4&t.flags)}function ds(t){return t.componentOffset>-1}function Rd(t){return 1==(1&t.flags)}function Xn(t){return!!t.template}function km(t){return 0!=(512&t[J])}function hs(t,e){return t.hasOwnProperty(Ur)?t[Ur]:null}let Ct=null,Nd=!1;function Ln(t){const e=Ct;return Ct=t,e}const kd={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Mb(t){if(!Nu(t)||t.dirty){if(!t.producerMustRecompute(t)&&!kb(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Nb(t){t.dirty=!0,function Rb(t){if(void 0===t.liveConsumerNode)return;const e=Nd;Nd=!0;try{for(const n of t.liveConsumerNode)n.dirty||Nb(n)}finally{Nd=e}}(t),t.consumerMarkedDirty?.(t)}function Pd(t){return t&&(t.nextProducerIndex=0),Ln(t)}function Od(t,e){if(Ln(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Nu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Fd(t.producerNode[n],t.producerIndexOfThis[n]);for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function kb(t){bo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Mb(n),r!==n.version))return!0}return!1}function Pb(t){if(bo(t),Nu(t))for(let e=0;e<t.producerNode.length;e++)Fd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Fd(t,e){if(function Fb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),bo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Fd(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];bo(i),i.producerIndexOfThis[r]=e}}function Nu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function bo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Lb=null;function jb(t){const e=Ln(null);try{return t()}finally{Ln(e)}}const Bb=()=>{},R4={...kd,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Bb};class N4{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function fs(){return $b}function $b(t){return t.type.prototype.ngOnChanges&&(t.setInput=P4),k4}function k4(){const t=zb(this),e=t?.current;if(e){const n=t.previous;if(n===lr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function P4(t,e,n,r){const i=this.declaredInputs[n],s=zb(t)||function O4(t,e){return t[Hb]=e}(t,{previous:lr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new N4(u&&u.currentValue,e,a===lr),t[r]=e}fs.ngInherit=!0;const Hb="__ngSimpleChanges__";function zb(t){return t[Hb]||null}const pr=function(t,e,n){};function be(t){for(;Array.isArray(t);)t=t[je];return t}function dn(t,e){return be(e[t.index])}function Wb(t,e){return t.data[e]}function Co(t,e){return t[e]}function Dn(t,e){const n=e[t];return ln(n)?n:n[je]}function Ti(t,e){return null==e?null:t[e]}function Kb(t){t[Do]=0}function B4(t){1024&t[J]||(t[J]|=1024,Yb(t,1))}function Qb(t){1024&t[J]&&(t[J]&=-1025,Yb(t,-1))}function Yb(t,e){let n=t[ke];if(null===n)return;n[bu]+=e;let r=n;for(n=n[ke];null!==n&&(1===e&&1===r[bu]||-1===e&&0===r[bu]);)n[bu]+=e,r=n,n=n[ke]}const z={lFrame:cC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zb(){return z.bindingsEnabled}function T(){return z.lFrame.lView}function ae(){return z.lFrame.tView}function St(){let t=nC();for(;null!==t&&64===t.type;)t=t.parent;return t}function nC(){return z.lFrame.currentTNode}function gr(t,e){const n=z.lFrame;n.currentTNode=t,n.isParent=e}function Bm(){return z.lFrame.isParent}function Qt(){const t=z.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ao(){return z.lFrame.bindingIndex++}function Z4(t,e){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,Hm(e)}function Hm(t){z.lFrame.currentDirectiveIndex=t}function Gm(t){z.lFrame.currentQueryIndex=t}function tz(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[Ft]:null}function aC(t,e,n){if(n&te.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&te.Host||(i=tz(s),null===i||(s=s[Eo],10&i.type))););if(null===i)return!1;e=i,t=s}const r=z.lFrame=uC();return r.currentTNode=e,r.lView=t,!0}function qm(t){const e=uC(),n=t[k];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function uC(){const t=z.lFrame,e=null===t?null:t.child;return null===e?cC(t):e}function cC(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function lC(){const t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const dC=lC;function Wm(){const t=lC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yt(){return z.lFrame.selectedIndex}function ps(t){z.lFrame.selectedIndex=t}function Le(){const t=z.lFrame;return Wb(t.tView,t.selectedIndex)}let fC=!0;function Ud(){return fC}function bi(t){fC=t}function jd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Bd(t,e,n){pC(t,e,3,n)}function $d(t,e,n,r){(3&t[J])===n&&pC(t,e,n,r)}function Km(t,e){let n=t[J];(3&n)===e&&(n&=8191,n+=1,t[J]=n)}function pC(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Do]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Do]+=65536),(a<s||-1==s)&&(cz(t,n,e,u),t[Do]=(4294901760&t[Do])+u+2),u++}function gC(t,e){pr(4,t,e);const n=Ln(null);try{e.call(t)}finally{Ln(n),pr(5,t,e)}}function cz(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[J]>>13<t[Do]>>16&&(3&t[J])===e&&(t[J]+=8192,gC(a,s)):gC(a,s)}const xo=-1;class Pu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ym(t){return t!==xo}function Ou(t){return 32767&t}function Fu(t,e){let n=function fz(t){return t>>16}(t),r=e;for(;n>0;)r=r[Eo],n--;return r}let Xm=!0;function Hd(t){const e=Xm;return Xm=t,e}const mC=255,yC=5;let pz=0;const mr={};function zd(t,e){const n=vC(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,Jm(r.data,t),Jm(e,null),Jm(r.blueprint,null));const i=Gd(t,e),s=t.injectorIndex;if(Ym(i)){const o=Ou(i),a=Fu(i,e),u=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Jm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function vC(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Gd(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=CC(i),null===r)return xo;if(n++,i=i[Eo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xo}function Zm(t,e,n){!function gz(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Du)&&(r=n[Du]),null==r&&(r=n[Du]=pz++);const i=r&mC;e.data[t+(i>>yC)]|=1<<i}(t,e,n)}function _C(t,e,n){if(n&te.Optional||void 0!==t)return t;_m()}function wC(t,e,n,r){if(n&te.Optional&&void 0===r&&(r=null),!(n&(te.Self|te.Host))){const i=t[Ii],s=un(void 0);try{return i?i.get(e,r,n&te.Optional):ob(e,r,n&te.Optional)}finally{un(s)}}return _C(r,0,n)}function IC(t,e,n,r=te.Default,i){if(null!==t){if(2048&e[J]&&!(r&te.Self)){const o=function Iz(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[J]&&!(512&o[J]);){const a=EC(s,o,n,r|te.Self,mr);if(a!==mr)return a;let u=s.parent;if(!u){const c=o[Tb];if(c){const l=c.get(n,mr,r);if(l!==mr)return l}u=CC(o),o=o[Eo]}s=u}return i}(t,e,n,r,mr);if(o!==mr)return o}const s=EC(t,e,n,r,mr);if(s!==mr)return s}return wC(e,n,r,i)}function EC(t,e,n,r,i){const s=function vz(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Du)?t[Du]:void 0;return"number"==typeof e?e>=0?e&mC:wz:e}(n);if("function"==typeof s){if(!aC(e,t,r))return r&te.Host?_C(i,0,r):wC(e,n,r,i);try{let o;if(o=s(r),null!=o||r&te.Optional)return o;_m()}finally{dC()}}else if("number"==typeof s){let o=null,a=vC(t,e),u=xo,c=r&te.Host?e[We][Ft]:null;for((-1===a||r&te.SkipSelf)&&(u=-1===a?Gd(t,e):e[a+8],u!==xo&&TC(r,!1)?(o=e[k],a=Ou(u),e=Fu(u,e)):a=-1);-1!==a;){const l=e[k];if(DC(s,a,l.data)){const d=yz(a,e,n,o,r,c);if(d!==mr)return d}u=e[a+8],u!==xo&&TC(r,e[k].data[a+8]===c)&&DC(s,a,e)?(o=l,a=Ou(u),e=Fu(u,e)):a=-1}}return i}function yz(t,e,n,r,i,s){const o=e[k],a=o.data[t+8],l=function qd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Xn(f)&&f.type===n)return u}return null}(a,o,n,null==r?ds(a)&&Xm:r!=o&&0!=(3&a.type),i&te.Host&&s===a);return null!==l?gs(e,o,l,a):mr}function gs(t,e,n,r){let i=t[n];const s=e.data;if(function lz(t){return t instanceof Pu}(i)){const o=i;o.resolving&&function jH(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():K(t)}(s[n]));const a=Hd(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?un(o.injectImpl):null;aC(t,r,te.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function uz(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=$b(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&un(c),Hd(a),o.resolving=!1,dC()}}return i}function DC(t,e,n){return!!(n[e+(t>>yC)]&1<<t)}function TC(t,e){return!(t&te.Self||t&te.Host&&e)}class Xt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return IC(this._tNode,this._lView,e,Cd(r),n)}}function wz(){return new Xt(St(),T())}function ey(t){return ym(t)?()=>{const e=ey(G(t));return e&&e()}:hs(t)}function CC(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[Ft]:null}const Ro="__parameters__";function ko(t,e,n){return Vr(()=>{const r=function ty(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Ro)?u[Ro]:Object.defineProperty(u,Ro,{value:[]})[Ro];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Oo(t,e){t.forEach(n=>Array.isArray(n)?Oo(n,e):e(n))}function AC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Kd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const hn=Eu(ko("Optional"),8),Yd=Eu(ko("SkipSelf"),4);function th(t){return 128==(128&t.flags)}var Ci=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ci||{});const ay=new Map;let Jz=0;const cy="__ngContext__";function Lt(t,e){ln(e)?(t[cy]=e[Au],function eG(t){ay.set(t[Au],t)}(e)):t[cy]=e}let ly;function dy(t,e){return ly(t,e)}function $u(t){const e=t[ke];return Kt(e)?e[ke]:e}function QC(t){return XC(t[Cu])}function YC(t){return XC(t[Yn])}function XC(t){for(;null!==t&&!Kt(t);)t=t[Yn];return t}function Uo(t,e,n,r,i){if(null!=r){let s,o=!1;Kt(r)?s=r:ln(r)&&(o=!0,r=r[je]);const a=be(r);0===t&&null!==n?null==i?t0(e,n,a):ms(e,n,a,i||null,!0):1===t&&null!==n?ms(e,n,a,i||null,!0):2===t?function uh(t,e,n){const r=oh(t,e);r&&function _G(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function EG(t,e,n,r,i){const s=n[fr];s!==be(n)&&Uo(e,t,r,s,i);for(let a=bt;a<n.length;a++){const u=n[a];zu(u[k],u,t,e,r,s)}}(e,t,s,n,i)}}function ih(t,e,n){return t.createElement(e,n)}function ZC(t,e){const n=t[To],r=n.indexOf(e);Qb(e),n.splice(r,1)}function sh(t,e){if(t.length<=bt)return;const n=bt+e,r=t[n];if(r){const i=r[Su];null!==i&&i!==t&&ZC(i,r),e>0&&(t[n-1][Yn]=r[Yn]);const s=Kd(t,bt+e);!function dG(t,e){zu(t,e,e[Q],2,null,null),e[je]=null,e[Ft]=null}(r[k],r);const o=s[hr];null!==o&&o.detachView(s[k]),r[ke]=null,r[Yn]=null,r[J]&=-129}return r}function fy(t,e){if(!(256&e[J])){const n=e[Q];e[xu]&&Pb(e[xu]),e[Mu]&&Pb(e[Mu]),n.destroyNode&&zu(t,e,n,3,null,null),function pG(t){let e=t[Cu];if(!e)return py(t[k],t);for(;e;){let n=null;if(ln(e))n=e[Cu];else{const r=e[bt];r&&(n=r)}if(!n){for(;e&&!e[Yn]&&e!==t;)ln(e)&&py(e[k],e),e=e[ke];null===e&&(e=t),ln(e)&&py(e[k],e),n=e&&e[Yn]}e=n}}(e)}}function py(t,e){if(!(256&e[J])){e[J]&=-129,e[J]|=256,function vG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Pu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];pr(4,a,u);try{u.call(a)}finally{pr(5,a,u)}}else{pr(4,i,s);try{s.call(i)}finally{pr(5,i,s)}}}}}(t,e),function yG(t,e){const n=t.cleanup,r=e[wo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[wo]=null);const i=e[Ei];if(null!==i){e[Ei]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[Q].destroy();const n=e[Su];if(null!==n&&Kt(e[ke])){n!==e[ke]&&ZC(n,e);const r=e[hr];null!==r&&r.detachView(t)}!function tG(t){ay.delete(t[Au])}(e)}}function gy(t,e,n){return function e0(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[je];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Kn.None||s===Kn.Emulated)return null}return dn(r,n)}}(t,e.parent,n)}function ms(t,e,n,r,i){t.insertBefore(e,n,r,i)}function t0(t,e,n){t.appendChild(e,n)}function n0(t,e,n,r,i){null!==r?ms(t,e,n,r,i):t0(t,e,n)}function oh(t,e){return t.parentNode(e)}let my,wy,lh,o0=function s0(t,e,n){return 40&t.type?dn(t,n):null};function ah(t,e,n,r){const i=gy(t,r,e),s=e[Q],a=function r0(t,e,n){return o0(t,e,n)}(r.parent||e[Ft],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)n0(s,i,n[u],a,!1);else n0(s,i,n,a,!1);void 0!==my&&my(s,r,e,n,i)}function Hu(t,e){if(null!==e){const n=e.type;if(3&n)return dn(e,t);if(4&n)return yy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Hu(t,r);{const i=t[e.index];return Kt(i)?yy(-1,i):be(i)}}if(32&n)return dy(e,t)()||be(t[e.index]);{const r=u0(t,e);return null!==r?Array.isArray(r)?r[0]:Hu($u(t[We]),r):Hu(t,e.next)}}return null}function u0(t,e){return null!==e?t[We][Ft].projection[e.projection]:null}function yy(t,e){const n=bt+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return Hu(r,i)}return e[fr]}function vy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Lt(be(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)vy(t,e,n.child,r,i,s,!1),Uo(e,t,i,a,s);else if(32&u){const c=dy(n,r);let l;for(;l=c();)Uo(e,t,i,l,s);Uo(e,t,i,a,s)}else 16&u?l0(t,e,r,n,i,s):Uo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function zu(t,e,n,r,i,s){vy(n,r,t.firstChild,e,i,s,!1)}function l0(t,e,n,r,i,s){const o=n[We],u=o[Ft].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Uo(e,t,i,u[c],s);else{let c=u;const l=o[ke];th(r)&&(c.flags|=128),vy(t,e,c,l,i,s,!0)}}function d0(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function h0(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Mm(t,e,r),null!==i&&d0(t,e,i),null!==s&&function TG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function g0(t){return function Iy(){if(void 0===lh&&(lh=null,Te.trustedTypes))try{lh=Te.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lh}()?.createScriptURL(t)||t}class m0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nb})`}}function Si(t){return t instanceof m0?t.changingThisBreaksApplicationSecurity:t}function Gu(t,e){const n=function PG(t){return t instanceof m0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${nb})`)}return n===e}const VG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var $o=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}($o||{});function hh(t){const e=Wu();return e?e.sanitize($o.URL,t)||"":Gu(t,"URL")?Si(t):function Ey(t){return(t=String(t)).match(VG)?t:"unsafe:"+t}(K(t))}function D0(t){const e=Wu();if(e)return g0(e.sanitize($o.RESOURCE_URL,t)||"");if(Gu(t,"ResourceURL"))return g0(Si(t));throw new S(904,!1)}function Wu(){const t=T();return t&&t[Io].sanitizer}class F{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ku=new F("ENVIRONMENT_INITIALIZER"),b0=new F("INJECTOR",-1),C0=new F("INJECTOR_DEF_TYPES");class Cy{get(e,n=Iu){if(n===Iu){const r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}}function XG(...t){return{\u0275providers:S0(0,t),\u0275fromNgModule:!0}}function S0(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Oo(e,o=>{const a=o;fh(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&A0(i,s),n}function A0(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Ay(i,s=>{e(s,r)})}}function fh(t,e,n,r){if(!(t=G(t)))return!1;let i=null,s=Dd(t);const o=!s&&oe(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=Dd(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)fh(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Oo(s.imports,l=>{fh(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&A0(c,e)}if(!a){const c=hs(i)||(()=>new i);e({provide:i,useFactory:c,deps:de},i),e({provide:C0,useValue:i,multi:!0},i),e({provide:Ku,useValue:()=>L(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;Ay(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function Ay(t,e){for(let n of t)vm(n)&&(n=n.\u0275providers),Array.isArray(n)?Ay(n,e):e(n)}const JG=me({provide:String,useValue:me});function xy(t){return null!==t&&"object"==typeof t&&JG in t}function ys(t){return"function"==typeof t}const My=new F("Set Injector scope."),ph={},e3={};let Ry;function gh(){return void 0===Ry&&(Ry=new Cy),Ry}class bn{}class mh extends bn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ky(e,o=>this.processProvider(o)),this.records.set(b0,Ho(void 0,this)),i.has("environment")&&this.records.set(bn,Ho(void 0,this));const s=this.records.get(My);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(C0.multi,de,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=wi(this),r=un(void 0);try{return e()}finally{wi(n),un(r)}}get(e,n=Iu,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(db))return e[db](this);r=Cd(r);const s=wi(this),o=un(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function s3(t){return"function"==typeof t||"object"==typeof t&&t instanceof F}(e)&&Ed(e);u=c&&this.injectableDefInScope(c)?Ho(Ny(e),ph):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&te.Self?gh():this.parent).get(e,n=r&te.Optional&&n===Iu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[bd]=a[bd]||[]).unshift(ut(e)),s)throw a;return function t4(t,e,n,r){const i=t[bd];throw e[ub]&&i.unshift(e[ub]),t.message=function n4(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(YH,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[bd]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{un(o),wi(s)}}resolveInjectorInitializers(){const e=wi(this),n=un(void 0);try{const i=this.get(Ku.multi,de,te.Self);for(const s of i)s()}finally{wi(e),un(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=ys(e=G(e))?e:G(e&&e.provide);const r=function n3(t){return xy(t)?Ho(void 0,t.useValue):Ho(function R0(t,e,n){let r;if(ys(t)){const i=G(t);return hs(i)||Ny(i)}if(xy(t))r=()=>G(t.useValue);else if(function M0(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Sm(t.deps||[]));else if(function x0(t){return!(!t||!t.useExisting)}(t))r=()=>L(G(t.useExisting));else{const i=G(t&&(t.useClass||t.provide));if(!function r3(t){return!!t.deps}(t))return hs(i)||Ny(i);r=()=>new i(...Sm(t.deps))}return r}(t),ph)}(e);if(ys(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ho(void 0,ph,!0),i.factory=()=>Sm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ph&&(n.value=e3,n.value=n.factory()),"object"==typeof n.value&&n.value&&function i3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=G(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ny(t){const e=Ed(t),n=null!==e?e.factory:hs(t);if(null!==n)return n;if(t instanceof F)throw new S(204,!1);if(t instanceof Function)return function t3(t){const e=t.length;if(e>0)throw function Uu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function qH(t){return t&&(t[Td]||t[ib])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function Ho(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ky(t,e){for(const n of t)Array.isArray(n)?ky(n,e):n&&vm(n)?ky(n.\u0275providers,e):e(n)}const yh=new F("AppId",{providedIn:"root",factory:()=>o3}),o3="ng",N0=new F("Platform Initializer"),zr=new F("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),k0=new F("CSP nonce",{providedIn:"root",factory:()=>function Bo(){if(void 0!==wy)return wy;if(typeof document<"u")return document;throw new S(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let P0=(t,e,n)=>null;function By(t,e,n=!1){return P0(t,e,n)}class m3{}class L0{}class v3{resolveComponentFactory(e){throw function y3(t){const e=Error(`No component factory found for ${ut(t)}.`);return e.ngComponent=t,e}(e)}}let Dh=(()=>{class e{}return e.NULL=new v3,e})();function _3(){return qo(St(),T())}function qo(t,e){return new Ai(dn(t,e))}let Ai=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=_3,e})();class U0{}let Th=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function I3(){const t=T(),n=Dn(St().index,t);return(ln(n)?n:t)[Q]}(),e})(),E3=(()=>{var t;class e{}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),e})();class Xu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const j0=new Xu("16.2.4"),zy={};function z0(t,e=null,n=null,r){const i=G0(t,e,n,r);return i.resolveInjectorInitializers(),i}function G0(t,e=null,n=null,r,i=new Set){const s=[n||de,XG(t)];return r=r||("object"==typeof t?void 0:ut(t)),new mh(s,e||gh(),r||null,i)}let pn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return z0({name:""},i,r,"");{const s=r.name??"";return z0({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=Iu,t.NULL=new Cy,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>L(b0)}),t.__NG_ELEMENT_ID__=-1,e})();function Wy(t){return e=>{setTimeout(t,void 0,e)}}const Jt=class x3 extends Gn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Wy(s),i&&(i=Wy(i)),o&&(o=Wy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof an&&e.add(a),a}};function q0(...t){}class ye{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jt(!1),this.onMicrotaskEmpty=new Jt(!1),this.onStable=new Jt(!1),this.onError=new Jt(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function M3(){const t="function"==typeof Te.requestAnimationFrame;let e=Te[t?"requestAnimationFrame":"setTimeout"],n=Te[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function k3(t){const e=()=>{!function N3(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Te,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qy(t),t.isCheckStableRunning=!0,Ky(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function O3(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return W0(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),K0(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return W0(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),K0(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Qy(t),Ky(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ye.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(ye.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,R3,q0,q0);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const R3={};function Ky(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function W0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function K0(t){t._nesting--,Ky(t)}class P3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jt,this.onMicrotaskEmpty=new Jt,this.onStable=new Jt,this.onError=new Jt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const Q0=new F("",{providedIn:"root",factory:Y0});function Y0(){const t=P(ye);let e=!0;return function FH(...t){const e=wu(t),n=function xH(t,e){return"number"==typeof fm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Pn(r[0]):mo(n)(pt(r,e)):cr}(new Fe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Fe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{ye.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(tb()))}function Gr(t){return t instanceof Function?t():t}let Yy=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new S(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),e})();function Ju(t){for(;t;){t[J]|=64;const e=$u(t);if(km(t)&&!e)return t;t=e}return null}function Xy(t){return t.ngOriginalError}class vs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Xy(e);for(;n&&Xy(n);)n=Xy(n);return n||null}}const tS=new F("",{providedIn:"root",factory:()=>!1});let Ch=null;function sS(t,e){return t[e]??uS()}function oS(t,e){const n=uS();n.producerNode?.length&&(t[e]=Ch,n.lView=t,Ch=aS())}const G3={...kd,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ju(t.lView)},lView:null};function aS(){return Object.create(G3)}function uS(){return Ch??=aS(),Ch}const X={};function Vt(t){cS(ae(),T(),Yt()+t,!1)}function cS(t,e,n,r){if(!r)if(3==(3&e[J])){const s=t.preOrderCheckHooks;null!==s&&Bd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&$d(e,s,0,n)}ps(n)}function B(t,e=te.Default){const n=T();return null===n?L(t,e):IC(St(),n,G(t),e)}function Sh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[je]=i,d[J]=140|r,(null!==c||t&&2048&t[J])&&(d[J]|=2048),Kb(d),d[ke]=d[Eo]=t,d[qe]=n,d[Io]=o||t&&t[Io],d[Q]=a||t&&t[Q],d[Ii]=u||t&&t[Ii]||null,d[Ft]=s,d[Au]=function Zz(){return Jz++}(),d[jr]=l,d[Tb]=c,d[We]=2==e.type?t[We]:d,d}function Qo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Jy(t,e,n,r,i){const s=nC(),o=Bm(),u=t.data[e]=function Z3(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function So(){return null!==z.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function J4(){return z.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ku(){const t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return gr(s,!0),s}function Zu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function dS(t,e,n,r,i){const s=sS(e,xu),o=Yt(),a=2&r;try{ps(-1),a&&e.length>ne&&cS(t,e,ne,!1),pr(a?2:0,i);const c=a?s:null,l=Pd(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{Od(c,l)}}finally{a&&null===e[xu]&&oS(e,xu),ps(o),pr(a?3:1,i)}}function Zy(t,e,n){if(Nm(e)){const r=Ln(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Ln(r)}}}function ev(t,e,n){Zb()&&(function oq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;ds(n)&&function fq(t,e,n){const r=dn(e,t),i=hS(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Ah(t,Sh(t,i,null,o,r,e,null,t[Io].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||zd(n,e),Lt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=gs(e,t,a,n);Lt(c,e),null!==o&&pq(0,a-i,c,u,0,o),Xn(u)&&(Dn(n.index,e)[qe]=gs(e,t,a,n))}}(t,e,n,dn(n,e)),64==(64&n.flags)&&yS(t,e,n))}function tv(t,e,n=dn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function hS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=nv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function nv(t,e,n,r,i,s,o,a,u,c,l){const d=ne+r,h=d+i,f=function W3(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:X);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let fS=t=>null;function pS(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?gS(n,e,i,s):r.hasOwnProperty(i)&&gS(n,e,r[i],s)}return n}function gS(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Cn(t,e,n,r,i,s,o,a){const u=dn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(av(t,n,l,r,i),ds(e)&&function nq(t,e){const n=Dn(e,t);16&n[J]||(n[J]|=64)}(n,e.index)):3&e.type&&(r=function tq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function rv(t,e,n,r){if(Zb()){const i=null===r?null:{"":-1},s=function uq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(vb(e,o.selectors,!1))if(r||(r=[]),Xn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),iv(t,e,a.length)}else r.unshift(o),iv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&mS(t,e,n,o,i,a),i&&function cq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Tu(n.mergedAttrs,n.attrs)}function mS(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Zm(zd(n,e),t,r[c].type);!function dq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Zu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Tu(n.mergedAttrs,l.hostAttrs),hq(t,n,e,u,l),lq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function eq(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=pS(d.inputs,l,u,h?h.inputs:null),c=pS(d.outputs,l,c,p);const g=null===u||null===o||yb(e)?null:gq(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function yS(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function ez(){return z.lFrame.currentDirectiveIndex}();try{ps(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Hm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&aq(u,c)}}finally{ps(-1),Hm(o)}}function aq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function iv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function lq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xn(e)&&(n[""]=t)}}function hq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=hs(i.type)),o=new Pu(s,Xn(i),B);t.blueprint[r]=o,n[r]=o,function iq(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function sq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Zu(t,n,i.hostVars,X),i)}function yr(t,e,n,r,i,s){const o=dn(t,e);!function sv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?K(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[Q],o,s,t.value,n,r,i)}function pq(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)vS(r,n,o[a++],o[a++],o[a++])}function vS(t,e,n,r,i){const s=Ln(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Ln(s)}}function gq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function _S(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function wS(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Gm(n[r]),o.contentQueries(2,e[s],s)}}}function Ah(t,e){return t[Cu]?t[Db][Yn]=e:t[Cu]=e,t[Db]=e,e}function ov(t,e,n){Gm(0);const r=Ln(null);try{e(t,n)}finally{Ln(r)}}function TS(t,e){const n=t[Ii],r=n?n.get(vs,null):null;r&&r.handleError(e)}function av(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];vS(t.data[o],e[o],r,a,i)}}function qr(t,e,n){const r=function Vd(t,e){return be(e[t])}(e,t);!function JC(t,e,n){t.setValue(e,n)}(t[Q],r,n)}function mq(t,e){const n=Dn(e,t),r=n[k];!function yq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[je];null!==i&&null===n[jr]&&(n[jr]=By(i,n[Ii])),uv(r,n,n[qe])}function uv(t,e,n){qm(e);try{const r=t.viewQuery;null!==r&&ov(1,r,n);const i=t.template;null!==i&&dS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wS(t,e),t.staticViewQueries&&ov(2,t.viewQuery,n);const s=t.components;null!==s&&function vq(t,e){for(let n=0;n<e.length;n++)mq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,Wm()}}let bS=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function M4(t,e,n){const r=Object.create(R4);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Nb(r),run:()=>{if(r.dirty=!1,r.hasRun&&!kb(r))return;r.hasRun=!0;const o=Pd(r);try{r.cleanupFn(),r.cleanupFn=Bb,r.fn(i)}finally{Od(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,l=>{this.all.has(l)&&this.queue.set(l,o)},s);let u;this.all.add(a),a.notify();const c=()=>{a.cleanup(),u?.(),this.all.delete(a),this.queue.delete(a)};return u=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),e})();function xh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=gm(i,a):2==s&&(r=gm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ec(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(be(s)),Kt(s)&&CS(s,r);const o=n.type;if(8&o)ec(t,e,n.child,r);else if(32&o){const a=dy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=u0(e,n);if(Array.isArray(a))r.push(...a);else{const u=$u(e[We]);ec(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function CS(t,e){for(let n=bt;n<t.length;n++){const r=t[n],i=r[k].firstChild;null!==i&&ec(r[k],r,i,e)}t[fr]!==t[je]&&e.push(t[fr])}function Mh(t,e,n,r=!0){const i=e[Io],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{SS(t,e,t.template,n)}catch(u){throw r&&TS(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function SS(t,e,n,r){const i=e[J];if(256!=(256&i)){e[Io].effectManager?.flush(),qm(e);try{Kb(e),function iC(t){return z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&dS(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Bd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&$d(e,c,0,null),Km(e,0)}if(function Iq(t){for(let e=QC(t);null!==e;e=YC(e)){if(!e[bb])continue;const n=e[To];for(let r=0;r<n.length;r++){B4(n[r])}}}(e),AS(e,2),null!==t.contentQueries&&wS(t,e),o){const c=t.contentCheckHooks;null!==c&&Bd(e,c)}else{const c=t.contentHooks;null!==c&&$d(e,c,1),Km(e,1)}!function q3(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=sS(e,Mu);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ps(~s);else{const o=s,a=n[++i],u=n[++i];Z4(a,o),r.dirty=!1;const c=Pd(r);try{u(2,e[o])}finally{Od(r,c)}}}}finally{null===e[Mu]&&oS(e,Mu),ps(-1)}}(t,e);const a=t.components;null!==a&&MS(e,a,0);const u=t.viewQuery;if(null!==u&&ov(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Bd(e,c)}else{const c=t.viewHooks;null!==c&&$d(e,c,2),Km(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[J]&=-73,Qb(e)}finally{Wm()}}}function AS(t,e){for(let n=QC(t);null!==n;n=YC(n))for(let r=bt;r<n.length;r++)xS(n[r],e)}function Eq(t,e,n){xS(Dn(e,t),n)}function xS(t,e){if(!function U4(t){return 128==(128&t[J])}(t))return;const n=t[k],r=t[J];if(80&r&&0===e||1024&r||2===e)SS(n,t,n.template,t[qe]);else if(t[bu]>0){AS(t,1);const i=n.components;null!==i&&MS(t,i,1)}}function MS(t,e,n){for(let r=0;r<e.length;r++)Eq(t,e[r],n)}class tc{get rootNodes(){const e=this._lView,n=e[k];return ec(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qe]}set context(e){this._lView[qe]=e}get destroyed(){return 256==(256&this._lView[J])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ke];if(Kt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(sh(e,r),Kd(n,r))}this._attachedToViewContainer=!1}fy(this._lView[k],this._lView)}onDestroy(e){!function Xb(t,e){if(256==(256&t[J]))throw new S(911,!1);null===t[Ei]&&(t[Ei]=[]),t[Ei].push(e)}(this._lView,e)}markForCheck(){Ju(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){this._lView[J]|=128}detectChanges(){Mh(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fG(t,e){zu(t,e,e[Q],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class Dq extends tc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Mh(e[k],e,e[qe],!1)}checkNoChanges(){}get context(){return null}}class RS extends Dh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=oe(e);return new nc(n,this.ngModule)}}function NS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class bq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Cd(r);const i=this.injector.get(e,zy,r);return i!==zy||n===zy?i:this.parentInjector.get(e,n,r)}}class nc extends L0{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=NS(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return NS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function h4(t){return t.map(d4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof bn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new bq(e,s):e,a=o.get(U0,null);if(null===a)throw new S(407,!1);const d={rendererFactory:a,sanitizer:o.get(E3,null),effectManager:o.get(bS,null),afterRenderEventManager:o.get(Yy,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function K3(t,e,n,r){const s=r.get(tS,!1)||n===Kn.ShadowDom,o=t.selectRootElement(e,s);return function Q3(t){fS(t)}(o),o}(h,r,this.componentDef.encapsulation,o):ih(h,f,function Tq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=By(p,o,!0));const E=nv(0,null,null,1,0,null,null,null,null,null,null),D=Sh(null,E,null,y,null,null,d,h,o,null,v);let N,W;qm(D);try{const he=this.componentDef;let et,Et=null;he.findHostDirectiveDefs?(et=[],Et=new Map,he.findHostDirectiveDefs(he,et,Et),et.push(he)):et=[he];const fd=function Sq(t,e){const n=t[k],r=ne;return t[r]=e,Qo(n,r,2,"#host",null)}(D,p),em=function Aq(t,e,n,r,i,s,o){const a=i[k];!function xq(t,e,n,r){for(const i of t)e.mergedAttrs=Tu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(xh(e,e.mergedAttrs,!0),null!==n&&h0(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=By(e,i[Ii]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Sh(i,hS(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&iv(a,t,r.length-1),Ah(i,d),i[t.index]=d}(fd,p,he,et,D,d,h);W=Wb(E,ne),p&&function Rq(t,e,n,r){if(r)Mm(t,n,["ng-version",j0.full]);else{const{attrs:i,classes:s}=function f4(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Qn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Mm(t,n,i),s&&s.length>0&&d0(t,n,s.join(" "))}}(h,he,p,r),void 0!==n&&function Nq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(W,this.ngContentSelectors,n),N=function Mq(t,e,n,r,i,s){const o=St(),a=i[k],u=dn(o,i);mS(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Lt(gs(i,a,o.directiveStart+l,o),i);yS(a,i,o),u&&Lt(u,i);const c=gs(i,a,o.directiveStart+o.componentOffset,o);if(t[qe]=i[qe]=c,null!==s)for(const l of s)l(c,e);return Zy(a,o,t),c}(em,he,et,Et,D,[kq]),uv(E,D,null)}finally{Wm()}return new Cq(this.componentType,N,qo(W,D),D,W)}}class Cq extends m3{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Dq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;av(s[k],s,i,e,n),this.previousInputValues.set(e,n),Ju(Dn(this._tNode.index,s))}}get injector(){return new Xt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function kq(){const t=St();jd(T()[k],t)}function VS(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Nh(t){return!!function cv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ut(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function lv(t,e,n,r){const i=T();return Ut(i,Ao(),e)&&(ae(),yr(Le(),i,t,e,n,r)),lv}function Xo(t,e,n,r){return Ut(t,Ao(),n)?e+K(n)+r:X}function Jo(t,e,n,r,i,s){const a=function _s(t,e,n,r){const i=Ut(t,e,n);return Ut(t,e+1,r)||i}(t,function Br(){return z.lFrame.bindingIndex}(),n,i);return function $r(t){const e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2),a?e+K(n)+r+K(i)+s:X}function xi(t,e,n,r,i,s,o,a){const u=T(),c=ae(),l=t+ne,d=c.firstCreatePass?function u6(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Qo(e,t,4,o||null,Ti(c,a));rv(e,n,l,Ti(c,u)),jd(e,l);const d=l.tView=nv(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];gr(d,!1);const h=XS(c,u,d,t);Ud()&&ah(c,u,h,d),Lt(h,u),Ah(u,u[l]=_S(h,u,h,d)),Rd(d)&&ev(c,u,d),null!=o&&tv(u,d,a)}let XS=function JS(t,e,n,r){return bi(!0),e[Q].createComment("")};function Lh(t){return Co(function X4(){return z.lFrame.contextLView}(),ne+t)}function Wr(t,e,n){const r=T();return Ut(r,Ao(),e)&&Cn(ae(),Le(),r,t,e,r[Q],n,!1),Wr}function mv(t,e,n,r,i){const o=i?"class":"style";av(t,n,e.inputs[o],o,r)}function Ee(t,e,n,r){const i=T(),s=ae(),o=ne+t,a=i[Q],u=s.firstCreatePass?function h6(t,e,n,r,i,s){const o=e.consts,u=Qo(e,t,2,r,Ti(o,i));return rv(e,n,u,Ti(o,s)),null!==u.attrs&&xh(u,u.attrs,!1),null!==u.mergedAttrs&&xh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=ZS(s,i,u,a,e,t);i[o]=c;const l=Rd(u);return gr(u,!0),h0(a,c,u),32!=(32&u.flags)&&Ud()&&ah(s,i,c,u),0===function H4(){return z.lFrame.elementDepthCount}()&&Lt(c,i),function z4(){z.lFrame.elementDepthCount++}(),l&&(ev(s,i,u),Zy(s,u,i)),null!==r&&tv(i,u),Ee}function Pe(){let t=St();Bm()?function $m(){z.lFrame.isParent=!1}():(t=t.parent,gr(t,!1));const e=t;(function q4(t){return z.skipHydrationRootTNode===t})(e)&&function Y4(){z.skipHydrationRootTNode=null}(),function G4(){z.lFrame.elementDepthCount--}();const n=ae();return n.firstCreatePass&&(jd(n,t),Nm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function dz(t){return 0!=(8&t.flags)}(e)&&mv(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function hz(t){return 0!=(16&t.flags)}(e)&&mv(n,e,T(),e.stylesWithoutHost,!1),Pe}function Mi(t,e,n,r){return Ee(t,e,n,r),Pe(),Mi}let ZS=(t,e,n,r,i,s)=>(bi(!0),ih(r,i,function hC(){return z.lFrame.currentNamespace}()));function Vh(t){return!!t&&"function"==typeof t.then}function rA(t){return!!t&&"function"==typeof t.subscribe}function Uh(t,e,n,r){const i=T(),s=ae(),o=St();return function sA(t,e,n,r,i,s,o){const a=Rd(r),c=t.firstCreatePass&&function ES(t){return t.cleanup||(t.cleanup=[])}(t),l=e[qe],d=function IS(t){return t[wo]||(t[wo]=[])}(e);let h=!0;if(3&r.type||o){const g=dn(r,e),m=o?o(g):g,y=d.length,v=o?D=>o(be(D[r.index])):r.index;let E=null;if(!o&&a&&(E=function v6(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[wo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=aA(r,e,l,s,!1);const D=n.listen(m,i,s);d.push(s,D),c&&c.push(i,v,y,y+1)}}else s=aA(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const N=e[p[m]][p[m+1]].subscribe(s),W=d.length;d.push(s,N),c&&c.push(i,r.index,W,-(W+1))}}}(s,i,i[Q],o,t,e,r),Uh}function oA(t,e,n,r){try{return pr(6,e,n),!1!==n(r)}catch(i){return TS(t,i),!1}finally{pr(7,e,n)}}function aA(t,e,n,r,i){return function s(o){if(o===Function)return r;Ju(t.componentOffset>-1?Dn(t.index,e):e);let u=oA(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=oA(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function ac(t=1){return function nz(t){return(z.lFrame.contextLView=function rz(t,e){for(;t>0;)e=e[Eo],t--;return e}(t,z.lFrame.contextLView))[qe]}(t)}function jh(t,e,n){return uc(t,"",e,"",n),jh}function uc(t,e,n,r,i){const s=T(),o=Xo(s,e,n,r);return o!==X&&Cn(ae(),Le(),s,t,o,s[Q],i,!1),uc}function dt(t,e=""){const n=T(),r=ae(),i=t+ne,s=r.firstCreatePass?Qo(r,i,1,e,null):r.data[i],o=RA(r,n,s,e,t);n[i]=o,Ud()&&ah(r,n,o,s),gr(s,!1)}let RA=(t,e,n,r,i)=>(bi(!0),function rh(t,e){return t.createText(e)}(e[Q],r));function Ni(t){return Dv("",t,""),Ni}function Dv(t,e,n){const r=T(),i=Xo(r,t,e,n);return i!==X&&qr(r,Yt(),i),Dv}function Tv(t,e,n,r,i){const s=T(),o=Jo(s,t,e,n,r,i);return o!==X&&qr(s,Yt(),o),Tv}const aa="en-US";let JA=aa;class Es{}class Tx{}class Rv extends Es{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new RS(this);const i=En(e);this._bootstrapComponents=Gr(i.bootstrap),this._r3Injector=G0(e,n,[{provide:Es,useValue:this},{provide:Dh,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Nv extends Tx{constructor(e){super(),this.moduleType=e}create(e){return new Rv(this.moduleType,e,[])}}class bx extends Es{constructor(e){super(),this.componentFactoryResolver=new RS(this),this.instance=null;const n=new mh([...e.providers,{provide:Es,useValue:this},{provide:Dh,useValue:this.componentFactoryResolver}],e.parent||gh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function kv(t,e,n=null){return new bx({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let p9=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=S0(0,r.type),s=i.length>0?kv([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(L(bn))}),e})();function Cx(t){t.getStandaloneInjector=e=>e.get(p9).getOrCreateStandaloneInjector(t)}function Px(t,e,n,r,i,s){const o=e+n;return Ut(t,o,i)?function vr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function gc(t,e){const n=t[e];return n===X?void 0:n}(t,o+1)}function Wh(t,e){const n=ae();let r;const i=t+ne;n.firstCreatePass?(r=function N9(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=hs(r.type)),a=un(B);try{const u=Hd(!1),c=s();return Hd(u),function d6(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,T(),i,c),c}finally{un(a)}}function Kh(t,e,n){const r=t+ne,i=T(),s=Co(i,r);return function mc(t,e){return t[k].data[e].pure}(i,r)?Px(i,Qt(),e,s.transform,n,s):s.transform(n)}function U9(t,e,n,r=!0){const i=e[k];if(function gG(t,e,n,r){const i=bt+r,s=n.length;r>0&&(n[i-1][Yn]=e),r<s-bt?(e[Yn]=n[i],AC(n,bt+r,e)):(n.push(e),e[Yn]=null),e[ke]=n;const o=e[Su];null!==o&&n!==o&&function mG(t,e){const n=t[To];e[We]!==e[ke][ke][We]&&(t[bb]=!0),null===n?t[To]=[e]:n.push(e)}(o,e);const a=e[hr];null!==a&&a.insertView(t),e[J]|=128}(i,e,t,n),r){const s=yy(n,t),o=e[Q],a=oh(o,t[fr]);null!==a&&function hG(t,e,n,r,i,s){r[je]=i,r[Ft]=e,zu(t,r,n,1,i,s)}(i,t[Ft],o,e,a,s)}}let Kr=(()=>{class e{}return e.__NG_ELEMENT_ID__=$9,e})();const j9=Kr,B9=class extends j9{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function V9(t,e,n,r){const i=e.tView,a=Sh(t,i,n,4096&t[J]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Su]=t[e.index];const c=t[hr];return null!==c&&(a[hr]=c.createEmbeddedView(i)),uv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new tc(i)}};function $9(){return Qh(St(),T())}function Qh(t,e){return 4&t.type?new B9(e,t,qo(t,e)):null}let er=(()=>{class e{}return e.__NG_ELEMENT_ID__=K9,e})();function K9(){return function Gx(t,e){let n;const r=e[t.index];return Kt(r)?n=r:(n=_S(r,e,null,t),e[t.index]=n,Ah(e,n)),qx(n,e,t,r),new Hx(n,t,e)}(St(),T())}const Q9=er,Hx=class extends Q9{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qo(this._hostTNode,this._hostLView)}get injector(){return new Xt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Gd(this._hostTNode,this._hostLView);if(Ym(e)){const n=Fu(e,this._hostLView),r=Ou(e);return new Xt(n[k].data[r+8],n)}return new Xt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=zx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-bt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Vu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new nc(oe(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(bn,null);m&&(s=m)}oe(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function j4(t){return Kt(t[ke])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[ke],l=new Hx(c,c[Ft],c[ke]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return U9(a,i,o,!r),e.attachToViewContainerRef(),AC(Fv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=zx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=sh(this._lContainer,n);r&&(Kd(Fv(this._lContainer),n),fy(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=sh(this._lContainer,n);return r&&null!=Kd(Fv(this._lContainer),n)?new tc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function zx(t){return t[8]}function Fv(t){return t[8]||(t[8]=[])}let qx=function Wx(t,e,n,r){if(t[fr])return;let i;i=8&n.type?be(r):function Y9(t,e){const n=t[Q],r=n.createComment(""),i=dn(e,t);return ms(n,oh(n,i),r,function wG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[fr]=i};function $v(t,e){return Qh(t,e)}const Kv=new F("Application Initializer");let Qv=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=P(Kv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Vh(o))r.push(o);else if(rA(o)){const a=new Promise((u,c)=>{o.subscribe({complete:u,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),vM=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Qr=new F("LocaleId",{providedIn:"root",factory:()=>P(Qr,te.Optional|te.SkipSelf)||function CW(){return typeof $localize<"u"&&$localize.locale||aa}()});let Jh=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new On(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class xW{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let _M=(()=>{var t;class e{compileModuleSync(r){return new Nv(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Gr(En(r).declarations).reduce((a,u)=>{const c=oe(u);return c&&a.push(new nc(c)),a},[]);return new xW(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const DM=new F(""),ef=new F("");let e_,Jv=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,e_||(function QW(t){e_=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(L(ye),L(Zv),L(ef))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})(),Zv=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return e_?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),ki=null;const TM=new F("AllowMultipleToken"),t_=new F("PlatformDestroyListeners"),n_=new F("appBootstrapListener");class CM{constructor(e,n){this.name=e,this.token=n}}function AM(t,e,n=[]){const r=`Platform: ${e}`,i=new F(r);return(s=[])=>{let o=r_();if(!o||o.injector.get(TM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function JW(t){if(ki&&!ki.get(TM,!1))throw new S(400,!1);(function bM(){!function b4(t){Lb=t}(()=>{throw new S(600,!1)})})(),ki=t;const e=t.get(MM);(function SM(t){t.get(N0,null)?.forEach(n=>n())})(t)}(function xM(t=[],e){return pn.create({name:e,providers:[{provide:My,useValue:"platform"},{provide:t_,useValue:new Set([()=>ki=null])},...t]})}(a,r))}return function e7(t){const e=r_();if(!e)throw new S(401,!1);return e}()}}function r_(){return ki?.get(MM)??null}let MM=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function t7(t="zone.js",e){return"noop"===t?new P3:"zone.js"===t?new ye(e):t}(i?.ngZone,function RM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function f9(t,e,n){return new Rv(t,e,n)}(r.moduleType,this.injector,function FM(t){return[{provide:ye,useFactory:t},{provide:Ku,multi:!0,useFactory:()=>{const e=P(r7,{optional:!0});return()=>e.initialize()}},{provide:OM,useFactory:n7},{provide:Q0,useFactory:Y0}]}(()=>s)),a=o.injector.get(vs,null);return s.runOutsideAngular(()=>{const u=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{tf(this._modules,o),u.unsubscribe()})}),function NM(t,e,n){try{const r=n();return Vh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const u=o.injector.get(Qv);return u.runInitializers(),u.donePromise.then(()=>(function ZA(t){Fn(t,"Expected localeId to be defined"),"string"==typeof t&&(JA=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Qr,aa)||aa),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=kM({},i);return function YW(t,e,n){const r=new Nv(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(la);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new S(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(t_,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(L(pn))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function kM(t,e){return Array.isArray(e)?e.reduce(kM,t):{...t,...e}}let la=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(OM),this.zoneIsStable=P(Q0),this.componentTypes=[],this.components=[],this.isStable=P(Jh).hasPendingTasks.pipe(qn(r=>r?$(!1):this.zoneIsStable),function LH(t,e=vi){return t=t??VH,ot((n,r)=>{let i,s=!0;n.subscribe(at(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),tb()),this._injector=P(bn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof L0;if(!this._injector.get(Qv).done)throw!s&&function _o(t){const e=oe(t)||Tt(t)||Wt(t);return null!==e&&e.standalone}(r),new S(405,!1);let a;a=s?r:this._injector.get(Dh).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const u=function XW(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Es),l=a.create(pn.NULL,[],i||a.selector,u),d=l.location.nativeElement,h=l.injector.get(DM,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),tf(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;tf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(n_,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>tf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function tf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const OM=new F("",{providedIn:"root",factory:()=>P(vs).handleError.bind(void 0)});function n7(){const t=P(ye),e=P(vs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let r7=(()=>{var t;class e{constructor(){this.zone=P(ye),this.applicationRef=P(la)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let i_=(()=>{class e{}return e.__NG_ELEMENT_ID__=s7,e})();function s7(t){return function o7(t,e,n){if(ds(t)&&!n){const r=Dn(t.index,e);return new tc(r,r)}return 47&t.type?new tc(e[We],e):null}(St(),T(),16==(16&t))}class jM{constructor(){}supports(e){return Nh(e)}create(e){return new h7(e)}}const d7=(t,e)=>e;class h7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||d7}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<$M(r,i,s)?n:r,a=$M(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Nh(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function zq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new f7(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new BM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class f7{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class p7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class BM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new p7,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $M(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function zM(){return new sf([new jM])}let sf=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||zM()),deps:[[e,new Yd,new hn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:zM}),e})();const _7=AM(null,"core",[]);let w7=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(L(la))},t.\u0275mod=dr({type:t}),t.\u0275inj=Wn({}),e})();function l_(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let d_=null;function da(){return d_}class P7{}const Sn=new F("DocumentToken");let h_=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(F7)},providedIn:"platform"}),e})();const O7=new F("Location Initialized");let F7=(()=>{var t;class e extends h_{constructor(){super(),this._doc=P(Sn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return da().getBaseHref(this._doc)}onPopState(r){const i=da().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=da().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function f_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function eR(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Yr(t){return t&&"?"!==t[0]?"?"+t:t}let Ts=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(nR)},providedIn:"root"}),e})();const tR=new F("appBaseHref");let nR=(()=>{var t;class e extends Ts{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??P(Sn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return f_(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Yr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Yr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Yr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(L(h_),L(tR,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),L7=(()=>{var t;class e extends Ts{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=f_(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Yr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Yr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(L(h_),L(tR,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})(),p_=(()=>{var t;class e{constructor(r){this._subject=new Jt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function j7(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(eR(rR(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Yr(i))}normalize(r){return e.stripTrailingSlash(function U7(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,rR(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Yr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Yr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Yr,t.joinWithSlash=f_,t.stripTrailingSlash=eR,t.\u0275fac=function(r){return new(r||t)(L(Ts))},t.\u0275prov=j({token:t,factory:function(){return function V7(){return new p_(L(Ts))}()},providedIn:"root"}),e})();function rR(t){return t.replace(/\/index.html$/,"")}function hR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class C8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let b_=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new C8(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,a),gR(u,s)}});for(let s=0,o=i.length;s<o;s++){const u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{gR(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(B(er),B(Kr),B(sf))},t.\u0275dir=qt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function gR(t,e){t.context.$implicit=e.item}let mR=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new S8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){yR("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){yR("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(B(er),B(Kr))},t.\u0275dir=qt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class S8{constructor(){this.$implicit=null,this.ngIf=null}}function yR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ut(e)}'.`)}class M8{createSubscription(e,n){return jb(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){jb(()=>e.unsubscribe())}}class R8{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const N8=new R8,k8=new M8;let A_=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Vh(r))return N8;if(rA(r))return k8;throw function nr(t,e){return new S(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(B(i_,16))},t.\u0275pipe=cn({name:"async",type:t,pure:!1,standalone:!0}),e})(),wR=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=dr({type:t}),t.\u0275inj=Wn({}),e})();function ER(t){return"server"===t}let eK=(()=>{var t;class e{}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>new tK(L(Sn),window)}),e})();class tK{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function nK(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class DR{}class bK extends P7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class k_ extends bK{static makeCurrent(){!function k7(t){d_||(d_=t)}(new k_)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function CK(){return Dc=Dc||document.querySelector("base"),Dc?Dc.getAttribute("href"):null}();return null==n?null:function SK(t){wf=wf||document.createElement("a"),wf.setAttribute("href",t);const e=wf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Dc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hR(document.cookie,e)}}let wf,Dc=null,xK=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const P_=new F("EventManagerPlugins");let AR=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(L(P_),L(ye))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();class xR{constructor(e){this._doc=e}}const O_="ng-app-id";let MR=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ER(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${O_}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(O_),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(O_,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(L(Sn),L(yh),L(k0,8),L(zr))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const F_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},L_=/%COMP%/g,kK=new F("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function NR(t,e){return e.map(n=>n.replace(L_,t))}let kR=(()=>{var t;class e{constructor(r,i,s,o,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ER(u),this.defaultRenderer=new V_(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Kn.ShadowDom&&(i={...i,encapsulation:Kn.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof OR?s.applyToHost(r):s instanceof U_&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Kn.Emulated:o=new OR(c,l,i,this.appId,d,a,u,h);break;case Kn.ShadowDom:return new LK(c,l,r,i,a,u,this.nonce,h);default:o=new U_(c,l,i,d,a,u,h)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(L(AR),L(MR),L(yh),L(kK),L(Sn),L(zr),L(ye),L(k0))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();class V_{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(F_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(PR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(PR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=F_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=F_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ci.DashCase|Ci.Important)?e.style.setProperty(n,r,i&Ci.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ci.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=da().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function PR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class LK extends V_{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=NR(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class U_ extends V_{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?NR(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class OR extends U_{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function PK(t){return"_ngcontent-%COMP%".replace(L_,t)}(c),this.hostAttr=function OK(t){return"_nghost-%COMP%".replace(L_,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let VK=(()=>{var t;class e extends xR{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(L(Sn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const FR=["alt","control","meta","shift"],UK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let BK=(()=>{var t;class e extends xR{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>da().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),FR.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=UK[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),FR.forEach(a=>{a!==s&&(0,jK[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(L(Sn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const VR=[{provide:zr,useValue:"browser"},{provide:N0,useValue:function $K(){k_.makeCurrent()},multi:!0},{provide:Sn,useFactory:function zK(){return function AG(t){wy=t}(document),document},deps:[]}],GK=AM(_7,"browser",VR),qK=new F(""),UR=[{provide:ef,useClass:class AK{addToWindow(e){Te.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},Te.getAllAngularTestabilities=()=>e.getAllTestabilities(),Te.getAllAngularRootElements=()=>e.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(r=>{const i=Te.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?da().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:DM,useClass:Jv,deps:[ye,Zv,ef]},{provide:Jv,useClass:Jv,deps:[ye,Zv,ef]}],jR=[{provide:My,useValue:"root"},{provide:vs,useFactory:function HK(){return new vs},deps:[]},{provide:P_,useClass:VK,multi:!0,deps:[Sn,ye,zr]},{provide:P_,useClass:BK,multi:!0,deps:[Sn]},kR,MR,AR,{provide:U0,useExisting:kR},{provide:DR,useClass:xK,deps:[]},[]];let WK=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:yh,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(L(qK,12))},t.\u0275mod=dr({type:t}),t.\u0275inj=Wn({providers:[...jR,...UR],imports:[wR,w7]}),e})(),BR=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(L(Sn))},t.\u0275prov=j({token:t,factory:function(r){let i=null;return i=r?new r:function QK(){return new BR(L(Sn))}(),i},providedIn:"root"}),e})();function fa(t,e){return Ie(e)?Dt(t,e,1):Dt(t,1)}function Zr(t,e){return ot((n,r)=>{let i=0;n.subscribe(at(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Tc(t){return ot((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}typeof window<"u"&&window;class If{}class Ef{}class Ir{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ir?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ir;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ir?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class eQ{encodeKey(e){return GR(e)}encodeValue(e){return GR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const nQ=/%(\d[a-f0-9])/gi,rQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GR(t){return encodeURIComponent(t).replace(nQ,(e,n)=>rQ[n]??e)}function Df(t){return`${t}`}class Oi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new eQ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tQ(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Df):[Df(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Oi({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Df(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Df(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class iQ{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function qR(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function WR(t){return typeof Blob<"u"&&t instanceof Blob}function KR(t){return typeof FormData<"u"&&t instanceof FormData}class bc{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function sQ(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ir),this.context||(this.context=new iQ),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Oi,this.urlWithParams=n}serializeBody(){return null===this.body?null:qR(this.body)||WR(this.body)||KR(this.body)||function oQ(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||KR(this.body)?null:WR(this.body)?this.body.type||null:qR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new bc(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var pa=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(pa||{});class B_{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ir,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class $_ extends B_{constructor(e={}){super(e),this.type=pa.ResponseHeader}clone(e={}){return new $_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ga extends B_{constructor(e={}){super(e),this.type=pa.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ga({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class QR extends B_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function H_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let YR=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof bc)o=r;else{let c,l;c=s.headers instanceof Ir?s.headers:new Ir(s.headers),s.params&&(l=s.params instanceof Oi?s.params:new Oi({fromObject:s.params})),o=new bc(r,i,void 0!==s.body?s.body:null,{headers:c,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=$(o).pipe(fa(c=>this.handler.handle(c)));if(r instanceof bc||"events"===s.observe)return a;const u=a.pipe(Zr(c=>c instanceof ga));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(re(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return u.pipe(re(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return u.pipe(re(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return u.pipe(re(c=>c.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Oi).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,H_(s,i))}post(r,i,s={}){return this.request("POST",r,H_(s,i))}put(r,i,s={}){return this.request("PUT",r,H_(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(L(If))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();function ZR(t,e){return e(t)}function uQ(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const lQ=new F(""),Cc=new F(""),eN=new F("");function dQ(){let t=null;return(e,n)=>{null===t&&(t=(P(lQ,{optional:!0})??[]).reduceRight(uQ,ZR));const r=P(Jh),i=r.add();return t(e,n).pipe(Tc(()=>r.remove(i)))}}let tN=(()=>{var t;class e extends If{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=P(Jh)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Cc),...this.injector.get(eN,[])]));this.chain=s.reduceRight((o,a)=>function cQ(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),ZR)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Tc(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(L(Ef),L(bn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const gQ=/^\)\]\}',?\n/;let rN=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new S(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?pt(i.\u0275loadImpl()):$(null)).pipe(qn(()=>new Fe(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,y)=>a.setRequestHeader(m,y.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const m=r.detectContentTypeHeader();null!==m&&a.setRequestHeader("Content-Type",m)}if(r.responseType){const m=r.responseType.toLowerCase();a.responseType="json"!==m?m:"text"}const u=r.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=a.statusText||"OK",y=new Ir(a.getAllResponseHeaders()),v=function mQ(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return c=new $_({headers:y,status:a.status,statusText:m,url:v}),c},d=()=>{let{headers:m,status:y,statusText:v,url:E}=l(),D=null;204!==y&&(D=typeof a.response>"u"?a.responseText:a.response),0===y&&(y=D?200:0);let N=y>=200&&y<300;if("json"===r.responseType&&"string"==typeof D){const W=D;D=D.replace(gQ,"");try{D=""!==D?JSON.parse(D):null}catch(he){D=W,N&&(N=!1,D={error:he,text:D})}}N?(o.next(new ga({body:D,headers:m,status:y,statusText:v,url:E||void 0})),o.complete()):o.error(new QR({error:D,headers:m,status:y,statusText:v,url:E||void 0}))},h=m=>{const{url:y}=l(),v=new QR({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});o.error(v)};let f=!1;const p=m=>{f||(o.next(l()),f=!0);let y={type:pa.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===r.responseType&&a.responseText&&(y.partialText=a.responseText),o.next(y)},g=m=>{let y={type:pa.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",p),null!==u&&a.upload&&a.upload.addEventListener("progress",g)),a.send(u),o.next({type:pa.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",p),null!==u&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(L(DR))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const z_=new F("XSRF_ENABLED"),iN=new F("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),sN=new F("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class oN{}let _Q=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=hR(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(L(Sn),L(zr),L(iN))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();function wQ(t,e){const n=t.url.toLowerCase();if(!P(z_)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=P(oN).getToken(),i=P(sN);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Fi=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Fi||{});function bs(t,e){return{\u0275kind:t,\u0275providers:e}}function IQ(...t){const e=[YR,rN,tN,{provide:If,useExisting:tN},{provide:Ef,useExisting:rN},{provide:Cc,useValue:wQ,multi:!0},{provide:z_,useValue:!0},{provide:oN,useClass:_Q}];for(const n of t)e.push(...n.\u0275providers);return function Sy(t){return{\u0275providers:t}}(e)}const aN=new F("LEGACY_INTERCEPTOR_FN");let DQ=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=dr({type:t}),t.\u0275inj=Wn({providers:[IQ(bs(Fi.LegacyInterceptors,[{provide:aN,useFactory:dQ},{provide:Cc,useExisting:aN,multi:!0}]))]}),e})();function uN(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){uN(s,r,i,o,a,"next",u)}function a(u){uN(s,r,i,o,a,"throw",u)}o(void 0)})}}const cN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},q_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new NQ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bf=function(t){return function(t){const e=cN(t);return q_.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Cf=function(t){try{return q_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Sf=()=>{try{return function OQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},dN=()=>{var t;return null===(t=Sf())||void 0===t?void 0:t.config};class Af{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function xn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function W_(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Cs(){try{return"object"==typeof indexedDB}catch{return!1}}function Sc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function K_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Er.prototype.create)}}class Er{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function WQ(t,e){return t.replace(KQ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new rr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const KQ=/\{\$([^}]+)}/g;function Q_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fN(s)&&fN(o)){if(!Q_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fN(t){return null!==t&&"object"==typeof t}function pN(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class YQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function XQ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Y_),void 0===i.error&&(i.error=Y_),void 0===i.complete&&(i.complete=Y_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y_(){}const JQ=1e3,ZQ=2,eY=144e5,tY=.5;function J_(t,e=JQ,n=ZQ){const r=e*Math.pow(n,t),i=Math.round(tY*r*(Math.random()-.5)*2);return Math.min(eY,r+i)}function Mn(t){return t&&t._delegate?t._delegate:t}class jt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ss="[DEFAULT]";class rY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Af;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function sY(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ss?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Z_=[];var le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{});const gN={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},aY=le.INFO,uY={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},cY=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=uY[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ma{constructor(e){this.name=e,this._logLevel=aY,this._logHandler=cY,this._userLogHandler=null,Z_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?gN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const lY=(t,e)=>e.some(n=>t instanceof n);let mN,yN;const vN=new WeakMap,ew=new WeakMap,_N=new WeakMap,tw=new WeakMap,nw=new WeakMap;let rw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ew.get(t);if("objectStoreNames"===e)return t.objectStoreNames||_N.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Li(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function yY(t){return"function"==typeof t?function mY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hY(){return yN||(yN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(iw(this),e),Li(vN.get(this))}:function(...e){return Li(t.apply(iw(this),e))}:function(e,...n){const r=t.call(iw(this),e,...n);return _N.set(r,e.sort?e.sort():[e]),Li(r)}}(t):(t instanceof IDBTransaction&&function pY(t){if(ew.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ew.set(t,e)}(t),lY(t,function dY(){return mN||(mN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,rw):t)}function Li(t){if(t instanceof IDBRequest)return function fY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Li(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vN.set(n,t)}).catch(()=>{}),nw.set(e,t),e}(t);if(tw.has(t))return tw.get(t);const e=yY(t);return e!==t&&(tw.set(t,e),nw.set(e,t)),e}const iw=t=>nw.get(t),_Y=["get","getKey","getAll","getAllKeys","count"],wY=["put","add","delete","clear"],sw=new Map;function wN(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(sw.get(e))return sw.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=wY.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!_Y.includes(r))return;const o=function(u){return(n=n||_(function*(c,...l){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[r](...l),s&&d.done]))[0]})).apply(this,arguments)};return sw.set(e,o),o}var EN,DN;!function gY(t){rw=t(rw)}(t=>({...t,get:(e,n,r)=>wN(e,n)||t.get(e,n,r),has:(e,n)=>!!wN(e,n)||t.has(e,n)}));class IY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function EY(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const ow="@firebase/app",As=new ma("@firebase/app"),Mf="[DEFAULT]",KY={[ow]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xs=new Map,Rf=new Map;function QY(t,e){try{t.container.addComponent(e)}catch(n){As.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nn(t){const e=t.name;if(Rf.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;Rf.set(e,t);for(const n of xs.values())QY(n,t);return!0}function Nf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const ei=new Er("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class XY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}const Ac="9.23.0";function bN(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Mf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ei.create("bad-app-name",{appName:String(i)});if(n||(n=dN()),!n)throw ei.create("no-options");const s=xs.get(i);if(s){if(Q_(n,s.options)&&Q_(r,s.config))return s;throw ei.create("duplicate-app",{appName:i})}const o=new oY(i);for(const u of Rf.values())o.addComponent(u);const a=new XY(n,r,o);return xs.set(i,a),a}function CN(t=Mf){const e=xs.get(t);if(!e&&t===Mf&&dN())return bN();if(!e)throw ei.create("no-app",{appName:t});return e}function SN(){return Array.from(xs.values())}function Qe(t,e,n){var r;let i=null!==(r=KY[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void As.warn(a.join(" "))}nn(new jt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const JY="firebase-heartbeat-database",ZY=1,xc="firebase-heartbeat-store";let aw=null;function AN(){return aw||(aw=function vY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Li(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Li(o.result),u.oldVersion,u.newVersion,Li(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(JY,ZY,{upgrade:(t,e)=>{0===e&&t.createObjectStore(xc)}}).catch(t=>{throw ei.create("idb-open",{originalErrorMessage:t.message})})),aw}function xN(t,e){return(DN=DN||_(function*(n,r){try{const s=(yield AN()).transaction(xc,"readwrite");yield s.objectStore(xc).put(r,MN(n)),yield s.done}catch(i){if(i instanceof rr)As.warn(i.message);else{const s=ei.create("idb-set",{originalErrorMessage:i?.message});As.warn(s.message)}}})).apply(this,arguments)}function MN(t){return`${t.name}!${t.options.appId}`}class rX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=RN();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=RN(),{heartbeatsToSend:r,unsentEntries:i}=function iX(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=bf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function RN(){return(new Date).toISOString().substring(0,10)}class sX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!Cs()&&Sc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function eX(t){return(EN=EN||_(function*(e){try{return yield(yield AN()).transaction(xc).objectStore(xc).get(MN(e))}catch(n){if(n instanceof rr)As.warn(n.message);else{const r=ei.create("idb-get",{originalErrorMessage:n?.message});As.warn(r.message)}}})).apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return xN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return xN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function NN(t){return bf(JSON.stringify({version:2,heartbeats:t})).length}!function oX(t){nn(new jt("platform-logger",e=>new IY(e),"PRIVATE")),nn(new jt("heartbeat",e=>new rX(e),"PRIVATE")),Qe(ow,"0.9.13",t),Qe(ow,"0.9.13","esm2017"),Qe("fire-js","")}(""),Qe("firebase","9.23.0","app");const cX=(t,e)=>e.some(n=>t instanceof n);let kN,PN;const ON=new WeakMap,uw=new WeakMap,FN=new WeakMap,cw=new WeakMap,lw=new WeakMap;let dw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return uw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||FN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function mX(t){return"function"==typeof t?function gX(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dX(){return PN||(PN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(hw(this),e),Vi(ON.get(this))}:function(...e){return Vi(t.apply(hw(this),e))}:function(e,...n){const r=t.call(hw(this),e,...n);return FN.set(r,e.sort?e.sort():[e]),Vi(r)}}(t):(t instanceof IDBTransaction&&function fX(t){if(uw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});uw.set(t,e)}(t),cX(t,function lX(){return kN||(kN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,dw):t)}function Vi(t){if(t instanceof IDBRequest)return function hX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Vi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ON.set(n,t)}).catch(()=>{}),lw.set(e,t),e}(t);if(cw.has(t))return cw.get(t);const e=mX(t);return e!==t&&(cw.set(t,e),lw.set(e,t)),e}const hw=t=>lw.get(t),vX=["get","getKey","getAll","getAllKeys","count"],_X=["put","add","delete","clear"],fw=new Map;function LN(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(fw.get(e))return fw.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=_X.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!vX.includes(r))return;const o=function(u){return(n=n||_(function*(c,...l){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[r](...l),s&&d.done]))[0]})).apply(this,arguments)};return fw.set(e,o),o}var VN,UN,jN,BN,$N,HN,zN,GN,qN,WN,KN,QN,YN,XN,JN,ZN;!function pX(t){dw=t(dw)}(t=>({...t,get:(e,n,r)=>LN(e,n)||t.get(e,n,r),has:(e,n)=>!!LN(e,n)||t.has(e,n)}));const n1="@firebase/installations",pw="0.6.4",r1=1e4,i1=`w:${pw}`,s1="FIS_v2",wX="https://firebaseinstallations.googleapis.com/v1",IX=36e5,ti=new Er("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function o1(t){return t instanceof rr&&t.code.includes("request-failed")}function gw({projectId:t}){return`${wX}/projects/${t}/installations`}function a1(t){return{token:t.token,requestStatus:2,expiresIn:bX(t.expiresIn),creationTime:Date.now()}}function mw(t,e){return(VN=VN||_(function*(n,r){const s=(yield r.json()).error;return ti.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})})).apply(this,arguments)}function u1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yw(t){return(UN=UN||_(function*(e){const n=yield e();return n.status>=500&&n.status<600?e():n})).apply(this,arguments)}function bX(t){return Number(t.replace("s","000"))}function l1(t){return new Promise(e=>{setTimeout(e,t)})}const xX=/^[cdef][\w-]{21}$/,vw="";function MX(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function RX(t){return function AX(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return xX.test(n)?n:vw}catch{return vw}}function ya(t){return`${t.appName}!${t.appId}`}const va=new Map;function d1(t,e){const n=ya(t);h1(n,e),function PX(t,e){const n=function f1(){return!Ms&&"BroadcastChannel"in self&&(Ms=new BroadcastChannel("[Firebase] FID Change"),Ms.onmessage=t=>{h1(t.data.key,t.data.fid)}),Ms}();n&&n.postMessage({key:t,fid:e}),function p1(){0===va.size&&Ms&&(Ms.close(),Ms=null)}()}(n,e)}function h1(t,e){const n=va.get(t);if(n)for(const r of n)r(e)}let Ms=null;const OX="firebase-installations-database",FX=1,Rs="firebase-installations-store";let _w=null;function ww(){return _w||(_w=function yX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Vi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Vi(o.result),u.oldVersion,u.newVersion,Vi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(OX,FX,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Rs)}})),_w}function kf(t,e){return(BN=BN||_(function*(n,r){const i=ya(n),o=(yield ww()).transaction(Rs,"readwrite"),a=o.objectStore(Rs),u=yield a.get(i);return yield a.put(r,i),yield o.done,(!u||u.fid!==r.fid)&&d1(n,r.fid),r})).apply(this,arguments)}function Iw(t){return($N=$N||_(function*(e){const n=ya(e),i=(yield ww()).transaction(Rs,"readwrite");yield i.objectStore(Rs).delete(n),yield i.done})).apply(this,arguments)}function Mc(t,e){return(HN=HN||_(function*(n,r){const i=ya(n),o=(yield ww()).transaction(Rs,"readwrite"),a=o.objectStore(Rs),u=yield a.get(i),c=r(u);return void 0===c?yield a.delete(i):yield a.put(c,i),yield o.done,c&&(!u||u.fid!==c.fid)&&d1(n,c.fid),c})).apply(this,arguments)}function Ew(t){return(zN=zN||_(function*(e){let n;const r=yield Mc(e.appConfig,i=>{const s=function LX(t){return m1(t||{fid:MX(),registrationStatus:0})}(i),o=function VX(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ti.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function UX(t,e){return(GN=GN||_(function*(n,r){try{const i=yield function SX(t,e){return(jN=jN||_(function*({appConfig:n,heartbeatServiceProvider:r},{fid:i}){const s=gw(n),o=u1(n),a=r.getImmediate({optional:!0});if(a){const d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const c={method:"POST",headers:o,body:JSON.stringify({fid:i,authVersion:s1,appId:n.appId,sdkVersion:i1})},l=yield yw(()=>fetch(s,c));if(l.ok){const d=yield l.json();return{fid:d.fid||i,registrationStatus:2,refreshToken:d.refreshToken,authToken:a1(d.authToken)}}throw yield mw("Create Installation",l)})).apply(this,arguments)}(n,r);return kf(n.appConfig,i)}catch(i){throw o1(i)&&409===i.customData.serverCode?yield Iw(n.appConfig):yield kf(n.appConfig,{fid:r.fid,registrationStatus:0}),i}})).apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:jX(t)}:{installationEntry:e}}(e,s);return n=o.registrationPromise,o.installationEntry});return r.fid===vw?{installationEntry:yield n}:{installationEntry:r,registrationPromise:n}})).apply(this,arguments)}function jX(t){return(qN=qN||_(function*(e){let n=yield g1(e.appConfig);for(;1===n.registrationStatus;)yield l1(100),n=yield g1(e.appConfig);if(0===n.registrationStatus){const{installationEntry:r,registrationPromise:i}=yield Ew(e);return i||r}return n})).apply(this,arguments)}function g1(t){return Mc(t,e=>{if(!e)throw ti.create("installation-not-found");return m1(e)})}function m1(t){return function BX(t){return 1===t.registrationStatus&&t.registrationTime+r1<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function $X(t,e){return(WN=WN||_(function*({appConfig:n,heartbeatServiceProvider:r},i){const s=function HX(t,{fid:e}){return`${gw(t)}/${e}/authTokens:generate`}(n,i),o=function c1(t,{refreshToken:e}){const n=u1(t);return n.append("Authorization",function CX(t){return`${s1} ${t}`}(e)),n}(n,i),a=r.getImmediate({optional:!0});if(a){const d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const c={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:i1,appId:n.appId}})},l=yield yw(()=>fetch(s,c));if(l.ok)return a1(yield l.json());throw yield mw("Generate Auth Token",l)})).apply(this,arguments)}function Dw(t){return(KN=KN||_(function*(e,n=!1){let r;const i=yield Mc(e.appConfig,o=>{if(!v1(o))throw ti.create("not-registered");const a=o.authToken;if(!n&&function qX(t){return 2===t.requestStatus&&!function WX(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+IX}(t)}(a))return o;if(1===a.requestStatus)return r=function zX(t,e){return(QN=QN||_(function*(n,r){let i=yield y1(n.appConfig);for(;1===i.authToken.requestStatus;)yield l1(100),i=yield y1(n.appConfig);const s=i.authToken;return 0===s.requestStatus?Dw(n,r):s})).apply(this,arguments)}(e,n),o;{if(!navigator.onLine)throw ti.create("app-offline");const u=function KX(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return r=function GX(t,e){return(YN=YN||_(function*(n,r){try{const i=yield $X(n,r),s=Object.assign(Object.assign({},r),{authToken:i});return yield kf(n.appConfig,s),i}catch(i){if(!o1(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode){const s=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}});yield kf(n.appConfig,s)}else yield Iw(n.appConfig);throw i}})).apply(this,arguments)}(e,u),u}});return r?yield r:i.authToken})).apply(this,arguments)}function y1(t){return Mc(t,e=>{if(!v1(e))throw ti.create("not-registered");return function QX(t){return 1===t.requestStatus&&t.requestTime+r1<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function v1(t){return void 0!==t&&2===t.registrationStatus}function Tw(t){return ti.create("missing-app-config-values",{valueName:t})}const _1="installations",rJ=t=>{const e=t.getProvider("app").getImmediate(),n=function tJ(t){if(!t||!t.options)throw Tw("App Configuration");if(!t.name)throw Tw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Tw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Nf(e,"heartbeat"),_delete:()=>Promise.resolve()}},iJ=t=>{const n=Nf(t.getProvider("app").getImmediate(),_1).getImmediate();return{getId:()=>function YX(t){return(XN=XN||_(function*(e){const n=e,{installationEntry:r,registrationPromise:i}=yield Ew(n);return i?i.catch(console.error):Dw(n).catch(console.error),r.fid})).apply(this,arguments)}(n),getToken:i=>function XX(t){return(JN=JN||_(function*(e,n=!1){const r=e;return yield function JX(t){return(ZN=ZN||_(function*(e){const{registrationPromise:n}=yield Ew(e);n&&(yield n)})).apply(this,arguments)}(r),(yield Dw(r,n)).token})).apply(this,arguments)}(n,i)}};var D1;(function sJ(){nn(new jt(_1,rJ,"PUBLIC")),nn(new jt("installations-internal",iJ,"PRIVATE"))})(),Qe(n1,pw),Qe(n1,pw,"esm2017");const bw="@firebase/remote-config",yn=new Er("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mJ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function yJ(t=navigator){return t.languages&&t.languages[0]||t.language}class vJ{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:yJ()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((y,v)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",v(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(y){let v="fetch-client-network";throw"AbortError"===y?.name&&(v="fetch-timeout"),yn.create(v,{originalErrorMessage:y?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let y;try{y=yield h.json()}catch(v){throw yn.create("fetch-client-parse",{originalErrorMessage:v?.message})}g=y.entries,m=y.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw yn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class IJ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function _J(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function wJ(t){if(!(t instanceof rr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+J_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class TJ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Of(t,e){const n=t.target.error||void 0;return yn.create(e,{originalErrorMessage:n&&n?.message})}const Ns="app_namespace_store";class AJ{constructor(e,n,r,i=function SJ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Of(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ns,{keyPath:"compositeKey"})}}catch(n){e(yn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ns],"readonly").objectStore(Ns),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Of(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(yn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Ns],"readwrite").objectStore(Ns),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Of(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(yn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ns],"readwrite").objectStore(Ns),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Of(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(yn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class xJ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function RJ(){return(D1=D1||_(function*(){if(!Cs())return!1;try{return yield Sc()}catch{return!1}})).apply(this,arguments)}!function MJ(){nn(new jt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yn.create("registration-window");if(!Cs())throw yn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw yn.create("registration-project-id");if(!o)throw yn.create("registration-api-key");if(!a)throw yn.create("registration-app-id");const u=new AJ(a,r.name,n=n||"firebase"),c=new xJ(u),l=new ma(bw);l.logLevel=le.ERROR;const d=new vJ(i,Ac,n,s,o,a),h=new IJ(d,u),f=new mJ(h,u,c,l),p=new TJ(r,f,c,u,l);return function fJ(t){const e=Mn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Qe(bw,"0.4.4"),Qe(bw,"0.4.4","esm2017")}();const NJ=(t,e)=>e.some(n=>t instanceof n);let S1,A1;const x1=new WeakMap,Sw=new WeakMap,M1=new WeakMap,Aw=new WeakMap,xw=new WeakMap;let Mw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Sw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||M1.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function UJ(t){return"function"==typeof t?function VJ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function PJ(){return A1||(A1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Rw(this),e),ni(x1.get(this))}:function(...e){return ni(t.apply(Rw(this),e))}:function(e,...n){const r=t.call(Rw(this),e,...n);return M1.set(r,e.sort?e.sort():[e]),ni(r)}}(t):(t instanceof IDBTransaction&&function FJ(t){if(Sw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sw.set(t,e)}(t),NJ(t,function kJ(){return S1||(S1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Mw):t)}function ni(t){if(t instanceof IDBRequest)return function OJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ni(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&x1.set(n,t)}).catch(()=>{}),xw.set(e,t),e}(t);if(Aw.has(t))return Aw.get(t);const e=UJ(t);return e!==t&&(Aw.set(t,e),xw.set(e,t)),e}const Rw=t=>xw.get(t);function R1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ni(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ni(o.result),u.oldVersion,u.newVersion,ni(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Nw(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ni(n).then(()=>{})}const jJ=["get","getKey","getAll","getAllKeys","count"],BJ=["put","add","delete","clear"],kw=new Map;function N1(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(kw.get(e))return kw.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=BJ.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!jJ.includes(r))return;const o=function(u){return(n=n||_(function*(c,...l){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[r](...l),s&&d.done]))[0]})).apply(this,arguments)};return kw.set(e,o),o}var k1,P1,O1,F1,L1,V1,U1,j1,B1,$1,H1,z1,G1,q1,W1,K1,Q1,Y1,X1,J1;!function LJ(t){Mw=t(Mw)}(t=>({...t,get:(e,n,r)=>N1(e,n)||t.get(e,n,r),has:(e,n)=>!!N1(e,n)||t.has(e,n)}));const $J="/firebase-messaging-sw.js",HJ="/firebase-cloud-messaging-push-scope",tk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zJ="https://fcmregistrations.googleapis.com/v1",nk="google.c.a.c_id",GJ="google.c.a.c_l",qJ="google.c.a.ts";var Ff=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Ff||{});function ri(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function QJ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Pw="fcm_token_details_db",YJ=5,rk="fcm_token_object_Store",ZJ="firebase-messaging-database",eZ=1,ks="firebase-messaging-store";let Ow=null;function Fw(){return Ow||(Ow=R1(ZJ,eZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ks)}})),Ow}function ik(t){return(P1=P1||_(function*(e){const n=Vw(e),i=yield(yield Fw()).transaction(ks).objectStore(ks).get(n);if(i)return i;{const s=yield function XJ(t){return(k1=k1||_(function*(e){var n;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(Pw))return null;let r=null;return(yield R1(Pw,YJ,{upgrade:function(o,a,u,c){return(n=n||_(function*(l,d,h,f){var p;if(d<2||!l.objectStoreNames.contains(rk))return;const g=f.objectStore(rk),m=yield g.index("fcmSenderId").get(e);if(yield g.clear(),m)if(2===d){const y=m;if(!y.auth||!y.p256dh||!y.endpoint)return;r={token:y.fcmToken,createTime:null!==(p=y.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:"string"==typeof y.vapidKey?y.vapidKey:ri(y.vapidKey)}}}else if(3===d){const y=m;r={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:ri(y.auth),p256dh:ri(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:ri(y.vapidKey)}}}else if(4===d){const y=m;r={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:ri(y.auth),p256dh:ri(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:ri(y.vapidKey)}}}})).apply(this,arguments)}})).close(),yield Nw(Pw),yield Nw("fcm_vapid_details_db"),yield Nw("undefined"),function JJ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(r)?r:null})).apply(this,arguments)}(e.appConfig.senderId);if(s)return yield Lw(e,s),s}})).apply(this,arguments)}function Lw(t,e){return(O1=O1||_(function*(n,r){const i=Vw(n),o=(yield Fw()).transaction(ks,"readwrite");return yield o.objectStore(ks).put(r,i),yield o.done,r})).apply(this,arguments)}function Vw({appConfig:t}){return t.appId}const At=new Er("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rZ(t,e){return(L1=L1||_(function*(n,r){const i=yield jw(n),s=ok(r),o={method:"POST",headers:i,body:JSON.stringify(s)};let a;try{a=yield(yield fetch(Uw(n.appConfig),o)).json()}catch(u){throw At.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(a.error)throw At.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw At.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function sk(t,e){return(U1=U1||_(function*(n,r){const s={method:"DELETE",headers:yield jw(n)};try{const a=yield(yield fetch(`${Uw(n.appConfig)}/${r}`,s)).json();if(a.error)throw At.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(o){throw At.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}})).apply(this,arguments)}function Uw({projectId:t}){return`${zJ}/projects/${t}/registrations`}function jw(t){return(j1=j1||_(function*({appConfig:e,installations:n}){const r=yield n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})).apply(this,arguments)}function ok({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==tk&&(i.web.applicationPubKey=r),i}const sZ=6048e5;function oZ(t){return(B1=B1||_(function*(e){const n=yield function uZ(t,e){return(G1=G1||_(function*(n,r){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:QJ(r)})})).apply(this,arguments)}(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:n.endpoint,auth:ri(n.getKey("auth")),p256dh:ri(n.getKey("p256dh"))},i=yield ik(e.firebaseDependencies);if(i){if(function cZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(i.subscriptionOptions,r))return Date.now()>=i.createTime+sZ?function aZ(t,e){return(H1=H1||_(function*(n,r){try{const i=yield function iZ(t,e){return(V1=V1||_(function*(n,r){const i=yield jw(n),s=ok(r.subscriptionOptions),o={method:"PATCH",headers:i,body:JSON.stringify(s)};let a;try{a=yield(yield fetch(`${Uw(n.appConfig)}/${r.token}`,o)).json()}catch(u){throw At.create("token-update-failed",{errorInfo:u?.toString()})}if(a.error)throw At.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw At.create("token-update-no-token");return a.token})).apply(this,arguments)}(n.firebaseDependencies,r),s=Object.assign(Object.assign({},r),{token:i,createTime:Date.now()});return yield Lw(n.firebaseDependencies,s),i}catch(i){throw yield function ak(t){return($1=$1||_(function*(e){const n=yield ik(e.firebaseDependencies);n&&(yield sk(e.firebaseDependencies,n.token),yield function tZ(t){return(F1=F1||_(function*(e){const n=Vw(e),i=(yield Fw()).transaction(ks,"readwrite");yield i.objectStore(ks).delete(n),yield i.done})).apply(this,arguments)}(e.firebaseDependencies));const r=yield e.swRegistration.pushManager.getSubscription();return!r||r.unsubscribe()})).apply(this,arguments)}(n),i}})).apply(this,arguments)}(e,{token:i.token,createTime:Date.now(),subscriptionOptions:r}):i.token;try{yield sk(e.firebaseDependencies,i.token)}catch(s){console.warn(s)}return uk(e.firebaseDependencies,r)}return uk(e.firebaseDependencies,r)})).apply(this,arguments)}function uk(t,e){return(z1=z1||_(function*(n,r){const s={token:yield rZ(n,r),createTime:Date.now(),subscriptionOptions:r};return yield Lw(n,s),s.token})).apply(this,arguments)}function ck(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function lZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function dZ(t,e){e.data&&(t.data=e.data)}(e,t),function hZ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function lk(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Bw(t){return At.create("missing-app-config-values",{valueName:t})}lk("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),lk("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gZ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function pZ(t){if(!t||!t.options)throw Bw("App Configuration Object");if(!t.name)throw Bw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Bw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function hk(t,e){return(Q1=Q1||_(function*(n,r){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield function yZ(t,e){return(K1=K1||_(function*(n,r){r?n.vapidKey=r:n.vapidKey||(n.vapidKey=tk)})).apply(this,arguments)}(n,r?.vapidKey),yield function mZ(t,e){return(W1=W1||_(function*(n,r){if(!r&&!n.swRegistration&&(yield function dk(t){return(q1=q1||_(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register($J,{scope:HJ}),e.swRegistration.update().catch(()=>{})}catch(n){throw At.create("failed-service-worker-registration",{browserErrorMessage:n?.message})}})).apply(this,arguments)}(n)),r||!n.swRegistration){if(!(r instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");n.swRegistration=r}})).apply(this,arguments)}(n,r?.serviceWorkerRegistration),oZ(n)})).apply(this,arguments)}function wZ(t,e){return(X1=X1||_(function*(n,r){const i=r.data;if(!i.isFirebaseMessaging)return;n.onMessageHandler&&i.messageType===Ff.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(ck(i)):n.onMessageHandler.next(ck(i)));const s=i.data;(function fZ(t){return"object"==typeof t&&!!t&&nk in t})(s)&&"1"===s["google.c.a.e"]&&(yield function vZ(t,e,n){return(Y1=Y1||_(function*(r,i,s){const o=function _Z(t){switch(t){case Ff.NOTIFICATION_CLICKED:return"notification_open";case Ff.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(i);(yield r.firebaseDependencies.analyticsProvider.get()).logEvent(o,{message_id:s[nk],message_name:s[GJ],message_time:s[qJ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(n,i.messageType,s))})).apply(this,arguments)}const fk="@firebase/messaging",IZ=t=>{const e=new gZ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>wZ(e,n)),e},EZ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>hk(e,r)}};function gk(){return(J1=J1||_(function*(){try{yield Sc()}catch{return!1}return typeof window<"u"&&Cs()&&K_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var mk,yk,vk,_k,wk,Ik,Sk,Ak,xk;!function DZ(){nn(new jt("messaging",IZ,"PUBLIC")),nn(new jt("messaging-internal",EZ,"PRIVATE")),Qe(fk,"0.12.4"),Qe(fk,"0.12.4","esm2017")}();const Lf="analytics",CZ="firebase_id",SZ="origin",AZ=6e4,xZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$w="https://www.googletagmanager.com/gtag/js",gt=new ma("@firebase/analytics"),rn=new Er("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function RZ(t){if(!t.startsWith($w)){const e=rn.create("invalid-gtag-resource",{gtagURL:t});return gt.warn(e.message),""}return t}function Rk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}const jZ=30,Nk=new class $Z{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function HZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function GZ(t){return(_k=_k||_(function*(e,n=Nk,r){const{appId:i,apiKey:s,measurementId:o}=e.options;if(!i)throw rn.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw rn.create("no-api-key")}const a=n.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new KZ;return setTimeout(_(function*(){u.abort()}),void 0!==r?r:AZ),kk({appId:i,apiKey:s,measurementId:o},a,u,n)})).apply(this,arguments)}function kk(t,e,n){return(wk=wk||_(function*(r,{throttleEndTimeMillis:i,backoffCount:s},o,a=Nk){var u;const{appId:c,measurementId:l}=r;try{yield function qZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(o,i)}catch(d){if(l)return gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:c,measurementId:l};throw d}try{const d=yield function zZ(t){return(vk=vk||_(function*(e){var n;const{appId:r,apiKey:i}=e,s={method:"GET",headers:HZ(i)},o=xZ.replace("{app-id}",r),a=yield fetch(o,s);if(200!==a.status&&304!==a.status){let u="";try{const c=yield a.json();null!==(n=c.error)&&void 0!==n&&n.message&&(u=c.error.message)}catch{}throw rn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()})).apply(this,arguments)}(r);return a.deleteThrottleMetadata(c),d}catch(d){const h=d;if(!function WZ(t){if(!(t instanceof rr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h)){if(a.deleteThrottleMetadata(c),l)return gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:c,measurementId:l};throw d}const f=503===Number(null===(u=h?.customData)||void 0===u?void 0:u.httpStatus)?J_(s,a.intervalMillis,jZ):J_(s,a.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:s+1};return a.setThrottleMetadata(c,p),gt.debug(`Calling attemptFetch again in ${f} millis`),kk(r,p,o,a)}})).apply(this,arguments)}class KZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Hw,zw;function nee(t,e,n,r,i,s,o){return(Ak=Ak||_(function*(a,u,c,l,d,h,f){var p;const g=GZ(a);g.then(D=>{c[D.measurementId]=D.appId,a.options.measurementId&&D.measurementId!==a.options.measurementId&&gt.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>gt.error(D)),u.push(g);const m=function tee(){return(Sk=Sk||_(function*(){if(!Cs())return gt.warn(rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Sc()}catch(t){return gt.warn(rn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(D=>{if(D)return l.getId()}),[y,v]=yield Promise.all([g,m]);(function UZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($w)&&n.src.includes(t))return n;return null})(h)||function kZ(t,e){const n=function NZ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:RZ}),r=document.createElement("script"),i=`${$w}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(h,y.measurementId),zw&&(d("consent","default",zw),function Pk(t){zw=t}(void 0)),d("js",new Date);const E=null!==(p=f?.config)&&void 0!==p?p:{};return E[SZ]="firebase",E.update=!0,null!=v&&(E[CZ]=v),d("config",y.measurementId,E),Hw&&(d("set",Hw),function Ok(t){Hw=t}(void 0)),y.measurementId})).apply(this,arguments)}class ree{constructor(e){this.app=e}_delete(){return delete Dr[this.app.options.appId],Promise.resolve()}}let Dr={},Fk=[];const Lk={};let Uk,Tr,Vf="dataLayer",Gw=!1;function see(t,e,n){!function iee(){const t=[];if(W_()&&t.push("This is a browser extension environment."),K_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=rn.create("invalid-analytics-context",{errorInfo:e});gt.warn(n.message)}}();const r=t.options.appId;if(!r)throw rn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw rn.create("no-api-key");gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Dr[r])throw rn.create("already-exists",{id:r});if(!Gw){!function PZ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Vf);const{wrappedGtag:s,gtagCore:o}=function VZ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function LZ(t,e,n,r){var i;return function s(o){return(i=i||_(function*(a,...u){try{if("event"===a){const[c,l]=u;yield function FZ(t,e,n,r,i){return(yk=yk||_(function*(s,o,a,u,c){try{let l=[];if(c&&c.send_to){let d=c.send_to;Array.isArray(d)||(d=[d]);const h=yield Rk(a);for(const f of d){const p=h.find(m=>m.measurementId===f),g=p&&o[p.appId];if(!g){l=[];break}l.push(g)}}0===l.length&&(l=Object.values(o)),yield Promise.all(l),s("event",u,c||{})}catch(l){gt.error(l)}})).apply(this,arguments)}(t,e,n,c,l)}else if("config"===a){const[c,l]=u;yield function OZ(t,e,n,r,i,s){return(mk=mk||_(function*(o,a,u,c,l,d){const h=c[l];try{if(h)yield a[h];else{const p=(yield Rk(u)).find(g=>g.measurementId===l);p&&(yield a[p.appId])}}catch(f){gt.error(f)}o("config",l,d)})).apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===a){const[c]=u;t("consent","update",c)}else if("get"===a){const[c,l,d]=u;t("get",c,l,d)}else if("set"===a){const[c]=u;t("set",c)}else t(a,...u)}catch(c){gt.error(c)}})).apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Dr,Fk,Lk,Vf,"gtag");Tr=s,Uk=o,Gw=!0}return Dr[r]=nee(t,Fk,Lk,e,Uk,Vf,n),new ree(t)}function aee(){return(xk=xk||_(function*(){if(W_()||!K_()||!Cs())return!1;try{return yield Sc()}catch{return!1}})).apply(this,arguments)}const jk="@firebase/analytics";!function cee(){nn(new jt(Lf,(e,{options:n})=>see(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),nn(new jt("analytics-internal",function t(e){try{const n=e.getProvider(Lf).getImmediate();return{logEvent:(r,i,s)=>function uee(t,e,n,r){t=Mn(t),function QZ(t,e,n,r,i){return(Ik=Ik||_(function*(s,o,a,u,c){if(c&&c.global)s("event",a,u);else{const l=yield o;s("event",a,Object.assign(Object.assign({},u),{send_to:l}))}})).apply(this,arguments)}(Tr,Dr[t.app.options.appId],e,n,r).catch(i=>gt.error(i))}(n,r,i,s)}}catch(n){throw rn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Qe(jk,"0.10.0"),Qe(jk,"0.10.0","esm2017")}();class lee extends an{constructor(e,n){super()}schedule(e,n=0){return this}}const Uf={setInterval(t,e,...n){const{delegate:r}=Uf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Uf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class $k extends lee{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Uf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Uf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,go(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const Hk={now:()=>(Hk.delegate||Date).now(),delegate:void 0};class Rc{constructor(e,n=Rc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Rc.now=Hk.now;class zk extends Rc{constructor(e,n=Rc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const fee=new class hee extends zk{}(class dee extends $k{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),pee=new zk($k);function xt(t,e,n){const r=Ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?ot((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(at(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):vi}const qw=new Xu("7.6.1"),Ww="__angularfire_symbol__analyticsIsSupportedValue",Kw="__angularfire_symbol__analyticsIsSupported",Qw="__angularfire_symbol__remoteConfigIsSupportedValue",Yw="__angularfire_symbol__remoteConfigIsSupported",Xw="__angularfire_symbol__messagingIsSupportedValue",Jw="__angularfire_symbol__messagingIsSupported";globalThis[Kw]||(globalThis[Kw]=aee().then(t=>globalThis[Ww]=t).catch(()=>globalThis[Ww]=!1)),globalThis[Jw]||(globalThis[Jw]=gk().then(t=>globalThis[Xw]=t).catch(()=>globalThis[Xw]=!1)),globalThis[Yw]||(globalThis[Yw]=RJ().then(t=>globalThis[Qw]=t).catch(()=>globalThis[Qw]=!1));const tI=(t,e)=>{const n=e?[e]:SN(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function _a(){}class Gk{constructor(e,n=fee){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class gee{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_a,{},_a,_a)),n.pipe(xt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qk=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Gk(Zone.current)),this.insideAngular=n.run(()=>new Gk(Zone.current,pee)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(L(ye))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ps(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Os(t){return Ps().ngZone.run(()=>t())}function yee(t){return Ps(),function vee(t){return function(n){return(n=n.lift(new gee(t.ngZone))).pipe(_d(t.outsideAngular),vd(t.insideAngular))}}(Ps())(t)}const _ee=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Os(()=>t.apply(void 0,r))},Fs=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Os(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_a,{},_a,_a)))),r[s]=_ee(r[s],n));const i=function mee(t){return Ps().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Fe){const s=Ps();return i.pipe(_d(s.outsideAngular),vd(s.insideAngular))}return Os(()=>i)}return i instanceof Fe?i.pipe(yee):i instanceof Promise?Os(()=>new Promise((s,o)=>i.then(a=>Os(()=>s(a)),a=>Os(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Os(()=>i)};class wa{constructor(e){return e}}class Wk{constructor(){return SN()}}const nI=new F("angularfire2._apps"),Iee={provide:wa,useFactory:function wee(t){return t&&1===t.length?t[0]:new wa(CN())},deps:[[new hn,nI]]},Eee={provide:Wk,deps:[[new hn,nI]]};function Dee(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new wa(r)}}let Tee=(()=>{class t{constructor(n){Qe("angularfire",qw.full,"core"),Qe("angularfire",qw.full,"app"),Qe("angular",j0.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(L(zr))},t.\u0275mod=dr({type:t}),t.\u0275inj=Wn({providers:[Iee,Eee]}),t})();function bee(t,...e){return{ngModule:Tee,providers:[{provide:nI,useFactory:Dee(t),multi:!0,deps:[ye,pn,qk,...e]}]}}const Cee=Fs(bN,!0);var Kk,Qk,Xk,Zk,eP,tP,nP,rP,iP,oP;const See=function EO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},DO=new Er("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),jf=new ma("@firebase/auth");function Bf(t,...e){jf.logLevel<=le.ERROR&&jf.error(`Auth (${Ac}): ${t}`,...e)}function vn(t,...e){throw rI(t,...e)}function br(t,...e){return rI(t,...e)}function rI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DO.create(t,...e)}function A(t,e,...n){if(!t)throw rI(e,...n)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bf(e),new Error(e)}function Ui(t,e){t||Cr(e)}function bO(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class kc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=function HQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}()||function GQ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function xee(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function iI(){return"http:"===bO()||"https:"===bO()}()||W_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class CO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ree={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Nee=new kc(3e4,6e4);function $e(t,e,n,r){return(Kk=Kk||_(function*(i,s,o,a,u={}){return SO(i,u,_(function*(){let c={},l={};a&&("GET"===s?l=a:c={body:JSON.stringify(a)});const d=pN(Object.assign({key:i.config.apiKey},l)).slice(1),h=yield i._getAdditionalHeaders();return h["Content-Type"]="application/json",i.languageCode&&(h["X-Firebase-Locale"]=i.languageCode),CO.fetch()(AO(i,i.config.apiHost,o,d),Object.assign({method:s,headers:h,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function SO(t,e,n){return(Qk=Qk||_(function*(r,i,s){r._canInitEmulator=!1;const o=Object.assign(Object.assign({},Ree),i);try{const a=new kee(r),u=yield Promise.race([s(),a.promise]);a.clearNetworkTimeout();const c=yield u.json();if("needConfirmation"in c)throw Pc(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const l=u.ok?c.errorMessage:c.error.message,[d,h]=l.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===d)throw Pc(r,"credential-already-in-use",c);if("EMAIL_EXISTS"===d)throw Pc(r,"email-already-in-use",c);if("USER_DISABLED"===d)throw Pc(r,"user-disabled",c);const f=o[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw function TO(t,e,n){const r=Object.assign(Object.assign({},See()),{[e]:n});return new Er("auth","Firebase",r).create(e,{appName:t.name})}(r,f,h);vn(r,f)}}catch(a){if(a instanceof rr)throw a;vn(r,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function AO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function sI(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class kee{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(br(this.auth,"network-request-failed")),Nee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=br(t,e,r);return i.customData._tokenResponse=n,i}function Oc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function oI(t){return 1e3*Number(t)}function $f(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Bf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Cf(n);return i?JSON.parse(i):(Bf("Failed to decode base64 JWT payload"),null)}catch(i){return Bf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function si(t,e){return(tP=tP||_(function*(n,r,i=!1){if(i)return r;try{return yield r}catch(s){throw s instanceof rr&&function Uee({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(s)&&n.auth.currentUser===n&&(yield n.auth.signOut()),s}})).apply(this,arguments)}class jee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class xO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fc(t){return(nP=nP||_(function*(e){var n;const r=e.auth,i=yield e.getIdToken(),s=yield si(e,function Fee(t,e){return(Zk=Zk||_(function*(n,r){return $e(n,"POST","/v1/accounts:lookup",r)})).apply(this,arguments)}(r,{idToken:i}));A(s?.users.length,r,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const a=null!==(n=o.providerUserInfo)&&void 0!==n&&n.length?function Hee(t){return t.map(e=>{var{providerId:n}=e,r=lm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],u=function $ee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(e.providerData,a),d=!!e.isAnonymous&&!(e.email&&o.passwordHash||u?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xO(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,h)})).apply(this,arguments)}class Lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Vee(t){const e=$f(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function zee(t,e){return(iP=iP||_(function*(n,r){const i=yield SO(n,{},_(function*(){const s=pN({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=AO(n,o,"/v1/token",`key=${a}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",CO.fetch()(u,{method:"POST",headers:c,body:s})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})).apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Lc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lc,this.toJSON())}_performRefresh(){return Cr("not implemented")}}function ji(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ls{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xO(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield si(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Lee(t){return(eP=eP||_(function*(e,n=!1){const r=Mn(e),i=yield r.getIdToken(n),s=$f(i);A(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=o?.sign_in_provider;return{claims:s,token:i,authTime:Oc(oI(s.auth_time)),issuedAtTime:Oc(oI(s.iat)),expirationTime:Oc(oI(s.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}(this,e)}reload(){return function Bee(t){return(rP=rP||_(function*(e){const n=Mn(e);yield Fc(n),yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)})).apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Fc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield si(e,function Pee(t,e){return(Xk=Xk||_(function*(n,r){return $e(n,"POST","/v1/accounts:delete",r)})).apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,v=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:D,isAnonymous:N,providerData:W,stsTokenManager:he}=n;A(E&&he,e,"internal-error");const et=Lc.fromJSON(this.name,he);A("string"==typeof E,e,"internal-error"),ji(d,e.name),ji(h,e.name),A("boolean"==typeof D,e,"internal-error"),A("boolean"==typeof N,e,"internal-error"),ji(f,e.name),ji(p,e.name),ji(g,e.name),ji(m,e.name),ji(y,e.name),ji(v,e.name);const Et=new Ls({uid:E,auth:e,email:h,emailVerified:D,displayName:d,isAnonymous:N,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:et,createdAt:y,lastLoginAt:v});return W&&Array.isArray(W)&&(Et.providerData=W.map(fd=>Object.assign({},fd))),m&&(Et._redirectEventId=m),Et}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new Lc;i.updateFromServerResponse(n);const s=new Ls({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Fc(s),s})()}}const MO=new Map;function oi(t){Ui(t instanceof Function,"Expected a class definition");let e=MO.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MO.set(t,e),e)}const RO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Hf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ls._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){var i,s;if(!n.length)return new Ea(oi(RO),e,r);const o=(yield Promise.all(n.map(function(d){return(i=i||_(function*(h){if(yield h._isAvailable())return h})).apply(this,arguments)}))).filter(d=>d);let a=o[0]||oi(RO);const u=Hf(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const h=yield d._get(u);if(h){const f=Ls._fromJSON(e,h);d!==a&&(c=f),a=d;break}}catch{}const l=o.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&l.length?(a=l[0],c&&(yield a._set(u,c.toJSON())),yield Promise.all(n.map(function(d){return(s=s||_(function*(h){if(h!==a)try{yield h._remove(u)}catch{}})).apply(this,arguments)})),new Ea(a,e,r)):new Ea(a,e,r)})()}}function NO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function OO(t=xn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function kO(t=xn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function LO(t=xn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function VO(t=xn()){return/webos/i.test(t)}(e))return"Webos";if(function aI(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function PO(t=xn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function FO(t=xn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function UO(t,e=[]){let n;switch(t){case"Browser":n=NO(xn());break;case"Worker":n=`${NO(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ac}/${r}`}function jO(t,e){return(oP=oP||_(function*(n,r){return $e(n,"GET","/v2/recaptchaConfig",function Ve(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(n,r))})).apply(this,arguments)}function $O(t){return void 0!==t&&void 0!==t.enterprise}class HO{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class GO{constructor(e){this.type="recaptcha-enterprise",this.auth=mt(e)}verify(e="verify",n=!1){var r=this;return _(function*(){var i;function o(a,u,c){const l=window.grecaptcha;$O(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function s(a){return(i=i||_(function*(u){var c;if(!n){if(null==u.tenantId&&null!=u._agentRecaptchaConfig)return u._agentRecaptchaConfig.siteKey;if(null!=u.tenantId&&void 0!==u._tenantRecaptchaConfigs[u.tenantId])return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(function(l,d){return(c=c||_(function*(h,f){jO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(void 0!==p.recaptchaKey){const g=new HO(p);return null==u.tenantId?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}f(new Error("recaptcha Enterprise site key undefined"))}).catch(p=>{f(p)})})).apply(this,arguments)})})).apply(this,arguments)})(r.auth).then(c=>{if(!n&&$O(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function uI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=br("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Kee(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Jee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return _(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Zee{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qO(this),this.idTokenSubscription=new qO(this),this.beforeStateQueue=new Jee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ea.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield Fc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Mee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?Mn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return _(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(oi(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const n=yield jO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new HO(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new GO(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Er("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&oi(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield Ea.create(n,[oi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return _(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Aee(t,...e){jf.logLevel<=le.WARN&&jf.warn(`Auth (${Ac}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function mt(t){return Mn(t)}class qO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function QQ(t,e){const n=new YQ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function zO(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new kc(3e4,6e4),new kc(2e3,1e4),new kc(3e4,6e4),new kc(5e3,15e3),encodeURIComponent("fac");var CF,SF,RF,NF,kF,IF="@firebase/auth";class Gne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Sf(),function Wne(t){nn(new jt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UO(t)},c=new Zee(r,i,s,u);return function tte(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(oi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nn(new jt("auth-internal",e=>{const n=mt(e.getProvider("auth").getImmediate());return new Gne(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(IF,"0.23.2",function qne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Qe(IF,"0.23.2","esm2017")}("Browser");class bF{constructor(){return tI("auth")}}const OI=new Map,FF={activated:!1,tokenObservers:[]},ere={initialized:!1,enabled:!1};function He(t){return OI.get(t)||Object.assign({},FF)}function np(){return ere}const FI="https://content-firebaseappcheck.googleapis.com/v1",ire="exchangeDebugToken",LF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ore{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new Af,yield function are(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Af,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Mt=new Er("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function LI(t){if(!He(t).activated)throw Mt.create("use-before-activation",{appName:t.name})}function sp(t,e){return(CF=CF||_(function*({url:n,body:r},i){const s={"Content-Type":"application/json"},o=i.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(r),headers:s};let u,c;try{u=yield fetch(n,a)}catch(f){throw Mt.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==u.status)throw Mt.create("fetch-status-error",{httpStatus:u.status});try{c=yield u.json()}catch(f){throw Mt.create("fetch-parse-error",{originalErrorMessage:f?.message})}const l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(l[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function VF(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${FI}/projects/${n}/apps/${r}:${ire}?key=${i}`,body:{debug_token:e}}}const dre="firebase-app-check-database",hre=1,$c="firebase-app-check-store";let op=null;function BF(t,e){return(SF=SF||_(function*(n,r){const s=(yield function jF(){return op||(op=new Promise((t,e)=>{try{const n=indexedDB.open(dre,hre);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Mt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($c,{keyPath:"compositeKey"})}}catch(n){e(Mt.create("storage-open",{originalErrorMessage:n?.message}))}}),op)}()).transaction($c,"readwrite"),a=s.objectStore($c).put({compositeKey:n,value:r});return new Promise((u,c)=>{a.onsuccess=l=>{u()},s.onerror=l=>{var d;c(Mt.create("storage-set",{originalErrorMessage:null===(d=l.target.error)||void 0===d?void 0:d.message}))}})})).apply(this,arguments)}const Hc=new ma("@firebase/app-check");function UI(t,e){return Cs()?function pre(t,e){return BF(function HF(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Hc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function jI(){return np().enabled}function BI(){return(RF=RF||_(function*(){const t=np();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const wre={error:"UNKNOWN_ERROR"};function Ire(t){return q_.encodeString(JSON.stringify(t),!1)}function ap(t){return(NF=NF||_(function*(e,n=!1){const r=e.app;LI(r);const i=He(r);let o,s=i.token;if(s&&!Ta(s)&&(i.token=void 0,s=void 0),!s){const c=yield i.cachedTokenPromise;c&&(Ta(c)?s=c:yield UI(r,void 0))}if(!n&&s&&Ta(s))return{token:s.token};let u,a=!1;if(jI()){i.exchangeTokenPromise||(i.exchangeTokenPromise=sp(VF(r,yield BI()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const c=yield i.exchangeTokenPromise;return yield UI(r,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield He(r).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Hc.warn(c.message):Hc.error(c),o=c}return s?o?u=Ta(s)?{token:s.token,internalError:o}:WF(o):(u={token:s.token},i.token=s,yield UI(r,s)):u=WF(o),a&&function qF(t,e){const n=He(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,u),u})).apply(this,arguments)}function HI(t,e){const n=He(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function GF(t){const{app:e}=t,n=He(e);let r=n.tokenRefresher;r||(r=function Ere(t){const{app:e}=t;return new ore(_(function*(){let r;if(r=He(e).token?yield ap(t,!0):yield ap(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=He(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},LF.RETRIAL_MIN_WAIT,LF.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ta(t){return t.expireTimeMillis-Date.now()>0}function WF(t){return{token:Ire(wre),error:t}}class Dre{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=He(this.app);for(const n of e)HI(this.app,n.next);return Promise.resolve()}}const tL="app-check-internal";!function Lre(){nn(new jt("app-check",t=>function Tre(t,e){return new Dre(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(tL).initialize()})),nn(new jt(tL,t=>function bre(t){return{getToken:e=>ap(t,e),getLimitedUseToken:()=>function zF(t){return(kF=kF||_(function*(e){const n=e.app;LI(n);const{provider:r}=He(n);if(jI()){const i=yield BI(),{token:s}=yield sp(VF(n,i),e.heartbeatServiceProvider);return{token:s}}{const{token:i}=yield r.getToken();return{token:i}}})).apply(this,arguments)}(t),addTokenListener:e=>function $I(t,e,n,r){const{app:i}=t,s=He(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ta(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),GF(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>GF(t))}(t,"INTERNAL",e),removeTokenListener:e=>HI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Qe("@firebase/app-check","0.8.0")}();class rL{constructor(){return tI("app-check")}}typeof window<"u"&&window;var R,$re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ir={},qI=qI||{},Y=$re||self;function cp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function zc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var WI="closure_uid_"+(1e9*Math.random()>>>0),zre=0;function Gre(t,e,n){return t.call.apply(t.bind,arguments)}function qre(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Bt(t,e,n){return(Bt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gre:qre).apply(null,arguments)}function lp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function yt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function $i(){this.s=this.s,this.o=this.o}$i.prototype.s=!1,$i.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Hre(t){Object.prototype.hasOwnProperty.call(t,WI)&&t[WI]||(t[WI]=++zre)}(this)},$i.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function KI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sL(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(cp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function $t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$t.prototype.h=function(){this.defaultPrevented=!0};var Kre=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",()=>{},e),Y.removeEventListener("test",()=>{},e)}catch{}return t}();function Gc(t){return/^[\s\xa0]*$/.test(t)}function dp(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function Sr(t){return-1!=dp().indexOf(t)}function QI(t){return QI[" "](t),t}QI[" "]=function(){};var XI,Yre=Sr("Opera"),ba=Sr("Trident")||Sr("MSIE"),oL=Sr("Edge"),YI=oL||ba,aL=Sr("Gecko")&&!(-1!=dp().toLowerCase().indexOf("webkit")&&!Sr("Edge"))&&!(Sr("Trident")||Sr("MSIE"))&&!Sr("Edge"),Xre=-1!=dp().toLowerCase().indexOf("webkit")&&!Sr("Edge");function uL(){var t=Y.document;return t?t.documentMode:void 0}e:{var JI="",ZI=function(){var t=dp();return aL?/rv:([^\);]+)(\)|;)/.exec(t):oL?/Edge\/([\d\.]+)/.exec(t):ba?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Xre?/WebKit\/(\S+)/.exec(t):Yre?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ZI&&(JI=ZI?ZI[1]:""),ba){var eE=uL();if(null!=eE&&eE>parseFloat(JI)){XI=String(eE);break e}}XI=JI}var Jre=Y.document&&ba&&(uL()||parseInt(XI,10))||void 0;function qc(t,e){if($t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(aL){e:{try{QI(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Zre[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qc.$.h.call(this)}}yt(qc,$t);var Zre={2:"touch",3:"pen",4:"mouse"};qc.prototype.h=function(){qc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wc="closure_listenable_"+(1e6*Math.random()|0),eie=0;function tie(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++eie,this.fa=this.ia=!1}function hp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lL(t){const e={};for(const n in t)e[n]=t[n];return e}const dL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<dL.length;s++)n=dL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fp(t){this.src=t,this.g={},this.h=0}function rE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=iL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(hp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function iE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}fp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=iE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new tie(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var sE="closure_lm_"+(1e6*Math.random()|0),oE={};function fL(t,e,n,r,i){if(r&&r.once)return gL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fL(t,e[s],n,r,i);return null}return n=lE(n),t&&t[Wc]?t.O(e,n,zc(r)?!!r.capture:!!r,i):pL(t,e,n,!1,r,i)}function pL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=zc(i)?!!i.capture:!!i,a=uE(t);if(a||(t[sE]=a=new fp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function rie(){const e=iie;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Kre||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gL(t,e[s],n,r,i);return null}return n=lE(n),t&&t[Wc]?t.P(e,n,zc(r)?!!r.capture:!!r,i):pL(t,e,n,!0,r,i)}function mL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)mL(t,e[s],n,r,i);else r=zc(r)?!!r.capture:!!r,n=lE(n),t&&t[Wc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=iE(s=t.g[e],n,r,i))&&(hp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=uE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=iE(e,n,r,i)),(n=-1<t?e[t]:null)&&aE(n))}function aE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Wc])rE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=uE(e))?(rE(n,t),0==n.h&&(n.src=null,e[sE]=null)):hp(t)}}}function yL(t){return t in oE?oE[t]:oE[t]="on"+t}function iie(t,e){if(t.fa)t=!0;else{e=new qc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&aE(t),t=n.call(r,e)}return t}function uE(t){return(t=t[sE])instanceof fp?t:null}var cE="__closure_events_fn_"+(1e9*Math.random()>>>0);function lE(t){return"function"==typeof t?t:(t[cE]||(t[cE]=function(e){return t.handleEvent(e)}),t[cE])}function vt(){$i.call(this),this.i=new fp(this),this.S=this,this.J=null}function Rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new $t(e,t);else if(e instanceof $t)e.target=e.target||t;else{var i=e;hL(e=new $t(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=pp(o,r,!0,e)&&i}if(i=pp(o=e.g=t,r,!0,e)&&i,i=pp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=pp(o=e.g=n[s],r,!1,e)&&i}function pp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&rE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}yt(vt,$i),vt.prototype[Wc]=!0,vt.prototype.removeEventListener=function(t,e,n,r){mL(this,t,e,n,r)},vt.prototype.N=function(){if(vt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hp(n[r]);delete t.g[e],t.h--}}this.J=null},vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},vt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var dE=Y.JSON.stringify;function oie(){var t=hE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var vL=new class sie{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new uie,t=>t.reset());class uie{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function cie(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function lie(t){Y.setTimeout(()=>{throw t},0)}let Kc,Qc=!1,hE=new class aie{constructor(){this.h=this.g=null}add(e,n){const r=vL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},_L=()=>{const t=Y.Promise.resolve(void 0);Kc=()=>{t.then(die)}};var die=()=>{for(var t;t=oie();){try{t.h.call(t.g)}catch(n){lie(n)}var e=vL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qc=!1};function gp(t,e){vt.call(this),this.h=t||1,this.g=e||Y,this.j=Bt(this.qb,this),this.l=Date.now()}function fE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function pE(t,e,n){if("function"==typeof t)n&&(t=Bt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Bt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function wL(t){t.g=pE(()=>{t.g=null,t.i&&(t.i=!1,wL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}yt(gp,vt),(R=gp.prototype).ga=!1,R.T=null,R.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rt(this,"tick"),this.ga&&(fE(this),this.start()))}},R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.N=function(){gp.$.N.call(this),fE(this),delete this.g};class hie extends $i{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wL(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yc(t){$i.call(this),this.h=t,this.g={}}yt(Yc,$i);var IL=[];function EL(t,e,n,r){Array.isArray(n)||(n&&(IL[0]=n.toString()),n=IL);for(var i=0;i<n.length;i++){var s=fL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function DL(t){nE(t.g,function(e,n){this.g.hasOwnProperty(n)&&aE(e)},t),t.g={}}function mp(){this.g=!0}function Ca(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function mie(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return dE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Yc.prototype.N=function(){Yc.$.N.call(this),DL(this)},Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mp.prototype.Ea=function(){this.g=!1},mp.prototype.info=function(){};var Bs={},TL=null;function yp(){return TL=TL||new vt}function bL(t){$t.call(this,Bs.Ta,t)}function Xc(t){const e=yp();Rt(e,new bL(e))}function CL(t,e){$t.call(this,Bs.STAT_EVENT,t),this.stat=e}function sn(t){const e=yp();Rt(e,new CL(e,t))}function SL(t,e){$t.call(this,Bs.Ua,t),this.size=e}function Jc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}Bs.Ta="serverreachability",yt(bL,$t),Bs.STAT_EVENT="statevent",yt(CL,$t),Bs.Ua="timingevent",yt(SL,$t);var vp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gE(){}function ML(){}gE.prototype.h=null;var vE,Zc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mE(){$t.call(this,"d")}function yE(){$t.call(this,"c")}function _p(){}function el(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Yc(this),this.P=yie,this.V=new gp(t=YI?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new RL}function RL(){this.i=null,this.g="",this.h=!1}yt(mE,$t),yt(yE,$t),yt(_p,gE),_p.prototype.g=function(){return new XMLHttpRequest},_p.prototype.i=function(){return{}},vE=new _p;var yie=45e3,_E={},wp={};function wE(t,e,n){t.L=1,t.v=Tp(ui(e)),t.s=n,t.S=!0,NL(t,null)}function NL(t,e){t.G=Date.now(),tl(t),t.A=ui(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),$L(n.i,"t",r),t.C=0,n=t.l.J,t.h=new RL,t.g=h2(t.l,n?e:null,!t.s),0<t.O&&(t.M=new hie(Bt(t.Pa,t,t.g),t.O)),EL(t.U,t.g,"readystatechange",t.nb),e=t.I?lL(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Xc(),function fie(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function kL(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function PL(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=vie(t,n),i==wp){4==e&&(t.o=4,sn(14),r=!1),Ca(t.j,t.m,null,"[Incomplete Response]");break}if(i==_E){t.o=4,sn(15),Ca(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ca(t.j,t.m,i,null),IE(t,i)}kL(t)&&i!=wp&&i!=_E&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),AE(e),e.M=!0,sn(11))):(Ca(t.j,t.m,n,"[Invalid Chunked Response]"),$s(t),nl(t))}function vie(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?wp:(n=Number(e.substring(n,r)),isNaN(n)?_E:(r+=1)+n>e.length?wp:(e=e.slice(r,r+n),t.C=r+n,e))}function tl(t){t.Y=Date.now()+t.P,OL(t,t.P)}function OL(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Jc(Bt(t.lb,t),e)}function Ip(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}function nl(t){0==t.l.H||t.J||u2(t.l,t)}function $s(t){Ip(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,fE(t.V),DL(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function IE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||EE(n.i,t)))if(!t.K&&EE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Mp(n),Ap(n)}SE(n),sn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Jc(Bt(n.ib,n),6e3));if(1>=GL(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else zs(n,11)}else if((t.K||n.g==t)&&Mp(n),!Gc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(DE(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,xe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=d2(r,r.J?r.pa:null,r.Y),o.K){qL(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Ip(a),tl(a)),r.g=o}else o2(r);0<n.j.length&&xp(n)}else"stop"!=c[0]&&"close"!=c[0]||zs(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?zs(n,7):CE(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Xc()}catch{}}function FL(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(cp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function wie(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(cp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function _ie(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(cp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(R=el.prototype).setTimeout=function(t){this.P=t},R.nb=function(t){t=t.target;const e=this.M;e&&3==Ar(t)?e.l():this.Pa(t)},R.Pa=function(t){try{if(t==this.g)e:{const l=Ar(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||YI||this.g&&(this.h.h||this.g.ja()||e2(this.g)))){this.J||4!=l||7==e||Xc(),Ip(this);var n=this.g.da();this.ca=n;t:if(kL(this)){var r=e2(this.g);t="";var i=r.length,s=4==Ar(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$s(this),nl(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function pie(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gc(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,sn(12),$s(this),nl(this);break e}Ca(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IE(this,n)}this.S?(PL(this,l,o),YI&&this.i&&3==l&&(EL(this.U,this.V,"tick",this.mb),this.V.start())):(Ca(this.j,this.m,o,null),IE(this,o)),4==l&&$s(this),this.i&&!this.J&&(4==l?u2(this.l,this):(this.i=!1,tl(this)))}else(function Vie(t){const e={};t=(t.g&&2<=Ar(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Gc(t[r]))continue;var n=cie(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function nie(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,sn(12)):(this.o=0,sn(13)),$s(this),nl(this)}}}catch{}},R.mb=function(){if(this.g){var t=Ar(this.g),e=this.g.ja();this.C<e.length&&(Ip(this),PL(this,t,e),this.i&&4!=t&&tl(this))}},R.cancel=function(){this.J=!0,$s(this)},R.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function gie(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Xc(),sn(17)),$s(this),this.o=2,nl(this)):OL(this,this.Y-t)};var LL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Hs){this.h=t.h,Ep(this,t.j),this.s=t.s,this.g=t.g,Dp(this,t.m),this.l=t.l;var e=t.i,n=new sl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),VL(this,n),this.o=t.o}else t&&(e=String(t).match(LL))?(this.h=!1,Ep(this,e[1]||"",!0),this.s=rl(e[2]||""),this.g=rl(e[3]||"",!0),Dp(this,e[4]),this.l=rl(e[5]||"",!0),VL(this,e[6]||"",!0),this.o=rl(e[7]||"")):(this.h=!1,this.i=new sl(null,this.h))}function ui(t){return new Hs(t)}function Ep(t,e,n){t.j=n?rl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Dp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function VL(t,e,n){e instanceof sl?(t.i=e,function Sie(t,e){e&&!t.j&&(Hi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(jL(this,r),$L(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=il(e,bie)),t.i=new sl(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function Tp(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function il(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Eie),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Eie(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Hs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(il(e,UL,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(il(e,UL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(il(n,"/"==n.charAt(0)?Tie:Die,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",il(n,Cie)),t.join("")};var UL=/[#\/\?@]/g,Die=/[#\?:]/g,Tie=/[#\?]/g,bie=/[#\?@]/g,Cie=/#/g;function sl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hi(t){t.g||(t.g=new Map,t.h=0,t.i&&function Iie(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function jL(t,e){Hi(t),e=Sa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function BL(t,e){return Hi(t),e=Sa(t,e),t.g.has(e)}function $L(t,e,n){jL(t,e),0<n.length&&(t.i=null,t.g.set(Sa(t,e),KI(n)),t.h+=n.length)}function Sa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function HL(t){this.l=t||xie,t=Y.PerformanceNavigationTiming?0<(t=Y.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=sl.prototype).add=function(t,e){Hi(this),this.i=null,t=Sa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},R.forEach=function(t,e){Hi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},R.ta=function(){Hi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},R.Z=function(t){Hi(this);let e=[];if("string"==typeof t)BL(this,t)&&(e=e.concat(this.g.get(Sa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},R.set=function(t,e){return Hi(this),this.i=null,BL(this,t=Sa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},R.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var xie=10;function zL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function GL(t){return t.h?1:t.g?t.g.size:0}function EE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function DE(t,e){t.g?t.g.add(e):t.h=e}function qL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function WL(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return KI(t.i)}HL.prototype.cancel=function(){if(this.i=WL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Mie=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function Rie(){this.g=new Mie}function Nie(t,e,n){const r=n||"";try{FL(t,function(i,s){let o=i;zc(i)&&(o=dE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function bp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ol(t){this.l=t.fc||null,this.j=t.ob||!1}function Cp(t,e){vt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=TE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yt(ol,gE),ol.prototype.g=function(){return new Cp(this.l,this.j)},ol.prototype.i=function(t){return function(){return t}}({}),yt(Cp,vt);var TE=0;function KL(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function al(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ul(t)}function ul(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(R=Cp.prototype).open=function(t,e){if(this.readyState!=TE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ul(this)},R.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,al(this)),this.readyState=TE},R.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ul(this)),this.g&&(this.readyState=3,ul(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KL(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},R.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?al(this):ul(this),3==this.readyState&&KL(this)}},R.Za=function(t){this.g&&(this.response=this.responseText=t,al(this))},R.Ya=function(t){this.g&&(this.response=t,al(this))},R.ka=function(){this.g&&al(this)},R.setRequestHeader=function(t,e){this.v.append(t,e)},R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Cp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Pie=Y.JSON.parse;function ze(t){vt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=QL,this.L=this.M=!1}yt(ze,vt);var QL="",Oie=/^https?$/i,Fie=["POST","PUT"];function YL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,XL(t),Sp(t)}function XL(t){t.F||(t.F=!0,Rt(t,"complete"),Rt(t,"error"))}function JL(t){if(t.h&&typeof qI<"u"&&(!t.C[1]||4!=Ar(t)||2!=t.da()))if(t.v&&4==Ar(t))pE(t.La,0,t);else if(Rt(t,"readystatechange"),4==Ar(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(LL)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!Oie.test(i?i.toLowerCase():"")}n=r}if(n)Rt(t,"complete"),Rt(t,"success");else{t.m=6;try{var s=2<Ar(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",XL(t)}}finally{Sp(t)}}}function Sp(t,e){if(t.g){ZL(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function ZL(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}function Ar(t){return t.g?t.g.readyState:0}function e2(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case QL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function t2(t){let e="";return nE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function bE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=t2(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):xe(t,e,n))}function cl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function n2(t){this.Ga=0,this.j=[],this.l=new mp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cl("baseRetryDelayMs",5e3,t),this.hb=cl("retryDelaySeedMs",1e4,t),this.eb=cl("forwardChannelMaxRetries",2,t),this.xa=cl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new HL(t&&t.concurrentRequestLimit),this.Ja=new Rie,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function CE(t){if(r2(t),3==t.H){var e=t.W++,n=ui(t.I);if(xe(n,"SID",t.K),xe(n,"RID",e),xe(n,"TYPE","terminate"),ll(t,n),(e=new el(t,t.l,e)).L=2,e.v=Tp(ui(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Y.Image&&((new Image).src=e.v,n=!0),n||(e.g=h2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),tl(e)}l2(t)}function Ap(t){t.g&&(AE(t),t.g.cancel(),t.g=null)}function r2(t){Ap(t),t.u&&(Y.clearTimeout(t.u),t.u=null),Mp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Y.clearTimeout(t.m),t.m=null)}function xp(t){if(!zL(t.i)&&!t.m){t.m=!0;var e=t.Na;Kc||_L(),Qc||(Kc(),Qc=!0),hE.add(e,t),t.C=0}}function i2(t,e){var n;n=e?e.m:t.W++;const r=ui(t.I);xe(r,"SID",t.K),xe(r,"RID",n),xe(r,"AID",t.V),ll(t,r),t.o&&t.s&&bE(r,t.o,t.s),n=new el(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=s2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),DE(t.i,n),wE(n,r,e)}function ll(t,e){t.na&&nE(t.na,function(n,r){xe(e,r,n)}),t.h&&FL({},function(n,r){xe(e,r,n)})}function s2(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Bt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Nie(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function o2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Kc||_L(),Qc||(Kc(),Qc=!0),hE.add(e,t),t.A=0}}function SE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Jc(Bt(t.Ma,t),c2(t,t.A)),t.A++,0))}function AE(t){null!=t.B&&(Y.clearTimeout(t.B),t.B=null)}function a2(t){t.g=new el(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ui(t.wa);xe(e,"RID","rpc"),xe(e,"SID",t.K),xe(e,"AID",t.V),xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&xe(e,"TO",t.qa),xe(e,"TYPE","xmlhttp"),ll(t,e),t.o&&t.s&&bE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Tp(ui(e)),n.s=null,n.S=!0,NL(n,t)}function Mp(t){null!=t.v&&(Y.clearTimeout(t.v),t.v=null)}function u2(t,e){var n=null;if(t.g==e){Mp(t),AE(t),t.g=null;var r=2}else{if(!EE(t.i,e))return;n=e.F,qL(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Rt(r=yp(),new SL(r,n)),xp(t)}else o2(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Uie(t,e){return!(GL(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Jc(Bt(t.Na,t,e),c2(t,t.C)),t.C++,0)))}(t,e)||2==r&&SE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:zs(t,5);break;case 4:zs(t,10);break;case 3:zs(t,6);break;default:zs(t,2)}}function c2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function zs(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Bt(t.pb,t);n||(n=new Hs("//www.google.com/images/cleardot.gif"),Y.location&&"http"==Y.location.protocol||Ep(n,"https"),Tp(n)),function kie(t,e){const n=new mp;if(Y.Image){const r=new Image;r.onload=lp(bp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lp(bp,n,r,"TestLoadImage: error",!1,e),r.onabort=lp(bp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lp(bp,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else sn(2);t.H=0,t.h&&t.h.za(e),l2(t),r2(t)}function l2(t){if(t.H=0,t.ma=[],t.h){const e=WL(t.i);(0!=e.length||0!=t.j.length)&&(sL(t.ma,e),sL(t.ma,t.j),t.i.i.length=0,KI(t.j),t.j.length=0),t.h.ya()}}function d2(t,e,n){var r=n instanceof Hs?ui(n):new Hs(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Dp(r,r.m);else{var i=Y.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Hs(null);r&&Ep(s,r),e&&(s.g=e),i&&Dp(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&xe(r,n,e),xe(r,"VER",t.ra),ll(t,r),r}function h2(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ze(n&&t.Ha&&!t.va?new ol({ob:!0}):t.va)).Oa(t.J),e}function f2(){}function Rp(){if(ba&&!(10<=Number(Jre)))throw Error("Environmental error: no available transport.")}function Rn(t,e){vt.call(this),this.g=new n2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Gc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gc(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Aa(this)}function p2(t){mE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function g2(){yE.call(this),this.status=1}function Aa(t){this.g=t}function sr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(R=ze.prototype).Oa=function(t){this.M=t},R.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vE.g(),this.C=function xL(t){return t.h||(t.h=t.i())}(this.u?this.u:vE),this.g.onreadystatechange=Bt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void YL(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Y.FormData&&t instanceof Y.FormData,!(0<=iL(Fie,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ZL(this),0<this.B&&((this.L=function Lie(t){return ba&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bt(this.ua,this)):this.A=pE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){YL(this,s)}},R.ua=function(){typeof qI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))},R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rt(this,"complete"),Rt(this,"abort"),Sp(this))},R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sp(this,!0)),ze.$.N.call(this)},R.La=function(){this.s||(this.G||this.v||this.l?JL(this):this.kb())},R.kb=function(){JL(this)},R.isActive=function(){return!!this.g},R.da=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},R.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},R.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Pie(e)}},R.Ia=function(){return this.m},R.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=n2.prototype).ra=8,R.H=1,R.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new el(this,this.l,t);let s=this.s;if(this.U&&(s?(s=lL(s),hL(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=s2(this,i,e),xe(n=ui(this.I),"RID",t),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),ll(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(t2(s)))+"&"+e:this.o&&bE(n,this.o,s)),DE(this.i,i),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",e),xe(n,"SID","null"),i.aa=!0,wE(i,n,null)):wE(i,n,e),this.H=2}}else 3==this.H&&(t?i2(this,t):0==this.j.length||zL(this.i)||i2(this))},R.Ma=function(){if(this.u=null,a2(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Jc(Bt(this.jb,this),t)}},R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sn(10),Ap(this),a2(this))},R.ib=function(){null!=this.v&&(this.v=null,Ap(this),SE(this),sn(19))},R.pb=function(t){t?(this.l.info("Successfully pinged google.com"),sn(2)):(this.l.info("Failed to ping google.com"),sn(1))},R.isActive=function(){return!!this.h&&this.h.isActive(this)},(R=f2.prototype).Ba=function(){},R.Aa=function(){},R.za=function(){},R.ya=function(){},R.isActive=function(){return!0},R.Va=function(){},Rp.prototype.g=function(t,e){return new Rn(t,e)},yt(Rn,vt),Rn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;sn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=d2(t,null,t.Y),xp(t)},Rn.prototype.close=function(){CE(this.g)},Rn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=dE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&xp(e)},Rn.prototype.N=function(){this.g.h=null,delete this.j,CE(this.g),delete this.g,Rn.$.N.call(this)},yt(p2,mE),yt(g2,yE),yt(Aa,f2),Aa.prototype.Ba=function(){Rt(this.g,"a")},Aa.prototype.Aa=function(t){Rt(this.g,new p2(t))},Aa.prototype.za=function(t){Rt(this.g,new g2)},Aa.prototype.ya=function(){Rt(this.g,"b")},yt(sr,function jie(){this.blockSize=-1}),sr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},sr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)xE(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){xE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){xE(this,r),i=0;break}}this.h=i,this.i+=e},sr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Bie={};function ME(t){return-128<=t&&128>t?function Qre(t,e){var n=Bie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ve([0|e],0>e?-1:0)}):new ve([0|t],0>t?-1:0)}function xr(t){if(isNaN(t)||!isFinite(t))return xa;if(0>t)return Nt(xr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=RE;return new ve(e,0)}var RE=4294967296,xa=ME(0),NE=ME(1),y2=ME(16777216);function ci(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Hn(t){return-1==t.h}function Nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ve(n,~t.h).add(NE)}function Np(t,e){return t.add(Nt(e))}function kp(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function dl(t,e){this.g=t,this.h=e}function Pp(t,e){if(ci(e))throw Error("division by zero");if(ci(t))return new dl(xa,xa);if(Hn(t))return e=Pp(Nt(t),e),new dl(Nt(e.g),Nt(e.h));if(Hn(e))return e=Pp(t,Nt(e)),new dl(Nt(e.g),e.h);if(30<t.g.length){if(Hn(t)||Hn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=NE,r=e;0>=r.X(t);)n=v2(n),r=v2(r);var i=Ma(n,1),s=Ma(r,1);for(r=Ma(r,2),n=Ma(n,2);!ci(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ma(r,1),n=Ma(n,1)}return e=Np(t,i.R(e)),new dl(i,e)}for(i=xa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=xr(n)).R(e);Hn(o)||0<o.X(t);)o=(s=xr(n-=r)).R(e);ci(s)&&(s=NE),i=i.add(s),t=Np(t,o)}return new dl(i,t)}function v2(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ve(n,t.h)}function Ma(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ve(i,t.h)}(R=ve.prototype).ea=function(){if(Hn(this))return-Nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:RE+r)*e,e*=RE}return t},R.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ci(this))return"0";if(Hn(this))return"-"+Nt(this).toString(t);for(var e=xr(Math.pow(t,6)),n=this,r="";;){var i=Pp(n,e).g,s=((0<(n=Np(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ci(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},R.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},R.X=function(t){return Hn(t=Np(this,t))?-1:ci(t)?0:1},R.abs=function(){return Hn(this)?Nt(this):this},R.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new ve(n,-2147483648&n[n.length-1]?-1:0)},R.R=function(t){if(ci(this)||ci(t))return xa;if(Hn(this))return Hn(t)?Nt(this).R(Nt(t)):Nt(Nt(this).R(t));if(Hn(t))return Nt(this.R(Nt(t)));if(0>this.X(y2)&&0>t.X(y2))return xr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,kp(n,2*r+2*i),n[2*r+2*i+1]+=s*u,kp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,kp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,kp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ve(n,0)},R.gb=function(t){return Pp(this,t).h},R.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ve(n,this.h&t.h)},R.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ve(n,this.h|t.h)},R.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ve(n,this.h^t.h)},Rp.prototype.createWebChannel=Rp.prototype.g,Rn.prototype.send=Rn.prototype.u,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,vp.NO_ERROR=0,vp.TIMEOUT=8,vp.HTTP_ERROR=6,AL.COMPLETE="complete",ML.EventType=Zc,Zc.OPEN="a",Zc.CLOSE="b",Zc.ERROR="c",Zc.MESSAGE="d",vt.prototype.listen=vt.prototype.O,ze.prototype.listenOnce=ze.prototype.P,ze.prototype.getLastError=ze.prototype.Sa,ze.prototype.getLastErrorCode=ze.prototype.Ia,ze.prototype.getStatus=ze.prototype.da,ze.prototype.getResponseJson=ze.prototype.Wa,ze.prototype.getResponseText=ze.prototype.ja,ze.prototype.send=ze.prototype.ha,ze.prototype.setWithCredentials=ze.prototype.Oa,sr.prototype.digest=sr.prototype.l,sr.prototype.reset=sr.prototype.reset,sr.prototype.update=sr.prototype.j,ve.prototype.add=ve.prototype.add,ve.prototype.multiply=ve.prototype.R,ve.prototype.modulo=ve.prototype.gb,ve.prototype.compare=ve.prototype.X,ve.prototype.toNumber=ve.prototype.ea,ve.prototype.toString=ve.prototype.toString,ve.prototype.getBits=ve.prototype.D,ve.fromNumber=xr,ve.fromString=function m2(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Nt(m2(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xr(Math.pow(e,8)),r=xa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=xr(Math.pow(e,s)),r=r.R(s).add(xr(o))):r=(r=r.R(n)).add(xr(o))}return r};var w2,I2,E2,C2,S2,A2,x2,M2,R2,N2,k2,P2,O2,F2,L2,V2,U2,j2,B2,$2,H2,z2,G2,q2,W2,K2,Y2,X2,sV,oV,aV,uV,cV,$ie=ir.createWebChannelTransport=function(){return new Rp},Hie=ir.getStatEventTarget=function(){return yp()},kE=ir.ErrorCode=vp,zie=ir.EventType=AL,Gie=ir.Event=Bs,_2=ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qie=ir.FetchXmlHttpFactory=ol,Op=ir.WebChannel=ML,Wie=ir.XhrIo=ze,Kie=ir.Md5=sr,Ra=ir.Integer=ve;const lV="@firebase/firestore";class _t{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");let Na="9.23.0";const zi=new ma("@firebase/firestore");function PE(){return zi.logLevel}function C(t,...e){if(zi.logLevel<=le.DEBUG){const n=e.map(OE);zi.debug(`Firestore (${Na}): ${t}`,...n)}}function Ye(t,...e){if(zi.logLevel<=le.ERROR){const n=e.map(OE);zi.error(`Firestore (${Na}): ${t}`,...n)}}function or(t,...e){if(zi.logLevel<=le.WARN){const n=e.map(OE);zi.warn(`Firestore (${Na}): ${t}`,...n)}}function OE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: `+t;throw Ye(e),new Error(e)}function V(t,e){t||O()}function M(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ht{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class dV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class Yie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Xie{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new ht;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ht,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ht)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(V("string"==typeof r.accessToken),new dV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return V(null===e||"string"==typeof e),new _t(e)}}class Jie{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Zie{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Jie(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ese{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(V("string"==typeof n.token),this.T=n.token,new hV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tse(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class fV{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=tse(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function q(t,e){return t<e?-1:t>e?1:0}function ka(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ue(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new Ue(0,0))}static max(){return new U(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hl{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===hl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ue extends hl{construct(e,n,r){return new ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const nse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends hl{construct(e,n,r){return new Xe(e,n,r)}static isValidIdentifier(e){return nse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(n)}static emptyPath(){return new Xe([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(ue.fromString(e))}static fromName(e){return new x(ue.fromString(e).popFirst(5))}static empty(){return new x(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ue.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new ue(e.slice()))}}function mV(t){return new Nn(t.readTime,t.key,-1)}class Nn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Nn(U.min(),x.empty(),-1)}static max(){return new Nn(U.max(),x.empty(),-1)}}function LE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:q(t.largestBatchId,e.largestBatchId))}const yV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sse{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gi(t){return(w2=w2||_(function*(e){if(e.code!==I.FAILED_PRECONDITION||e.message!==yV)throw e;C("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function qi(t){return"IndexedDbTransactionError"===t.name}let kn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function gl(t){return null==t}function ml(t){return 0===t&&1/t==-1/0}function CV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ae{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jp(this.root,e,this.comparator,!1)}getReverseIterator(){return new jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jp(this.root,e,this.comparator,!0)}}class jp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=s??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new kt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1,kt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new kt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AV(this.data.getIterator())}getIteratorFrom(e){return new AV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Me(this.comparator);return n.data=e,n}}class AV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _n{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Me(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ka(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class xV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new xV("Invalid base64 string: "+i):i}}(e);return new ft(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const Ase=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(t){if(V(!!t),"string"==typeof t){let e=0;const n=Ase.exec(t);if(V(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function li(t){return"string"==typeof t?ft.fromBase64String(t):ft.fromUint8Array(t)}function Bp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $p(t){const e=t.mapValue.fields.__previous_value__;return Bp(e)?$p(e):e}function yl(t){const e=Ki(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}class xse{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ws{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ws("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ws&&e.projectId===this.projectId&&e.database===this.database}}const Qi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bp(t)?4:kV(t)?9007199254740991:10:O()}function Rr(t,e){if(t===e)return!0;const n=Yi(t);if(n!==Yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yl(t).isEqual(yl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ki(r.timestampValue),o=Ki(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,li(t.bytesValue).isEqual(li(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ge(r.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(r.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ge(r.integerValue)===Ge(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ge(r.doubleValue),o=Ge(i.doubleValue);return s===o?ml(s)===ml(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ka(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(CV(s)!==CV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Rr(s[a],o[a])))return!1;return!0}(t,e);default:return O()}var i}function vl(t,e){return void 0!==(t.values||[]).find(n=>Rr(n,e))}function Xi(t,e){if(t===e)return 0;const n=Yi(t),r=Yi(e);if(n!==r)return q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return q(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ge(i.integerValue||i.doubleValue),a=Ge(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return MV(t.timestampValue,e.timestampValue);case 4:return MV(yl(t),yl(e));case 5:return q(t.stringValue,e.stringValue);case 6:return function(i,s){const o=li(i),a=li(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=q(o[u],a[u]);if(0!==c)return c}return q(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=q(Ge(i.latitude),Ge(s.latitude));return 0!==o?o:q(Ge(i.longitude),Ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Xi(o[u],a[u]);if(c)return c}return q(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Qi.mapValue&&s===Qi.mapValue)return 0;if(i===Qi.mapValue)return 1;if(s===Qi.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=q(a[l],c[l]);if(0!==d)return d;const h=Xi(o[a[l]],u[c[l]]);if(0!==h)return h}return q(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function MV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return q(t,e);const n=Ki(t),r=Ki(e),i=q(n.seconds,r.seconds);return 0!==i?i:q(n.nanos,r.nanos)}function Oa(t){return jE(t)}function jE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ki(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?li(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=jE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${jE(r.fields[a])}`;return s+"}"}(t.mapValue):O();var e}function Ks(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function BE(t){return!!t&&"integerValue"in t}function _l(t){return!!t&&"arrayValue"in t}function RV(t){return!!t&&"nullValue"in t}function NV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gp(t){return!!t&&"mapValue"in t}function wl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Pt{constructor(e){this.value=e}static empty(){return new Pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(n)}setAll(e){let n=Xe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=wl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Gp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pt(wl(this.value))}}function FV(t){const e=[];return Wi(t.fields,(n,r)=>{const i=new Xe([n]);if(Gp(r)){const s=FV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _n(e)}class Re{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Re(e,0,U.min(),U.min(),U.min(),Pt.empty(),0)}static newFoundDocument(e,n,r,i){return new Re(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new Re(e,2,n,U.min(),U.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new Re(e,3,n,U.min(),U.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Re&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Re(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ji{constructor(e,n){this.position=e,this.inclusive=n}}function LV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):Xi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function VV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}class Fa{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nse(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class UV{}class ie extends UV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new kse(e,n,r):"array-contains"===n?new Fse(e,r):"in"===n?new GV(e,r):"not-in"===n?new Lse(e,r):"array-contains-any"===n?new Vse(e,r):new ie(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Pse(e,r):new Ose(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Xi(n,this.value)):null!==n&&Yi(this.value)===Yi(n)&&this.matchesComparison(Xi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _e extends UV{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new _e(e,n)}matches(e){return La(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function La(t){return"and"===t.op}function HE(t){return function jV(t){for(const e of t.filters)if(e instanceof _e)return!1;return!0}(t)&&La(t)}function zE(t){if(t instanceof ie)return t.field.canonicalString()+t.op.toString()+Oa(t.value);if(HE(t))return t.filters.map(e=>zE(e)).join(",");{const e=t.filters.map(n=>zE(n)).join(",");return`${t.op}(${e})`}}function BV(t,e){return t instanceof ie?(n=t,(r=e)instanceof ie&&n.op===r.op&&n.field.isEqual(r.field)&&Rr(n.value,r.value)):t instanceof _e?function(n,r){return r instanceof _e&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&BV(s,r.filters[o]),!0)}(t,e):void O();var n,r}function HV(t){return t instanceof ie?function(e){return`${e.field.canonicalString()} ${e.op} ${Oa(e.value)}`}(t):t instanceof _e?function(e){return e.op.toString()+" {"+e.getFilters().map(HV).join(" ,")+"}"}(t):"Filter"}class kse extends ie{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pse extends ie{constructor(e,n){super(e,"in",n),this.keys=zV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ose extends ie{constructor(e,n){super(e,"not-in",n),this.keys=zV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class Fse extends ie{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _l(n)&&vl(n.arrayValue,this.value)}}class GV extends ie{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&vl(this.value.arrayValue,n)}}class Lse extends ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!vl(this.value.arrayValue,n)}}class Vse extends ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_l(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vl(this.value.arrayValue,r))}}class Use{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function GE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Use(t,e,n,r,i,s,o)}function Qs(t){const e=M(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oa(r)).join(",")),e.dt=n}return e.dt}function Il(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Nse(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VV(t.startAt,e.startAt)&&VV(t.endAt,e.endAt)}function qp(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class di{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Va(t){return new di(t)}function QV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function qE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Kp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function WE(t){return null!==t.collectionGroup}function Ys(t){const e=M(t);if(null===e.wt){e.wt=[];const n=Kp(e),r=qE(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Fa(n)),e.wt.push(new Fa(Xe.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Fa(Xe.keyField(),s))}}}return e.wt}function on(t){const e=M(t);if(!e._t)if("F"===e.limitType)e._t=GE(e.path,e.collectionGroup,Ys(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ys(e))n.push(new Fa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ji(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ji(e.startAt.position,e.startAt.inclusive):null;e._t=GE(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function KE(t,e){e.getFirstInequalityField(),Kp(t);const n=t.filters.concat([e]);return new di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qp(t,e,n){return new di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function El(t,e){return Il(on(t),on(e))&&t.limitType===e.limitType}function YV(t){return`${Qs(on(t))}|lt:${t.limitType}`}function QE(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>HV(r)).join(", ")}]`),gl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oa(r)).join(",")),`Target(${n})`}(on(t))}; limitType=${t.limitType})`}function Dl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ys(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=LV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ys(n),r)||n.endAt&&!function(i,s,o){const a=LV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ys(n),r)));var n,r}function JV(t){return(e,n)=>{let r=!1;for(const i of Ys(t)){const s=jse(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function jse(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Xi(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return SV(this.inner)}size(){return this.innerSize}}const Bse=new Ae(x.comparator);function wn(){return Bse}const ZV=new Ae(x.comparator);function Tl(...t){let e=ZV;for(const n of t)e=e.insert(n.key,n);return e}function eU(t){let e=ZV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Nr(){return bl()}function tU(){return bl()}function bl(){return new hi(t=>t.toString(),(t,e)=>t.isEqual(e))}const $se=new Ae(x.comparator),Hse=new Me(x.comparator);function Z(...t){let e=Hse;for(const n of t)e=e.add(n);return e}const zse=new Me(q);function nU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ml(e)?"-0":e}}function rU(t){return{integerValue:""+t}}function iU(t,e){return function _V(t){return"number"==typeof t&&Number.isInteger(t)&&!ml(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?rU(e):nU(t,e)}class Yp{constructor(){this._=void 0}}function Gse(t,e,n){return t instanceof Ua?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Bp(i)&&(i=$p(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Xs?oU(t,e):t instanceof Js?aU(t,e):function(r,i){const s=sU(r,i),o=uU(s)+uU(r.gt);return BE(s)&&BE(r.gt)?rU(o):nU(r.serializer,o)}(t,e)}function qse(t,e,n){return t instanceof Xs?oU(t,e):t instanceof Js?aU(t,e):n}function sU(t,e){return t instanceof ja?BE(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ua extends Yp{}class Xs extends Yp{constructor(e){super(),this.elements=e}}function oU(t,e){const n=cU(e);for(const r of t.elements)n.some(i=>Rr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Js extends Yp{constructor(e){super(),this.elements=e}}function aU(t,e){let n=cU(e);for(const r of t.elements)n=n.filter(i=>!Rr(i,r));return{arrayValue:{values:n}}}class ja extends Yp{constructor(e,n){super(),this.serializer=e,this.gt=n}}function uU(t){return Ge(t.integerValue||t.doubleValue)}function cU(t){return _l(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Kse{constructor(e,n){this.version=e,this.transformResults=n}}class Oe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oe}static exists(e){return new Oe(void 0,e)}static updateTime(e){return new Oe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Jp{}function lU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new $a(t.key,Oe.none()):new Ba(t.key,t.data,Oe.none());{const n=t.data,r=Pt.empty();let i=new Me(Xe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new fi(t.key,r,new _n(i.toArray()),Oe.none())}}function Qse(t,e,n){t instanceof Ba?function(r,i,s){const o=r.value.clone(),a=fU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof fi?function(r,i,s){if(!Xp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=fU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(hU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Sl(t,e,n,r){return t instanceof Ba?function(i,s,o,a){if(!Xp(i.precondition,s))return o;const u=i.value.clone(),c=pU(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof fi?function(i,s,o,a){if(!Xp(i.precondition,s))return o;const u=pU(i.fieldTransforms,a,s),c=s.data;return c.setAll(hU(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Xp(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Yse(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sU(r.transform,i||null);null!=s&&(null===n&&(n=Pt.empty()),n.set(r.field,s))}return n||null}function dU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ka(n,r,(i,s)=>function Wse(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Xs&&r instanceof Xs||n instanceof Js&&r instanceof Js?ka(n.elements,r.elements,Rr):n instanceof ja&&r instanceof ja?Rr(n.gt,r.gt):n instanceof Ua&&r instanceof Ua);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ba extends Jp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fi extends Jp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fU(t,e,n){const r=new Map;V(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,qse(o,a,n[i]))}return r}function pU(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Gse(s,o,e))}return r}class $a extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XE extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Qse(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=lU(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&ka(this.mutations,e.mutations,(n,r)=>dU(n,r))&&ka(this.baseMutations,e.baseMutations,(n,r)=>dU(n,r))}}class ZE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){V(e.mutations.length===r.length);let i=$se;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ZE(e,n,r,i)}}class eD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jse{constructor(e,n){this.count=e,this.unchangedNames=n}}var rt,ce;function mU(t){if(void 0===t)return Ye("GRPC error has no .code"),I.UNKNOWN;switch(t){case rt.OK:return I.OK;case rt.CANCELLED:return I.CANCELLED;case rt.UNKNOWN:return I.UNKNOWN;case rt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case rt.INTERNAL:return I.INTERNAL;case rt.UNAVAILABLE:return I.UNAVAILABLE;case rt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case rt.NOT_FOUND:return I.NOT_FOUND;case rt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case rt.ABORTED:return I.ABORTED;case rt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case rt.DATA_LOSS:return I.DATA_LOSS;default:return O()}}(ce=rt||(rt={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";class tD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Zp}static getOrCreateInstance(){return null===Zp&&(Zp=new tD),Zp}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Zp=null;const Zse=new Ra([4294967295,4294967295],0);function vU(t){const e=function yU(){return new TextEncoder}().encode(t),n=new Kie;return n.update(e),new Uint8Array(n.digest())}function _U(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ra([n,r],0),new Ra([i,s],0)]}class nD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Al(`Invalid padding: ${n}`);if(r<0)throw new Al(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Al(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Al(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ra.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ra.fromNumber(r)));return 1===i.compare(Zse)&&(i=new Ra([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=vU(e),[r,i]=_U(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new nD(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=vU(e),[r,i]=_U(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ml.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xl(U.min(),i,new Ae(q),wn(),Z())}}class Ml{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ml(r,n,Z(),Z(),Z())}}class eg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class wU{constructor(e,n){this.targetId=e,this.Vt=n}}class IU{constructor(e,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class EU{constructor(){this.St=0,this.Dt=TU(),this.Ct=ft.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Z(),n=Z(),r=Z();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new Ml(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=TU()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class eoe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=wn(),this.zt=DU(),this.Wt=new Ae(q)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(qp(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Re.newNoDocument(a,U.min()))}else V(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=tD.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,y;const v={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(v.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(y=null===(m=E?.bits)||void 0===m?void 0:m.padding)&&void 0!==y?y:0}),v}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=li(s).toUint8Array()}catch(l){if(l instanceof xV)return or("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new nD(u,o,a)}catch(l){return or(l instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&qp(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Re.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Z();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new xl(e,n,this.Wt,this.jt,r);return this.jt=wn(),this.zt=DU(),this.Wt=new Ae(q),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new EU,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Me(q),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new EU),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function DU(){return new Ae(x.comparator)}function TU(){return new Ae(x.comparator)}const toe={asc:"ASCENDING",desc:"DESCENDING"},noe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},roe={and:"AND",or:"OR"};class ioe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rD(t,e){return t.useProto3Json||gl(e)?e:{value:e}}function Ha(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function soe(t,e){return Ha(t,e.toTimestamp())}function Je(t){return V(!!t),U.fromTimestamp(function(e){const n=Ki(e);return new Ue(n.seconds,n.nanos)}(t))}function iD(t,e){return(n=t,new ue(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function CU(t){const e=ue.fromString(t);return V(OU(e)),e}function Rl(t,e){return iD(t.databaseId,e.path)}function kr(t,e){const n=CU(e);if(n.get(1)!==t.databaseId.projectId)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(AU(n))}function sD(t,e){return iD(t.databaseId,e)}function Nl(t){return new ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AU(t){return V(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function xU(t,e,n){return{name:Rl(t,e),fields:n.value.mapValue.fields}}function RU(t,e){return{documents:[sD(t,e.path)]}}function aD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=sD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=sD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return PU(_e.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Zi((l=c).field),direction:loe(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=rD(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function NU(t){let e=function SU(t){const e=CU(t);return 4===e.length?ue.emptyPath():AU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){V(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=kU(l);return d instanceof _e&&HE(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Fa(za((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,gl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ji((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ji(l.values||[],!l.before)}(n.endAt)),function KV(t,e,n,r,i,s,o,a){return new di(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function kU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=za(e.unaryFilter.field);return ie.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=za(e.unaryFilter.field);return ie.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=za(e.unaryFilter.field);return ie.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=za(e.unaryFilter.field);return ie.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?function(e){return ie.create(za(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return _e.create(e.compositeFilter.filters.map(n=>kU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O()}function loe(t){return toe[t]}function doe(t){return noe[t]}function hoe(t){return roe[t]}function Zi(t){return{fieldPath:t.canonicalString()}}function za(t){return Xe.fromServerFormat(t.fieldPath)}function PU(t){return t instanceof ie?function(e){if("=="===e.op){if(NV(e.value))return{unaryFilter:{field:Zi(e.field),op:"IS_NAN"}};if(RV(e.value))return{unaryFilter:{field:Zi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(NV(e.value))return{unaryFilter:{field:Zi(e.field),op:"IS_NOT_NAN"}};if(RV(e.value))return{unaryFilter:{field:Zi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zi(e.field),op:doe(e.op),value:e.value}}}(t):t instanceof _e?function(e){const n=e.getFilters().map(r=>PU(r));return 1===n.length?n[0]:{compositeFilter:{op:hoe(e.op),filters:n}}}(t):O()}function foe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class pi{constructor(e,n,r,i,s=U.min(),o=U.min(),a=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class FU{constructor(e){this.fe=e}}function uD(t){const e=NU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Qp(e,e.limit,"L"):e}class no{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ge(e.integerValue));else if("doubleValue"in e){const r=Ge(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),ml(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(li(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?kV(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):O()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}no.Ve=new no;class Eoe{constructor(){this.rn=new pD}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(Nn.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(Nn.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class pD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Me(ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Me(ue.comparator)).toArray()}}new Uint8Array(0);class zt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zt(e,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}zt.DEFAULT_COLLECTION_PERCENTILE=10,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zt.DEFAULT=new zt(41943040,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zt.DISABLED=new zt(-1,0,0);class io{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new io(0)}static Mn(){return new io(-1)}}class Aoe{constructor(){this.changes=new hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Re.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Roe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class uj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Sl(r.mutation,i,_n.empty(),Ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Z()){const i=Nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Tl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Nr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Z()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=wn();const o=bl(),a=bl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof fi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Sl(l.mutation,c,l.mutation.getFieldMask(),Ue.now())):o.set(c.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Roe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=bl();let i=new Ae((o,a)=>o-a),s=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||_n.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||Z()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=tU();l.forEach(h=>{if(!s.has(h)){const f=lU(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):WE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(Nr());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Z())).next(l=>({batchId:a,changes:eU(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Tl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Tl();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new di(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Re.newInvalidDocument(c)))});let o=Tl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Sl(c.mutation,u,_n.empty(),Ue.now()),Dl(n,u)&&(o=o.insert(a,u))}),o})}}class Noe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Je(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:uD(r.bundledQuery),readTime:Je(r.readTime)}),w.resolve();var r}}class koe{constructor(){this.overlays=new Ae(x.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Nr();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=Nr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ae((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Nr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Nr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eD(n,r));let s=this.ls.get(n);void 0===s&&(s=Z(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class gD{constructor(){this.fs=new Me(It.ds),this.ws=new Me(It._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new It(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new It(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new ue([])),r=new It(n,e),i=new It(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new ue([])),r=new It(n,e),i=new It(n,e+1);let s=Z();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new It(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||q(e.As,n.As)}static _s(e,n){return q(e.As,n.As)||x.comparator(e.key,n.key)}}class Poe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Me(It.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new JE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new It(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(q);return n.forEach(i=>{const s=new It(i,0),o=new It(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new It(new x(s),0);let a=new Me(q);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){V(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new It(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new It(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ooe{constructor(e){this.Ds=e,this.docs=new Ae(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Re.newInvalidDocument(n))}getEntries(e,n){let r=wn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Re.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=wn();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||LE(mV(l),r)<=0||(i.has(l.key)||Dl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){O()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Foe(this)}getSize(e){return w.resolve(this.size)}}class Foe extends Aoe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Loe{constructor(e){this.persistence=e,this.xs=new hi(n=>Qs(n),Il),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Ns=0,this.ks=new gD,this.targetCount=0,this.Ms=io.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new io(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class mD{constructor(e,n){this.$s={},this.overlays={},this.Os=new kn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Loe(this),this.indexManager=new Eoe,this.remoteDocumentCache=new Ooe(r=>this.referenceDelegate.Ls(r)),this.serializer=new FU(n),this.qs=new Noe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new koe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Poe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new Voe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Voe extends sse{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Qs=new gD,this.js=null}static zs(e){return new cg(e)}get Ws(){if(this.js)return this.js;throw O()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class wD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Z(),i=Z();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new wD(e,n.fromCache,r,i)}}class lj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(QV(n))return w.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Qp(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Z(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Qp(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return QV(n)||i.isEqual(U.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(PE()<=le.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),QE(n)),this.Wi(e,o,n,function gV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new Ue(n+1,0):new Ue(n,r));return new Nn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Me(JV(e));return n.forEach((i,s)=>{Dl(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return PE()<=le.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",QE(n)),this.Ui.getDocumentsMatchingQuery(e,n,Nn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class joe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ae(q),this.Yi=new hi(s=>Qs(s),Il),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function hj(t,e){return(I2=I2||_(function*(n,r){const i=M(n);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(a=>(o=a,i.tr(r),i.mutationQueue.getAllMutationBatches(s))).next(a=>{const u=[],c=[];let l=Z();for(const d of o){u.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of a){c.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return i.localDocuments.getDocuments(s,l).next(d=>({er:d,removedBatchIds:u,addedBatchIds:c}))})})})).apply(this,arguments)}function fj(t){const e=M(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Hoe(t,e){const n=M(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ka(t,e,n){return(E2=E2||_(function*(r,i,s){const o=M(r),a=o.Ji.get(i),u=s?"readwrite":"readwrite-primary";try{s||(yield o.persistence.runTransaction("Release target",u,c=>o.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!qi(c))throw c;C("LocalStore",`Failed to update sequence numbers for target ${i}: ${c}`)}o.Ji=o.Ji.remove(i),o.Yi.delete(a.target)})).apply(this,arguments)}function hg(t,e,n){const r=M(t);let i=U.min(),s=Z();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=M(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,on(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:Z())).next(a=>(function yj(t,e,n){let r=t.Xi.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function XV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class DD{constructor(){this.activeTargetIds=function YE(){return zse}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wj{constructor(){this.Hr=new DD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new DD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qoe{Yr(e){}shutdown(){}}class Ij{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gg=null;function bD(){return null===gg?gg=268435456+Math.round(2147483648*Math.random()):gg++,"0x"+gg.toString(16)}const Woe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Koe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Gt="WebChannelConnection";class Qoe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=bD(),a=this.To(e,n);C("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(C("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw or("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Na,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Woe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=bD();return new Promise((o,a)=>{const u=new Wie;u.setWithCredentials(!0),u.listenOnce(zie.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case kE.NO_ERROR:const l=u.getResponseJson();C(Gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case kE.TIMEOUT:C(Gt,`RPC '${e}' ${s} timed out`),a(new b(I.DEADLINE_EXCEEDED,"Request time out"));break;case kE.HTTP_ERROR:const d=u.getStatus();if(C(Gt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(I.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{C(Gt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);C(Gt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=bD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$ie(),a=Hie(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new qie({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");C(Gt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Koe({ro:m=>{f?C(Gt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(C(Gt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(Gt,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,y,v)=>{m.listen(y,E=>{try{v(E)}catch(D){setTimeout(()=>{throw D},0)}})};return g(d,Op.EventType.OPEN,()=>{f||C(Gt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Op.EventType.CLOSE,()=>{f||(f=!0,C(Gt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Op.EventType.ERROR,m=>{f||(f=!0,or(Gt,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new b(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,Op.EventType.MESSAGE,m=>{var y;if(!f){const v=m.data[0];V(!!v);const D=v.error||(null===(y=v[0])||void 0===y?void 0:y.error);if(D){C(Gt,`RPC '${e}' stream ${i} received error:`,D);const N=D.status;let W=function(et){const Et=rt[et];if(void 0!==Et)return mU(Et)}(N),he=D.message;void 0===W&&(W=I.INTERNAL,he="Unknown error status: "+N+" with message "+D.message),f=!0,p.wo(new b(W,he)),d.close()}else C(Gt,`RPC '${e}' stream ${i} received:`,v),p._o(v)}}),g(a,Gie.STAT_EVENT,m=>{m.stat===_2.PROXY?C(Gt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===_2.NOPROXY&&C(Gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function mg(){return typeof document<"u"?document:null}function $l(t){return new ioe(t,!0)}class CD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Dj{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new CD(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return _(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return _(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return _(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Ye(n.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(_(function*(){e.state=0,e.start()}))}tu(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yoe extends Dj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function aoe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(V(void 0===c||"string"==typeof c),ft.fromBase64String(c||"")):(V(void 0===c||c instanceof Uint8Array),ft.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:mU(u.code);return new b(c,u.message||"")}(o);n=new IU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=kr(t,r.document.name),s=Je(r.document.updateTime),o=r.document.createTime?Je(r.document.createTime):U.min(),a=new Pt({mapValue:{fields:r.document.fields}}),u=Re.newFoundDocument(i,s,o,a);n=new eg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=kr(t,r.document),s=r.readTime?Je(r.readTime):U.min(),o=Re.newNoDocument(i,s);n=new eg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=kr(t,r.document);n=new eg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Jse(i,s);n=new wU(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return U.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?Je(s.readTime):U.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Nl(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=qp(a)?{documents:RU(i,a)}:{query:aD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=bU(i,s.resumeToken);const u=rD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(U.min())>0){o.readTime=Ha(i,s.snapshotVersion.toTimestamp());const u=rD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function coe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Nl(this.serializer),n.removeTarget=e,this.Wo(n)}}class Xoe extends Dj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(V(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function uoe(t,e){return t&&t.length>0?(V(void 0!==e),t.map(n=>function(r,i){let s=Je(r.updateTime?r.updateTime:i);return s.isEqual(U.min())&&(s=Je(i)),new Kse(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Je(e.commitTime);return this.listener.cu(r,n)}return V(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Nl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function kl(t,e){let n;if(e instanceof Ba)n={update:xU(t,e.key,e.value)};else if(e instanceof $a)n={delete:Rl(t,e.key)};else if(e instanceof fi)n={update:xU(t,e.key,e.data),updateMask:foe(e.fieldMask)};else{if(!(e instanceof XE))return O();n={verify:Rl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ua)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Xs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Js)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ja)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:soe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),n;var i}(this.serializer,r))};this.Wo(n)}}class Joe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class eae{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ye(n),this.mu=!1):C("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class tae{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(_(function*(){var u;rs(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield function(c){return(u=u||_(function*(l){const d=M(l);d.vu.add(4),yield Qa(d),d.bu.set("Unknown"),d.vu.delete(4),yield Hl(d)})).apply(this,arguments)}(o))}))}),this.bu=new eae(r,i)}}function Hl(t){return(C2=C2||_(function*(e){if(rs(e))for(const n of e.Ru)yield n(!0)})).apply(this,arguments)}function Qa(t){return(S2=S2||_(function*(e){for(const n of e.Ru)yield n(!1)})).apply(this,arguments)}function yg(t,e){const n=M(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),xD(n)?AD(n):Xa(n).Ko()&&SD(n,e))}function zl(t,e){const n=M(t),r=Xa(n);n.Au.delete(e),r.Ko()&&Tj(n,e),0===n.Au.size&&(r.Ko()?r.jo():rs(n)&&n.bu.set("Unknown"))}function SD(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(U.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xa(t).su(e)}function Tj(t,e){t.Vu.qt(e),Xa(t).iu(e)}function AD(t){t.Vu=new eoe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Xa(t).start(),t.bu.gu()}function xD(t){return rs(t)&&!Xa(t).Uo()&&t.Au.size>0}function rs(t){return 0===M(t).vu.size}function bj(t){t.Vu=void 0}function nae(t){return(A2=A2||_(function*(e){e.Au.forEach((n,r)=>{SD(e,n)})})).apply(this,arguments)}function rae(t,e){return(x2=x2||_(function*(n,r){bj(n),xD(n)?(n.bu.Iu(r),AD(n)):n.bu.set("Unknown")})).apply(this,arguments)}function iae(t,e,n){return(M2=M2||_(function*(r,i,s){if(r.bu.set("Online"),i instanceof IU&&2===i.state&&i.cause)try{var o;yield function(a,u){return(o=o||_(function*(c,l){const d=l.cause;for(const h of l.targetIds)c.Au.has(h)&&(yield c.remoteSyncer.rejectListen(h,d),c.Au.delete(h),c.Vu.removeTarget(h))})).apply(this,arguments)}(r,i)}catch(a){C("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),a),yield vg(r,a)}else if(i instanceof eg?r.Vu.Ht(i):i instanceof wU?r.Vu.ne(i):r.Vu.Xt(i),!s.isEqual(U.min()))try{const a=yield fj(r.localStore);s.compareTo(a)>=0&&(yield function(u,c){const l=u.Vu.ce(c);return l.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const f=u.Au.get(h);f&&u.Au.set(h,f.withResumeToken(d.resumeToken,c))}}),l.targetMismatches.forEach((d,h)=>{const f=u.Au.get(d);if(!f)return;u.Au.set(d,f.withResumeToken(ft.EMPTY_BYTE_STRING,f.snapshotVersion)),Tj(u,d);const p=new pi(f.target,d,h,f.sequenceNumber);SD(u,p)}),u.remoteSyncer.applyRemoteEvent(l)}(r,s))}catch(a){C("RemoteStore","Failed to raise snapshot:",a),yield vg(r,a)}})).apply(this,arguments)}function vg(t,e,n){return(R2=R2||_(function*(r,i,s){if(!qi(i))throw i;r.vu.add(1),yield Qa(r),r.bu.set("Offline"),s||(s=()=>fj(r.localStore)),r.asyncQueue.enqueueRetryable(_(function*(){C("RemoteStore","Retrying IndexedDB access"),yield s(),r.vu.delete(1),yield Hl(r)}))})).apply(this,arguments)}function Cj(t,e){return e().catch(n=>vg(t,n,e))}function Ya(t){return(N2=N2||_(function*(e){const n=M(e),r=is(n);let i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;for(;sae(n);)try{const s=yield Hoe(n.localStore,i);if(null===s){0===n.Eu.length&&r.jo();break}i=s.batchId,oae(n,s)}catch(s){yield vg(n,s)}Sj(n)&&Aj(n)})).apply(this,arguments)}function sae(t){return rs(t)&&t.Eu.length<10}function oae(t,e){t.Eu.push(e);const n=is(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Sj(t){return rs(t)&&!is(t).Uo()&&t.Eu.length>0}function Aj(t){is(t).start()}function aae(t){return(k2=k2||_(function*(e){is(e).hu()})).apply(this,arguments)}function uae(t){return(P2=P2||_(function*(e){const n=is(e);for(const r of e.Eu)n.uu(r.mutations)})).apply(this,arguments)}function cae(t,e,n){return(O2=O2||_(function*(r,i,s){const o=r.Eu.shift(),a=ZE.from(o,i,s);yield Cj(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Ya(r)})).apply(this,arguments)}function lae(t,e){return(F2=F2||_(function*(n,r){var i;r&&is(n).ou&&(yield function(s,o){return(i=i||_(function*(a,u){if(function gU(t){switch(t){default:return O();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(c=u.code)&&c!==I.ABORTED){const l=a.Eu.shift();is(a).Qo(),yield Cj(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,u)),yield Ya(a)}var c})).apply(this,arguments)}(n,r)),Sj(n)&&Aj(n)})).apply(this,arguments)}function xj(t,e){return(L2=L2||_(function*(n,r){const i=M(n);i.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const s=rs(i);i.vu.add(3),yield Qa(i),s&&i.bu.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(r),i.vu.delete(3),yield Hl(i)})).apply(this,arguments)}function Xa(t){var e;return t.Su||(t.Su=function(n,r,i){const s=M(n);return s.fu(),new Yoe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:nae.bind(null,t),ao:rae.bind(null,t),nu:iae.bind(null,t)}),t.Ru.push(function(n){return(e=e||_(function*(r){r?(t.Su.Qo(),xD(t)?AD(t):t.bu.set("Unknown")):(yield t.Su.stop(),bj(t))})).apply(this,arguments)})),t.Su}function is(t){var e;return t.Du||(t.Du=function(n,r,i){const s=M(n);return s.fu(),new Xoe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:aae.bind(null,t),ao:lae.bind(null,t),au:uae.bind(null,t),cu:cae.bind(null,t)}),t.Ru.push(function(n){return(e=e||_(function*(r){r?(t.Du.Qo(),yield Ya(t)):(yield t.Du.stop(),t.Eu.length>0&&(C("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})).apply(this,arguments)})),t.Du}class RD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ht,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new RD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ja(t,e){if(Ye("AsyncQueue",`${e}: ${t}`),qi(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Za{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Tl(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new Za(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Mj{constructor(){this.Cu=new Ae(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):O():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class eu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new eu(e,n,Za.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&El(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class dae{constructor(){this.Nu=void 0,this.listeners=[]}}class hae{constructor(){this.queries=new hi(e=>YV(e),El),this.onlineState="Unknown",this.ku=new Set}}function fae(t,e){const n=M(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&PD(n)}function pae(t,e,n){const r=M(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function PD(t){t.ku.forEach(e=>{e.next()})}class OD{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class kj{constructor(e){this.key=e}}class Pj{constructor(e){this.key=e}}class Oj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Z(),this.mutatedKeys=Z(),this.tc=JV(e),this.ec=new Za(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Mj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Dl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new eu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Mj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Z(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Pj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new kj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Z();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return eu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class yae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vae{constructor(e){this.key=e,this.fc=!1}}class _ae{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new hi(a=>YV(a),El),this._c=new Map,this.mc=new Set,this.gc=new Ae(x.comparator),this.yc=new Map,this.Ic=new gD,this.Tc={},this.Ec=new Map,this.Ac=io.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function wae(t,e){return(B2=B2||_(function*(n,r){const i=function BD(t){const e=M(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dae.bind(null,e),e.dc.nu=fae.bind(null,e.eventManager),e.dc.Pc=pae.bind(null,e.eventManager),e}(n);let s,o;const a=i.wc.get(r);if(a)s=a.targetId,i.sharedClientState.addLocalQueryTarget(s),o=a.view.lc();else{const u=yield function Wa(t,e){const n=M(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(i.localStore,on(r)),c=i.sharedClientState.addLocalQueryTarget(u.targetId);s=u.targetId,o=yield function FD(t,e,n,r,i){return($2=$2||_(function*(s,o,a,u,c){s.Rc=(m,y,v)=>{var E;return function(D,N,W,he){return(E=E||_(function*(et,Et,fd,em){let tm=Et.view.sc(fd);tm.zi&&(tm=yield hg(et.localStore,Et.query,!1).then(({documents:Qde})=>Et.view.sc(Qde,tm)));const Kde=em&&em.targetChanges.get(Et.targetId),V$=Et.view.applyChanges(tm,et.isPrimaryClient,Kde);return UD(et,Et.targetId,V$.cc),V$.snapshot})).apply(this,arguments)}(s,m,y,v)};const l=yield hg(s.localStore,o,!0),d=new Oj(o,l.ir),h=d.sc(l.documents),f=Ml.createSynthesizedTargetChangeForCurrentChange(a,u&&"Offline"!==s.onlineState,c),p=d.applyChanges(h,s.isPrimaryClient,f);UD(s,a,p.cc);const g=new yae(o,a,d);return s.wc.set(o,g),s._c.has(a)?s._c.get(a).push(o):s._c.set(a,[o]),p.snapshot})).apply(this,arguments)}(i,r,s,"current"===c,u.resumeToken),i.isPrimaryClient&&yg(i.remoteStore,u)}return o})).apply(this,arguments)}function Iae(t,e){return(H2=H2||_(function*(n,r){const i=M(n),s=i.wc.get(r),o=i._c.get(s.targetId);if(o.length>1)return i._c.set(s.targetId,o.filter(a=>!El(a,r))),void i.wc.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ka(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),zl(i.remoteStore,s.targetId),tu(i,s.targetId)}).catch(Gi))):(tu(i,s.targetId),yield Ka(i.localStore,s.targetId,!0))})).apply(this,arguments)}function Fj(t,e){return(G2=G2||_(function*(n,r){const i=M(n);try{const s=yield function $oe(t,e){const n=M(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(ft.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=wn(),c=Z();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function pj(t,e,n){let r=Z(),i=Z();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=wn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(U.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(U.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(i.localStore,r);r.targetChanges.forEach((o,a)=>{const u=i.yc.get(a);u&&(V(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.fc=!0:o.modifiedDocuments.size>0?V(u.fc):o.removedDocuments.size>0&&(V(u.fc),u.fc=!1))}),yield gi(i,s,r)}catch(s){yield Gi(s)}})).apply(this,arguments)}function Lj(t,e,n){const r=M(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=M(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&PD(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Dae(t,e,n){return(q2=q2||_(function*(r,i,s){const o=M(r);o.sharedClientState.updateQueryState(i,"rejected",s);const a=o.yc.get(i),u=a&&a.key;if(u){let c=new Ae(x.comparator);c=c.insert(u,Re.newNoDocument(u,U.min()));const l=Z().add(u),d=new xl(U.min(),new Map,new Ae(q),c,l);yield Fj(o,d),o.gc=o.gc.remove(u),o.yc.delete(i),jD(o)}else yield Ka(o.localStore,i,!1).then(()=>tu(o,i,s)).catch(Gi)})).apply(this,arguments)}function Tae(t,e){return(W2=W2||_(function*(n,r){const i=M(n),s=r.batch.batchId;try{const o=yield function Boe(t,e){const n=M(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);V(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Z();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(i.localStore,r);VD(i,s,null),LD(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield gi(i,o)}catch(o){yield Gi(o)}})).apply(this,arguments)}function bae(t,e,n){return(K2=K2||_(function*(r,i,s){const o=M(r);try{const a=yield function(u,c){const l=M(u);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,c).next(f=>(V(null!==f),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(o.localStore,i);VD(o,i,s),LD(o,i),o.sharedClientState.updateMutationState(i,"rejected",s),yield gi(o,a)}catch(a){yield Gi(a)}})).apply(this,arguments)}function LD(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function VD(t,e,n){const r=M(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function tu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Vj(t,r)})}function Vj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(zl(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),jD(t))}function UD(t,e,n){for(const r of n)r instanceof kj?(t.Ic.addReference(r.key,e),Sae(t,r)):r instanceof Pj?(C("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Vj(t,r.key)):O()}function Sae(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(C("SyncEngine","New document in limbo: "+n),t.mc.add(r),jD(t))}function jD(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(ue.fromString(e)),r=t.Ac.next();t.yc.set(r,new vae(n)),t.gc=t.gc.insert(n,r),yg(t.remoteStore,new pi(on(Va(n.path)),r,"TargetPurposeLimboResolution",kn.ct))}}function gi(t,e,n){return(Y2=Y2||_(function*(r,i,s){var o;const a=M(r),u=[],c=[],l=[];a.wc.isEmpty()||(a.wc.forEach((d,h)=>{l.push(a.Rc(h,i,s).then(f=>{if((f||s)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(h.targetId,f?.fromCache?"not-current":"current"),f){u.push(f);const p=wD.Li(h.targetId,f);c.push(p)}}))}),yield Promise.all(l),a.dc.nu(u),yield function(d,h){return(o=o||_(function*(f,p){const g=M(f);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>w.forEach(p,y=>w.forEach(y.Fi,v=>g.persistence.referenceDelegate.addReference(m,y.targetId,v)).next(()=>w.forEach(y.Bi,v=>g.persistence.referenceDelegate.removeReference(m,y.targetId,v)))))}catch(m){if(!qi(m))throw m;C("LocalStore","Failed to update sequence numbers: "+m)}for(const m of p){const y=m.targetId;if(!m.fromCache){const v=g.Ji.get(y),D=v.withLastLimboFreeSnapshotVersion(v.snapshotVersion);g.Ji=g.Ji.insert(y,D)}}})).apply(this,arguments)}(a.localStore,c))})).apply(this,arguments)}function Aae(t,e){return(X2=X2||_(function*(n,r){const i=M(n);if(!i.currentUser.isEqual(r)){C("SyncEngine","User change. New user:",r.toKey());const s=yield hj(i.localStore,r);i.currentUser=r,(o=i).Ec.forEach(u=>{u.forEach(c=>{c.reject(new b(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),i.sharedClientState.handleUserChange(r,s.removedBatchIds,s.addedBatchIds),yield gi(i,s.er)}var o})).apply(this,arguments)}function xae(t,e){const n=M(t),r=n.yc.get(e);if(r&&r.fc)return Z().add(r.key);{let i=Z();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function $D(t){const e=M(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bae.bind(null,e),e}class _g{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return _(function*(){n.serializer=$l(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function dj(t,e,n,r){return new joe(t,e,n,r)}(this.persistence,new lj,e.initialUser,this.serializer)}createPersistence(e){return new mD(cg.zs,this.serializer)}createSharedClientState(e){return new wj}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class nu{initialize(e,n){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Lj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Aae.bind(null,r.syncEngine),yield function MD(t,e){return(V2=V2||_(function*(n,r){const i=M(n);r?(i.vu.delete(2),yield Hl(i)):r||(i.vu.add(2),yield Qa(i),i.bu.set("Unknown"))})).apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hae}createDatastore(e){const n=$l(e.databaseInfo.databaseId),r=new Qoe(e.databaseInfo);return new Joe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Lj(this.syncEngine,a,0),o=Ij.D()?new Ij:new qoe,new tae(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new _ae(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e;return function(n){return(e=e||_(function*(r){const i=M(r);C("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Qa(i),i.Pu.shutdown(),i.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}class wg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ye("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class $ae{constructor(e,n,r,i){var o,s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_t.UNAUTHENTICATED,this.clientId=fV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(a){return(o=o||_(function*(u){C("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u})).apply(this,arguments)}),this.appCheckCredentials.start(r,a=>(C("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ht;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ja(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Ig(t,e){return(sV=sV||_(function*(n,r){var i;n.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const s=yield n.getConfiguration();yield r.initialize(s);let o=s.initialUser;n.setCredentialChangeListener(function(a){return(i=i||_(function*(u){o.isEqual(u)||(yield hj(r.localStore,u),o=u)})).apply(this,arguments)}),r.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=r})).apply(this,arguments)}function HD(t,e){return(oV=oV||_(function*(n,r){n.asyncQueue.verifyOperationInProgress();const i=yield function zD(t){return(aV=aV||_(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ig(e,e._uninitializedComponentsProvider._offline)}catch(n){const r=n;if(!function zj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r))throw r;or("Error using user provided cache. Falling back to memory cache: "+r),yield Ig(e,new _g)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield Ig(e,new _g);return e._offlineComponents})).apply(this,arguments)}(n);C("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield r.initialize(i,s),n.setCredentialChangeListener(o=>xj(r.remoteStore,o)),n.setAppCheckTokenChangeListener((o,a)=>xj(r.remoteStore,a)),n._onlineComponents=r})).apply(this,arguments)}function Eg(t){return(uV=uV||_(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield HD(e,e._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield HD(e,new nu))),e._onlineComponents})).apply(this,arguments)}function ru(t){return(cV=cV||_(function*(e){const n=yield Eg(e),r=n.eventManager;return r.onListen=wae.bind(null,n.syncEngine),r.onUnlisten=Iae.bind(null,n.syncEngine),r})).apply(this,arguments)}function Yj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Xj=new Map;function qD(t,e,n){if(!n)throw new b(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Jj(t){if(!x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zj(t){if(x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function se(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tg(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class tB{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Xae(t,e,n,r){if(!0===e&&!0===r)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Yj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tB(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Qie;switch(n.type){case"firstParty":return new Zie(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Xj.get(e);n&&(C("ComponentProvider","Removing Datastore"),Xj.delete(e),n.terminate())}(this),Promise.resolve()}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}}class Ot{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ot(this.firestore,e,this._query)}}class Pr extends Ot{constructor(e,n,r){super(e,n,Va(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new x(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function Zae(t,e,...n){if(t=Mn(t),qD("collection","path",e),t instanceof Gl){const r=ue.fromString(e,...n);return Zj(r),new Pr(t,null,r)}{if(!(t instanceof Ze||t instanceof Pr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return Zj(r),new Pr(t.firestore,null,r)}}class tue{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new CD(this,"async_queue_retry"),this.Xc=()=>{const n=mg();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=mg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=mg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ht;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!qi(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=RD.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function WD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ne extends Gl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tue,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||rB(this),this._firestoreClient.terminate()}}function rue(t,e){const r="string"==typeof t?t:e||"(default)",i=Nf("object"==typeof t?t:CN(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Sf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Jae(t,e,n,r={}){var i;const s=(t=se(t,Gl))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=_t.MOCK_USER;else{a=function $Q(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bf(JSON.stringify({alg:"none",type:"JWT"})),bf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _t(c)}t._authCredentials=new Yie(new dV(a,u))}}(i,...s)}return i}function it(t){return t._firestoreClient||rB(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rB(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new xse(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Yj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new $ae(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(ft.fromBase64String(e))}catch(n){throw new b(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oo(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class iu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oB{constructor(e){this._methodName=e}}class KD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return q(this._lat,e._lat)||q(this._long,e._long)}}const sue=/^__.*__$/;class oue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ba(e,this.data,n,this.fieldTransforms)}}function uB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class bg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new bg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Sg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(uB(this.ca)&&sue.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class aue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$l(e)}ya(e,n,r,i=!1){return new bg({ca:e,methodName:n,ga:r,path:Xe.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function su(t){const e=t._freezeSettings(),n=$l(t._databaseId);return new aue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QD(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);XD("Data must be an object, but it was:",o,r);const a=fB(r,o);let u,c;if(s.merge)u=new _n(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Kl(e,d,n);if(!o.contains(h))throw new b(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);gB(l,h)||l.push(h)}u=new _n(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new oue(new Pt(a),u,c)}function ao(t,e){if(pB(t=Mn(t)))return XD("Unsupported field value:",e,t),fB(t,e);if(t instanceof oB)return function(n,r){if(!uB(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ao(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Mn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return iU(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ue.fromDate(n);return{timestampValue:Ha(r.serializer,i)}}if(n instanceof Ue){const i=new Ue(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ha(r.serializer,i)}}if(n instanceof KD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof oo)return{bytesValue:bU(r.serializer,n._byteString)};if(n instanceof Ze){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Tg(n)}`)}(t,e)}function fB(t,e){const n={};return SV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(t,(r,i)=>{const s=ao(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function pB(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof KD||t instanceof oo||t instanceof Ze||t instanceof oB)}function XD(t,e,n){if(!pB(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Tg(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Kl(t,e,n){if((e=Mn(e))instanceof iu)return e._internalPath;if("string"==typeof e)return Cg(t,e);throw Sg("Field path arguments must be of type string or ",t,!1,void 0,n)}const due=new RegExp("[~\\*/\\[\\]]");function Cg(t,e,n){if(e.search(due)>=0)throw Sg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iu(...e.split("."))._internalPath}catch{throw Sg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(I.INVALID_ARGUMENT,a+t+u)}function gB(t,e){return t.some(n=>n.isEqual(e))}class JD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ag("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class hue extends JD{data(){return super.data()}}function Ag(t,e){return"string"==typeof e?Cg(t,e):e instanceof iu?e._internalPath:e._delegate._internalPath}class ZD{}class fue extends ZD{}function pue(t,e,...n){let r=[];e instanceof ZD&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof ou).length,o=i.filter(a=>a instanceof Ql).length;if(s>1||s>0&&o>0)throw new b(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ql extends fue{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ql(e,n,r)}_apply(e){const n=this._parse(e);return wB(e._query,n),new Ot(e.firestore,e.converter,KE(e._query,n))}_parse(e){const n=su(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new b(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){_B(l,c);const h=[];for(const f of l)h.push(vB(a,i,f));d={arrayValue:{values:h}}}else d=vB(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||_B(l,c),d=function hB(t,e,n,r=!1){return ao(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return ie.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function gue(t,e,n){const r=e,i=Ag("where",t);return Ql._create(i,r,n)}class ou extends ZD{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ou(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:_e.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)wB(s,a),s=KE(s,a)}(e._query,n),new Ot(e.firestore,e.converter,KE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function vB(t,e,n){if("string"==typeof(n=Mn(n))){if(""===n)throw new b(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WE(e)&&-1!==n.indexOf("/"))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ue.fromString(n));if(!x.isDocumentKey(r))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ks(t,new x(r))}if(n instanceof Ze)return Ks(t,n._key);throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tg(n)}.`)}function _B(t,e){if(!Array.isArray(t)||0===t.length)throw new b(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wB(t,e){if(e.isInequality()){const r=Kp(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new b(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=qE(t);null!==s&&function IB(t,e,n){if(!n.isEqual(e))throw new b(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new b(I.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mue{convertValue(e,n="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new KD(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$p(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const n=Ki(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ue.fromString(e);V(OU(r));const i=new Ws(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||Ye(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class uo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class au extends JD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ng(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ag("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ng extends au{data(e={}){return super.data(e)}}class uu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new uo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ng(this._firestore,this._userDataWriter,r.key,r,new uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Ng(r._firestore,r._userDataWriter,o.doc.key,o.doc,new uo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Ng(r._firestore,r._userDataWriter,o.doc.key,o.doc,new uo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:vue(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vue(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class ss extends mue{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function _ue(t,e){const n=se(t.firestore,Ne),r=function eue(t,e,...n){if(t=Mn(t),1===arguments.length&&(e=fV.A()),qD("doc","path",e),t instanceof Gl){const r=ue.fromString(e,...n);return Jj(r),new Ze(t,null,new x(r))}{if(!(t instanceof Ze||t instanceof Pr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return Jj(r),new Ze(t.firestore,t instanceof Pr?t.converter:null,new x(r))}}(t),i=function tT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function Yl(t,e){return function(n,r){const i=new ht;return n.asyncQueue.enqueueAndForget(_(function*(){return function Eae(t,e,n){return(z2=z2||_(function*(r,i,s){const o=$D(r);try{const a=yield function(u,c){const l=M(u),d=Ue.now(),h=c.reduce((g,m)=>g.add(m.key),Z());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=wn(),y=Z();return l.Zi.getEntries(g,h).next(v=>{m=v,m.forEach((E,D)=>{D.isValidDocument()||(y=y.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,m)).next(v=>{f=v;const E=[];for(const D of c){const N=Yse(D,f.get(D.key).overlayedDocument);null!=N&&E.push(new fi(D.key,N,FV(N.value.mapValue),Oe.exists(!0)))}return l.mutationQueue.addMutationBatch(g,d,E,c)}).next(v=>{p=v;const E=v.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,v.batchId,E)})}).then(()=>({batchId:p.batchId,changes:eU(f)}))}(o.localStore,i);o.sharedClientState.addPendingMutation(a.batchId),function(u,c,l){let d=u.Tc[u.currentUser.toKey()];d||(d=new Ae(q)),d=d.insert(c,l),u.Tc[u.currentUser.toKey()]=d}(o,a.batchId,s),yield gi(o,a.changes),yield Ya(o.remoteStore)}catch(a){const u=Ja(a,"Failed to persist write");s.reject(u)}})).apply(this,arguments)}(yield function GD(t){return Eg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(it(t),e)}(n,[QD(su(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Oe.exists(!1))]).then(()=>r)}!function(t,e=!0){Na=Ac,nn(new jt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ne(new Xie(n.getProvider("auth-internal")),new ese(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ws(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Qe(lV,"3.13.0",t),Qe(lV,"3.13.0","esm2017")}();var Nue={includeMetadataChanges:!1};function rT(t,e){return void 0===e&&(e=Nue),new Fe(function(n){var r=function wue(t,...e){var n,r,i;t=Mn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||WD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(WD(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Ze)c=se(t.firestore,Ne),l=Va(t._key.path),u={next:d=>{e[o]&&e[o](function nT(t,e,n){const r=n.docs.get(e._key),i=new ss(t);return new au(t,i,e._key,r,new uo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=se(t,Ot);c=se(d.firestore,Ne),l=d._query;const h=new ss(c);u={next:f=>{e[o]&&e[o](new uu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function mB(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new wg(p),m=new OD(h,g,f);return d.asyncQueue.enqueueAndForget(_(function*(){return function ND(t,e){return(U2=U2||_(function*(n,r){const i=M(n),s=r.query;let o=!1,a=i.queries.get(s);if(a||(o=!0,a=new dae),o)try{a.Nu=yield i.onListen(s)}catch(u){const c=Ja(u,`Initialization of query '${QE(r.query)}' failed`);return void r.onError(c)}i.queries.set(s,a),a.listeners.push(r),r.Mu(i.onlineState),a.Nu&&r.$u(a.Nu)&&PD(i)})).apply(this,arguments)}(yield ru(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(_(function*(){return function kD(t,e){return(j2=j2||_(function*(n,r){const i=M(n),s=r.query;let o=!1;const a=i.queries.get(s);if(a){const u=a.listeners.indexOf(r);u>=0&&(a.listeners.splice(u,1),o=0===a.listeners.length)}if(o)return i.queries.delete(s),i.onUnlisten(s)})).apply(this,arguments)}(yield ru(d),m)}))}}(it(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Uue(t,e){return void 0===e&&(e={}),function Vue(t){return rT(t,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}(t).pipe(re(function(n){return n.map(function(r){return function TB(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Pg{constructor(e){return e}}const AB="firestore",oT=new F("angularfire2.firestore-instances");function $ue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Pg(r)}}const Hue={provide:class jue{constructor(){return tI(AB)}},deps:[[new hn,oT]]},zue={provide:Pg,useFactory:function Bue(t,e){const n=function eI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(AB,t,e);return n&&new Pg(n)},deps:[[new hn,oT],wa]};let Gue=(()=>{class t{constructor(){Qe("angularfire",qw.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dr({type:t}),t.\u0275inj=Wn({providers:[zue,Hue]}),t})();function que(t,...e){return{ngModule:Gue,providers:[{provide:oT,useFactory:$ue(t),multi:!0,deps:[ye,pn,qk,Wk,[new hn,bF],[new hn,rL],...e]}]}}const xB=Fs(Uue,!0),Wue=Fs(_ue,!0),Kue=Fs(Zae,!0),Que=Fs(rue,!0),MB=Fs(pue,!0),Yue=Fs(gue,!0),{isArray:Jue}=Array,{getPrototypeOf:Zue,prototype:ece,keys:tce}=Object;const{isArray:ice}=Array;function aT(...t){const e=wu(t),n=function AH(t){return Ie(fm(t))?t.pop():void 0}(t),{args:r,keys:i}=function nce(t){if(1===t.length){const e=t[0];if(Jue(e))return{args:e,keys:null};if(function rce(t){return t&&"object"==typeof t&&Zue(t)===ece}(e)){const n=tce(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return pt([],e);const s=new Fe(function uce(t,e,n=vi){return r=>{RB(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)RB(e,()=>{const c=pt(t[u],e);let l=!1;c.subscribe(at(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function ace(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):vi));return n?s.pipe(function oce(t){return re(e=>function sce(t,e){return ice(e)?t(...e):t(e)}(t,e))}(n)):s}function RB(t,e,n){t?Lr(n,t,e):e()}const Og=vu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function uT(...t){return function cce(){return mo(1)}()(pt(t,wu(t)))}function NB(t){return new Fe(e=>{Pn(t()).subscribe(e)})}function Xl(t,e){const n=Ie(t)?t:()=>t,r=i=>i.error(n());return new Fe(e?i=>e.schedule(r,0,i):r)}function cT(){return ot((t,e)=>{let n=null;t._refCount++;const r=at(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class kB extends Fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,UT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new an;const n=this.getSubject();e.add(this.source.subscribe(at(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=an.EMPTY)}return e}refCount(){return cT()(this)}}function cu(t){return t<=0?()=>cr:ot((e,n)=>{let r=0;e.subscribe(at(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Fg(t){return ot((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function PB(t=dce){return ot((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function dce(){return new Og}function co(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Zr((i,s)=>t(i,s,r)):vi,cu(1),n?Fg(e):PB(()=>new Og))}function lo(t){return ot((e,n)=>{let s,r=null,i=!1;r=e.subscribe(at(n,void 0,void 0,o=>{s=Pn(t(o,lo(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function lT(t){return t<=0?()=>cr:ot((e,n)=>{let r=[];e.subscribe(at(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}const ee="primary",Jl=Symbol("RouteTitle");class yce{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function lu(t){return new yce(t)}function vce(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Or(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!OB(t[i],e[i]))return!1;return!0}function OB(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function FB(t){return t.length>0?t[t.length-1]:null}function os(t){return function Xue(t){return!!t&&(t instanceof Fe||Ie(t.lift)&&Ie(t.subscribe))}(t)?t:Vh(t)?pt(Promise.resolve(t)):$(t)}const wce={exact:function UB(t,e,n){if(!ho(t.segments,e.segments)||!Lg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!UB(t.children[r],e.children[r],n))return!1;return!0},subset:jB},LB={exact:function Ice(t,e){return Or(t,e)},subset:function Ece(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>OB(t[n],e[n]))},ignored:()=>!0};function VB(t,e,n){return wce[n.paths](t.root,e.root,n.matrixParams)&&LB[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function jB(t,e,n){return BB(t,e,e.segments,n)}function BB(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ho(i,n)||e.hasChildren()||!Lg(i,n,r))}if(t.segments.length===n.length){if(!ho(t.segments,n)||!Lg(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!jB(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ho(t.segments,i)&&Lg(t.segments,i,r)&&t.children[ee])&&BB(t.children[ee],e,s,r)}}function Lg(t,e,n){return e.every((r,i)=>LB[n](t[i].parameters,r.parameters))}class du{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lu(this.queryParams)),this._queryParamMap}toString(){return bce.serialize(this)}}class we{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vg(this)}}class Zl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=lu(this.parameters)),this._parameterMap}toString(){return zB(this)}}function ho(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let ed=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return new dT},providedIn:"root"}),e})();class dT{parse(e){const n=new Fce(e);return new du(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${td(e.root,!0)}`,r=function Ace(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Ug(n)}=${Ug(i)}`).join("&"):`${Ug(n)}=${Ug(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Cce(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const bce=new dT;function Vg(t){return t.segments.map(e=>zB(e)).join("/")}function td(t,e){if(!t.hasChildren())return Vg(t);if(e){const n=t.children[ee]?td(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ee&&r.push(`${i}:${td(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Tce(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ee?[td(t.children[ee],!1)]:[`${i}:${td(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ee]?`${Vg(t)}/${n[0]}`:`${Vg(t)}/(${n.join("//")})`}}function $B(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ug(t){return $B(t).replace(/%3B/gi,";")}function hT(t){return $B(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jg(t){return decodeURIComponent(t)}function HB(t){return jg(t.replace(/\+/g,"%20"))}function zB(t){return`${hT(t.path)}${function Sce(t){return Object.keys(t).map(e=>`;${hT(e)}=${hT(t[e])}`).join("")}(t.parameters)}`}const xce=/^[^\/()?;#]+/;function fT(t){const e=t.match(xce);return e?e[0]:""}const Mce=/^[^\/()?;=#]+/,Nce=/^[^=?&#]+/,Pce=/^[^&#]+/;class Fce{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new we(e,n)),r}parseSegment(){const e=fT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Zl(jg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Rce(t){const e=t.match(Mce);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=fT(this.remaining);i&&(r=i,this.capture(r))}e[jg(n)]=jg(r)}parseQueryParam(e){const n=function kce(t){const e=t.match(Nce);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Oce(t){const e=t.match(Pce);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=HB(n),s=HB(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ee]:new we([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}}function GB(t){return t.segments.length>0?new we([],{[ee]:t}):t}function qB(t){const e={};for(const r of Object.keys(t.children)){const s=qB(t.children[r]);if(r===ee&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Lce(t){if(1===t.numberOfChildren&&t.children[ee]){const e=t.children[ee];return new we(t.segments.concat(e.segments),e.children)}return t}(new we(t.segments,e))}function fo(t){return t instanceof du}function WB(t){let e;const i=GB(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new we(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function KB(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return pT(i,i,i,n,r);const s=function Uce(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new YB(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new YB(n,e,r)}(e);if(s.toRoot())return pT(i,i,new we([],{}),n,r);const o=function jce(t,e,n){if(t.isAbsolute)return new $g(e,!0,0);if(!n)return new $g(e,!1,NaN);if(null===n.parent)return new $g(n,!0,0);const r=Bg(t.commands[0])?0:1;return function Bce(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new $g(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?rd(o.segmentGroup,o.index,s.commands):XB(o.segmentGroup,o.index,s.commands);return pT(i,o.segmentGroup,a,n,r)}function Bg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function nd(t){return"object"==typeof t&&null!=t&&t.outlets}function pT(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:QB(t,e,n);const a=GB(qB(o));return new du(a,s,i)}function QB(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:QB(s,e,n)}),new we(t.segments,r)}class YB{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bg(r[0]))throw new S(4003,!1);const i=r.find(nd);if(i&&i!==FB(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $g{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function XB(t,e,n){if(t||(t=new we([],{})),0===t.segments.length&&t.hasChildren())return rd(t,e,n);const r=function Hce(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(nd(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!ZB(u,c,o))return s;r+=2}else{if(!ZB(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new we(t.segments.slice(0,r.pathIndex),{});return s.children[ee]=new we(t.segments.slice(r.pathIndex),t.children),rd(s,0,i)}return r.match&&0===i.length?new we(t.segments,{}):r.match&&!t.hasChildren()?gT(t,e,n):r.match?rd(t,0,i):gT(t,e,n)}function rd(t,e,n){if(0===n.length)return new we(t.segments,{});{const r=function $ce(t){return nd(t[0])?t[0].outlets:{[ee]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ee)&&t.children[ee]&&1===t.numberOfChildren&&0===t.children[ee].segments.length){const s=rd(t.children[ee],e,n);return new we(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=XB(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new we(t.segments,i)}}function gT(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(nd(s)){const u=zce(s.outlets);return new we(r,u)}if(0===i&&Bg(n[0])){r.push(new Zl(t.segments[e].path,JB(n[0]))),i++;continue}const o=nd(s)?s.outlets[ee]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Bg(a)?(r.push(new Zl(o,JB(a))),i+=2):(r.push(new Zl(o,{})),i++)}return new we(r,{})}function zce(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=gT(new we([],{}),0,r))}),e}function JB(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZB(t,e,n){return t==n.path&&Or(e,n.parameters)}const id="imperative";class Fr{constructor(e,n){this.id=e,this.url=n}}class Hg extends Fr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class as extends Fr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sd extends Fr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hu extends Fr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class zg extends Fr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class e$ extends Fr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gce extends Fr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qce extends Fr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wce extends Fr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kce extends Fr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qce{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yce{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xce{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jce{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zce{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ele{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t${constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mT{}class yT{constructor(e){this.url=e}}class tle{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new od,this.attachRef=null}}let od=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new tle,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class n${constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=vT(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=vT(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=_T(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _T(e,this._root).map(n=>n.value)}}function vT(t,e){if(t===e.value)return e;for(const n of e.children){const r=vT(t,n);if(r)return r}return null}function _T(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_T(t,n);if(r.length)return r.unshift(e),r}return[]}class mi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function fu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class r$ extends n${constructor(e,n){super(e),this.snapshot=n,wT(this,e)}toString(){return this.snapshot.toString()}}function i$(t,e){const n=function nle(t,e){const o=new Gg([],{},{},"",{},ee,e,null,{});return new o$("",new mi(o,[]))}(0,e),r=new On([new Zl("",{})]),i=new On({}),s=new On({}),o=new On({}),a=new On(""),u=new po(r,i,o,a,s,ee,e,n.root);return u.snapshot=n.root,new r$(new mi(u,[]),n)}class po{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(c=>c[Jl]))??$(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>lu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>lu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function s$(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function rle(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gg{get title(){return this.data?.[Jl]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class o$ extends n${constructor(e,n){super(n),this.url=e,wT(this,n)}toString(){return a$(this._root)}}function wT(t,e){e.value._routerState=t,e.children.forEach(n=>wT(t,n))}function a$(t){const e=t.children.length>0?` { ${t.children.map(a$).join(", ")} } `:"";return`${t.value}${e}`}function IT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Or(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Or(e.params,n.params)||t.paramsSubject.next(n.params),function _ce(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Or(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Or(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ET(t,e){const n=Or(t.params,e.params)&&function Dce(t,e){return ho(t,e)&&t.every((n,r)=>Or(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||ET(t.parent,e.parent))}let DT=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new Jt,this.deactivateEvents=new Jt,this.attachEvents=new Jt,this.detachEvents=new Jt,this.parentContexts=P(od),this.location=P(er),this.changeDetector=P(i_),this.environmentInjector=P(bn),this.inputBinder=P(qg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new ile(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=qt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fs]}),e})();class ile{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===po?this.route:e===od?this.childContexts:this.parent.get(e,n)}}const qg=new F("");let u$=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=aT([i.queryParams,i.params,i.data]).pipe(qn(([o,a,u],c)=>(u={...o,...a,...u},0===c?$(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function N7(t){const e=oe(t);if(!e)return null;const n=new nc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();function ad(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function ole(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ad(t,r,i);return ad(t,r)})}(t,e,n);return new mi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ad(t,a)),o}}const r=function ale(t){return new po(new On(t.url),new On(t.params),new On(t.queryParams),new On(t.fragment),new On(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>ad(t,s));return new mi(r,i)}}const TT="ngNavigationCancelingError";function c$(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=fo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=l$(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function l$(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[TT]=!0,r.cancellationCode=e,n&&(r.url=n),r}function d$(t){return t&&t[TT]}let h$=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vo({type:t,selectors:[["ng-component"]],standalone:!0,features:[Cx],decls:1,vars:0,template:function(r,i){1&r&&Mi(0,"router-outlet")},dependencies:[DT],encapsulation:2}),e})();function bT(t){const e=t.children&&t.children.map(bT),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=h$),n}function ur(t){return t.outlet||ee}function ud(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class gle{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),IT(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=fu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=fu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=fu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=fu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ele(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Jce(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(IT(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),IT(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ud(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class f${constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wg{constructor(e,n){this.component=e,this.route=n}}function mle(t,e,n){const r=t._root;return cd(r,e?e._root:null,n,[r.value])}function pu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function GH(t){return null!==Ed(t)}(t)?e.get(t):t:r}function cd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=fu(e);return t.children.forEach(o=>{(function vle(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function _le(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ho(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ho(t.url,e.url)||!Or(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ET(t,e)||!Or(t.queryParams,e.queryParams);default:return!ET(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new f$(r)):(s.data=o.data,s._resolvedData=o._resolvedData),cd(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wg(a.outlet.component,o))}else o&&ld(e,a,i),i.canActivateChecks.push(new f$(r)),cd(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ld(a,n.getContext(o),i)),i}function ld(t,e,n){const r=fu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{ld(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Wg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function dd(t){return"function"==typeof t}function p$(t){return t instanceof Og||"EmptyError"===t?.name}const Kg=Symbol("INITIAL_VALUE");function gu(){return qn(t=>aT(t.map(e=>e.pipe(cu(1),function lce(...t){const e=wu(t);return ot((n,r)=>{(e?uT(t,n,e):uT(t,n)).subscribe(r)})}(Kg)))).pipe(re(e=>{for(const n of e)if(!0!==n){if(n===Kg)return Kg;if(!1===n||n instanceof du)return n}return!0}),Zr(e=>e!==Kg),cu(1)))}function g$(t){return function W$(...t){return FT(t)}(xt(e=>{if(fo(e))throw c$(0,e)}),re(e=>!0===e))}class Qg{constructor(e){this.segmentGroup=e||null}}class m${constructor(e){this.urlTree=e}}function mu(t){return Xl(new Qg(t))}function y$(t){return Xl(new m$(t))}class Ule{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new S(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $(r);if(i.numberOfChildren>1||!i.children[ee])return Xl(new S(4e3,!1));i=i.children[ee]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new du(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new we(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const CT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jle(t,e,n,r,i){const s=ST(t,e,n);return s.matched?(r=function cle(t,e){return t.providers&&!t._injector&&(t._injector=kv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Fle(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?$(i.map(o=>{const a=pu(o,t);return os(function ble(t){return t&&dd(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(gu(),g$()):$(!0)}(r,e,n).pipe(re(o=>!0===o?s:{...CT}))):$(s)}function ST(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...CT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||vce)(n,t,e);if(!i)return{...CT};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function v$(t,e,n,r){return n.length>0&&function Hle(t,e,n){return n.some(r=>Yg(t,e,r)&&ur(r)!==ee)}(t,n,r)?{segmentGroup:new we(e,$le(r,new we(n,t.children))),slicedSegments:[]}:0===n.length&&function zle(t,e,n){return n.some(r=>Yg(t,e,r))}(t,n,r)?{segmentGroup:new we(t.segments,Ble(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function Ble(t,e,n,r,i){const s={};for(const o of r)if(Yg(t,n,o)&&!i[ur(o)]){const a=new we([],{});s[ur(o)]=a}return{...i,...s}}function $le(t,e){const n={};n[ee]=e;for(const r of t)if(""===r.path&&ur(r)!==ee){const i=new we([],{});n[ur(r)]=i}return n}function Yg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Kle{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Ule(this.urlSerializer,this.urlTree)}noMatchError(e){return new S(4002,!1)}recognize(){const e=v$(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(lo(n=>{if(n instanceof m$)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Qg?this.noMatchError(n):n}),re(n=>{const r=new Gg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),i=new mi(r,n),s=new o$("",i),o=function Vce(t,e,n=null,r=null){return KB(WB(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ee).pipe(lo(r=>{throw r instanceof Qg?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=s$(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return pt(i).pipe(fa(s=>{const o=r.children[s],a=function fle(t,e){const n=t.filter(r=>ur(r)===e);return n.push(...t.filter(r=>ur(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function fce(t,e){return ot(function hce(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(at(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Fg(null),function pce(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Zr((i,s)=>t(i,s,r)):vi,lT(1),n?Fg(e):PB(()=>new Og))}(),Dt(s=>{if(null===s)return mu(r);const o=_$(s);return function Qle(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}(o),$(o)}))}processSegment(e,n,r,i,s,o){return pt(n).pipe(fa(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(lo(u=>{if(u instanceof Qg)return $(null);throw u}))),co(a=>!!a),lo(a=>{if(p$(a))return function qle(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?$([]):mu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Gle(t,e,n,r){return!!(ur(t)===r||r!==ee&&Yg(e,n,t))&&("**"===t.path||ST(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):mu(i):mu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?y$(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Dt(o=>{const a=new we(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=ST(n,i,s);if(!a)return mu(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?y$(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Dt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?FB(i).parameters:{};a=$({snapshot:new Gg(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w$(r),ur(r),r.component??r._loadedComponent??null,r,I$(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=jle(n,r,i,e).pipe(re(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Gg(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w$(r),ur(r),r.component??r._loadedComponent??null,r,I$(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(qn(u=>null===u?mu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(qn(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=v$(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(re(y=>null===y?null:[new mi(d,y)]));if(0===c.length&&0===g.length)return $([new mi(d,[])]);const m=ur(r)===s;return this.processSegment(l,c,p,g,m?ee:s,!0).pipe(re(y=>[new mi(d,y)]))}))))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?$({routes:n._loadedRoutes,injector:n._loadedInjector}):function Ole(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?$(!0):$(i.map(o=>{const a=pu(o,t);return os(function Ile(t){return t&&dd(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(gu(),g$())}(e,n,r).pipe(Dt(i=>i?this.configLoader.loadChildren(e,n).pipe(xt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Vle(t){return Xl(l$(!1,3))}())):$({routes:[],injector:e})}}function Yle(t){const e=t.value.routeConfig;return e&&""===e.path}function _$(t){const e=[],n=new Set;for(const r of t){if(!Yle(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=_$(r.children);e.push(new mi(r.value,i))}return e.filter(r=>!n.has(r))}function w$(t){return t.data||{}}function I$(t){return t.resolve||{}}function E$(t){return"string"==typeof t.title||null===t.title}function AT(t){return qn(e=>{const n=t(e);return n?pt(n).pipe(re(()=>e)):$(e)})}const yu=new F("ROUTES");let xT=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(_M)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return $(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=os(r.loadComponent()).pipe(re(D$),xt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Tc(()=>{this.componentLoaders.delete(r)})),s=new kB(i,()=>new Gn).pipe(cT());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(re(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,l;return Array.isArray(u)?l=u:(c=u.create(r).injector,l=c.get(yu,[],te.Self|te.Optional).flat()),{routes:l.map(bT),injector:c}}),Tc(()=>{this.childrenLoaders.delete(i)})),a=new kB(o,()=>new Gn).pipe(cT());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(r){return os(r()).pipe(re(D$),Dt(i=>i instanceof Tx||Array.isArray(i)?$(i):pt(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function D$(t){return function rde(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Xg=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Gn,this.transitionAbortSubject=new Gn,this.configLoader=P(xT),this.environmentInjector=P(bn),this.urlSerializer=P(ed),this.rootContexts=P(od),this.inputBindingEnabled=null!==P(qg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Yce(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Qce(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new On({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:id,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zr(o=>0!==o.id),re(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),qn(o=>{this.currentTransition=o;let a=!1,u=!1;return $(o).pipe(xt(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qn(c=>{const l=c.currentBrowserUrl.toString(),d=!r.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const f="";return this.events.next(new hu(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),cr}if(r.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return $(c).pipe(qn(f=>{const p=this.transitions?.getValue();return this.events.next(new Hg(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?cr:Promise.resolve(f)}),function Xle(t,e,n,r,i,s){return Dt(o=>function Wle(t,e,n,r,i,s,o="emptyOnly"){return new Kle(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(re(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),xt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const p=new e$(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:p,source:g,restoredState:m,extras:y}=c,v=new Hg(f,this.urlSerializer.serialize(p),g,m);this.events.next(v);const E=i$(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:E,urlAfterRedirects:p,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},$(o)}{const f="";return this.events.next(new hu(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),cr}}),xt(c=>{const l=new Gce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),re(c=>(this.currentTransition=o={...c,guards:mle(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function Sle(t,e){return Dt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?$({...n,guardsResult:!0}):function Ale(t,e,n,r){return pt(t).pipe(Dt(i=>function Ple(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?$(s.map(a=>{const u=ud(e)??i,c=pu(a,u);return os(function Tle(t){return t&&dd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(co())})).pipe(gu()):$(!0)}(i.component,i.route,n,e,r)),co(i=>!0!==i,!0))}(o,r,i,t).pipe(Dt(a=>a&&function wle(t){return"boolean"==typeof t}(a)?function xle(t,e,n,r){return pt(e).pipe(fa(i=>uT(function Rle(t,e){return null!==t&&e&&e(new Xce(t)),$(!0)}(i.route.parent,r),function Mle(t,e){return null!==t&&e&&e(new Zce(t)),$(!0)}(i.route,r),function kle(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function yle(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>NB(()=>$(o.guards.map(u=>{const c=ud(o.node)??n,l=pu(u,c);return os(function Dle(t){return t&&dd(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(co())})).pipe(gu())));return $(s).pipe(gu())}(t,i.path,n),function Nle(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return $(!0);const i=r.map(s=>NB(()=>{const o=ud(e)??n,a=pu(s,o);return os(function Ele(t){return t&&dd(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(co())}));return $(i).pipe(gu())}(t,i.route,n))),co(i=>!0!==i,!0))}(r,s,t,e):$(a)),re(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),xt(c=>{if(o.guardsResult=c.guardsResult,fo(c.guardsResult))throw c$(0,c.guardsResult);const l=new qce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Zr(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),AT(c=>{if(c.guards.canActivateChecks.length)return $(c).pipe(xt(l=>{const d=new Wce(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),qn(l=>{let d=!1;return $(l).pipe(function Jle(t,e){return Dt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=0;return pt(i).pipe(fa(o=>function Zle(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!E$(i)&&(s[Jl]=i.title),function ede(t,e,n,r){const i=function tde(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return $({});const s={};return pt(i).pipe(Dt(o=>function nde(t,e,n,r){const i=ud(e)??r,s=pu(t,i);return os(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(co(),xt(a=>{s[o]=a}))),lT(1),function gce(t){return re(()=>t)}(s),lo(o=>p$(o)?cr:Xl(o)))}(s,t,e,r).pipe(re(o=>(t._resolvedData=o,t.data=s$(t,n).resolve,i&&E$(i)&&(t.data[Jl]=i.title),null)))}(o.route,r,t,e)),xt(()=>s++),lT(1),Dt(o=>s===i.length?$(n):cr))})}(r.paramsInheritanceStrategy,this.environmentInjector),xt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),xt(l=>{const d=new Kce(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),AT(c=>{const l=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(xt(f=>{d.component=f}),re(()=>{})));for(const f of d.children)h.push(...l(f));return h};return aT(l(c.targetSnapshot.root)).pipe(Fg(),cu(1))}),AT(()=>this.afterPreactivation()),re(c=>{const l=function sle(t,e,n){const r=ad(t,e._root,n?n._root:void 0);return new r$(r,e)}(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),xt(()=>{this.events.next(new mT)}),((t,e,n,r)=>re(i=>(new gle(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),cu(1),xt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new as(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),r.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),function mce(t){return ot((e,n)=>{Pn(t).subscribe(at(n,()=>n.complete(),nm)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(xt(c=>{throw c}))),Tc(()=>{a||u||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),lo(c=>{if(u=!0,d$(c))this.events.next(new sd(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function ule(t){return d$(t)&&fo(t.url)}(c)?this.events.next(new yT(c.url)):o.resolve(!1);else{this.events.next(new zg(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(l){o.reject(l)}}return cr}))}))}cancelNavigationTransition(r,i,s){const o=new sd(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function T$(t){return t!==id}let b$=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ee);return i}getResolvedTitleForRoute(r){return r.data[Jl]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(ide)},providedIn:"root"}),e})(),ide=(()=>{var t;class e extends b${constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(L(BR))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),sde=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(ade)},providedIn:"root"}),e})();class ode{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let ade=(()=>{var t;class e extends ode{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=function bC(t){return Vr(()=>{const e=t.prototype.constructor,n=e[Ur]||ey(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ur]||ey(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Jg=new F("",{providedIn:"root",factory:()=>({})});let ude=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(cde)},providedIn:"root"}),e})(),cde=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var hd=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(hd||{});function C$(t,e){t.events.pipe(Zr(n=>n instanceof as||n instanceof sd||n instanceof zg||n instanceof hu),re(n=>n instanceof as||n instanceof hu?hd.COMPLETE:n instanceof sd&&(0===n.code||1===n.code)?hd.REDIRECTING:hd.FAILED),Zr(n=>n!==hd.REDIRECTING),cu(1)).subscribe(()=>{e()})}function lde(t){throw t}function dde(t,e,n){return e.parse("/")}const hde={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fde={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zn=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=P(vM),this.isNgZoneEnabled=!1,this._events=new Gn,this.options=P(Jg,{optional:!0})||{},this.pendingTasks=P(Jh),this.errorHandler=this.options.errorHandler||lde,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dde,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=P(ude),this.routeReuseStrategy=P(sde),this.titleStrategy=P(b$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=P(yu,{optional:!0})?.flat()??[],this.navigationTransitions=P(Xg),this.urlSerializer=P(ed),this.location=P(p_),this.componentInputBindingEnabled=!!P(qg,{optional:!0}),this.eventsSubscription=new an,this.isNgZoneEnabled=P(ye)instanceof ye&&ye.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new du,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=i$(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(S$(i)&&this._events.next(i));if(i instanceof Hg)T$(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof hu)this.rawUrlTree=s.rawUrl;else if(i instanceof e$){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof mT)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof sd)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof yT){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||T$(s.source)};this.scheduleNavigation(o,id,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof zg&&this.restoreHistory(s,!0),i instanceof as&&(this.navigated=!0),S$(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),id,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(bT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a;let h,d=null;switch(u){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=WB(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return KB(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=fo(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,id,null,i)}navigate(r,i={skipLocationChange:!1}){return function pde(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new S(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...hde}:!1===i?{...fde}:i,fo(r))return VB(this.currentUrlTree,r,s);const o=this.parseUrl(r);return VB(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,f)=>{u=h,c=f});const d=this.pendingTasks.add();return C$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function S$(t){return!(t instanceof mT||t instanceof yT)}let Zg=(()=>{var t;class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new Gn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof as&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||s||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function T0(t,e,n){return function YG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?D0:hh}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const s=this.renderer,o=this.el.nativeElement;null!==i?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(B(zn),B(po),function Wd(t){return function mz(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(fb(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(St(),t)}("tabindex"),B(Th),B(Ai),B(Ts))},t.\u0275dir=qt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Uh("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&lv("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l_],skipLocationChange:["skipLocationChange","skipLocationChange",l_],replaceUrl:["replaceUrl","replaceUrl",l_],routerLink:"routerLink"},standalone:!0,features:[VS,fs]}),e})();class A${}let yde=(()=>{var t;class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Zr(r=>r instanceof as),fa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=kv(o.providers,r,`Route: ${o.path}`));const a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return pt(s).pipe(mo())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):$(null);const o=s.pipe(Dt(a=>null===a?$(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?pt([o,this.loader.loadComponent(i)]).pipe(mo()):o})}}return(t=e).\u0275fac=function(r){return new(r||t)(L(zn),L(_M),L(bn),L(A$),L(xT))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const MT=new F("");let x$=(()=>{var t;class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Hg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof as?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof hu&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof t$&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new t$(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function lS(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();function yi(t,e){return{\u0275kind:t,\u0275providers:e}}function R$(){const t=P(pn);return e=>{const n=t.get(la);if(e!==n.components[0])return;const r=t.get(zn),i=t.get(N$);1===t.get(RT)&&r.initialNavigation(),t.get(k$,null,te.Optional)?.setUpPreloading(),t.get(MT,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const N$=new F("",{factory:()=>new Gn}),RT=new F("",{providedIn:"root",factory:()=>1}),k$=new F("");function Ide(t){return yi(0,[{provide:k$,useExisting:yde},{provide:A$,useExisting:t}])}const P$=new F("ROUTER_FORROOT_GUARD"),Dde=[p_,{provide:ed,useClass:dT},zn,od,{provide:po,useFactory:function M$(t){return t.routerState.root},deps:[zn]},xT,[]];function Tde(){return new CM("Router",zn)}let O$=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Dde,[],{provide:yu,multi:!0,useValue:r},{provide:P$,useFactory:Ade,deps:[[zn,new hn,new Yd]]},{provide:Jg,useValue:i||{}},i?.useHash?{provide:Ts,useClass:L7}:{provide:Ts,useClass:nR},{provide:MT,useFactory:()=>{const t=P(eK),e=P(ye),n=P(Jg),r=P(Xg),i=P(ed);return n.scrollOffset&&t.setOffset(n.scrollOffset),new x$(i,r,t,e,n)}},i?.preloadingStrategy?Ide(i.preloadingStrategy).\u0275providers:[],{provide:CM,multi:!0,useFactory:Tde},i?.initialNavigation?xde(i):[],i?.bindToComponentInputs?yi(8,[u$,{provide:qg,useExisting:u$}]).\u0275providers:[],[{provide:F$,useFactory:R$},{provide:n_,multi:!0,useExisting:F$}]]}}static forChild(r){return{ngModule:e,providers:[{provide:yu,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(L(P$,8))},t.\u0275mod=dr({type:t}),t.\u0275inj=Wn({}),e})();function Ade(t){return"guarded"}function xde(t){return["disabled"===t.initialNavigation?yi(3,[{provide:Kv,multi:!0,useFactory:()=>{const e=P(zn);return()=>{e.setUpLocationChangeListener()}}},{provide:RT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?yi(2,[{provide:RT,useValue:0},{provide:Kv,multi:!0,deps:[pn],useFactory:e=>{const n=e.get(O7,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(zn),s=e.get(N$);C$(i,()=>{r(!0)}),e.get(Xg).afterPreactivation=()=>(r(!0),s.closed?$(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const F$=new F("");let Rde=(()=>{var t;class e{constructor(){this.title="watchlist-app"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vo({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&(Ee(0,"body"),Mi(1,"router-outlet"),Pe())},dependencies:[DT]}),e})(),L$=(()=>{var t;class e{constructor(r){this.http=r,this.singleMovies=new Map,this.url="assets/data/movies.json"}getAllMovies(){if(void 0!==this.movies)return this.movies;const r=this.http.get(this.url,{responseType:"json"});return this.movies=r.pipe(re(i=>i.results.map(s=>this.mapToMovie(s)))),this.movies}mapToMovie(r){return{id:r.id,title:r.title,overview:r.overview,imagePath:`https://image.tmdb.org/t/p/w220_and_h330_face${r.poster_path}`,releaseDate:r.release_date,genreIds:r.genre_ids}}getMovieById(r){if(this.singleMovies.has(r))return this.singleMovies.get(r);const i=this.getAllMovies().pipe(re(s=>s.filter(a=>a.id===r)[0]));return this.singleMovies.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(L(YR))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const kde=function(t){return["movie-details/",t]};let Pde=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vo({type:t,selectors:[["app-movie"]],inputs:{movie:"movie"},decls:5,vars:6,consts:[[3,"routerLink"],["id","movieImg",3,"src","alt"],["id","movieTitle"]],template:function(r,i){1&r&&(Ee(0,"section")(1,"a",0),Mi(2,"img",1),Ee(3,"span",2),dt(4),Pe()()()),2&r&&(Vt(1),Wr("routerLink",function kx(t,e,n,r){return Px(T(),Qt(),t,e,n,r)}(4,kde,i.movie.id)),Vt(1),jh("src",i.movie.imagePath,hh),uc("alt","",i.movie.title," Poster"),Vt(2),Ni(i.movie.title))},dependencies:[Zg],styles:["section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}a[_ngcontent-%COMP%]{text-decoration:none;text-align:center}section[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}img[_ngcontent-%COMP%]{object-fit:contain;max-width:150px;padding:0 5px;margin-bottom:10px}"]}),e})();function Ode(t,e){if(1&t&&(Ee(0,"li"),Mi(1,"app-movie",1),Pe()),2&t){const n=e.$implicit;Vt(1),Wr("movie",n)}}let Fde=(()=>{var t;class e{constructor(r){this.movieService=r}ngOnInit(){this.movies=this.movieService.getAllMovies()}}return(t=e).\u0275fac=function(r){return new(r||t)(B(L$))},t.\u0275cmp=vo({type:t,selectors:[["app-movie-list"]],decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"movie"]],template:function(r,i){1&r&&(Ee(0,"ul"),xi(1,Ode,2,1,"li",0),Wh(2,"async"),Pe()),2&r&&(Vt(1),Wr("ngForOf",Kh(2,1,i.movies)))},dependencies:[b_,Pde,A_],styles:["ul[_ngcontent-%COMP%]{display:flex;overflow:auto;list-style-type:none;margin:0;margin-block:0;padding-inline:0}li[_ngcontent-%COMP%]{flex-direction:row}"]}),e})();const st=new Map;st.set(28,"Action"),st.set(12,"Adeventure"),st.set(16,"Animation"),st.set(35,"Comedy"),st.set(80,"Crime"),st.set(99,"Documentary"),st.set(18,"Drama"),st.set(10751,"Family"),st.set(14,"Fantasy"),st.set(36,"History"),st.set(27,"Horror"),st.set(10402,"Music"),st.set(9648,"Mystery"),st.set(10749,"Romance"),st.set(878,"Science Fiction"),st.set(10770,"TV Movie"),st.set(53,"Thriller"),st.set(10752," War"),st.set(37,"Western");let Lde=(()=>{var t;class e{constructor(r){this.firestore=r,this.reviewCollection=Kue(this.firestore,"reviews")}getAllReviews(){const r=MB(this.reviewCollection);return this.allReviews=xB(r).pipe(re(i=>i.map(s=>this.mapToReview(s)))),this.allReviews}getReviewsForMovie(r){const i=MB(this.reviewCollection,Yue("movieId","==",r));return xB(i).pipe(re(o=>o.map(a=>this.mapToReview(a))))}mapToReview(r){return{content:r.content,rating:r.rating,movieId:r.movieId,date:r.date}}addReview(r){var i=this;return _(function*(){console.log(`Adding review from: ${r}`);const s=yield Wue(i.reviewCollection,r);return console.log(s),s})()}}return(t=e).\u0275fac=function(r){return new(r||t)(L(Pg))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Vde(t,e){if(1&t&&(Ee(0,"span",17),dt(1),Pe()),2&t){const n=e.$implicit,r=ac(2);Vt(1),Ni(r.genres.get(n))}}function Ude(t,e){if(1&t&&(Ee(0,"div",19)(1,"span"),dt(2),Pe(),Ee(3,"p"),dt(4),Pe()()),2&t){const n=e.$implicit;Vt(2),Tv("Rating: ",n.rating,", Posted On: ",n.date,""),Vt(2),Ni(n.content)}}function jde(t,e){if(1&t&&(Ee(0,"div"),xi(1,Ude,5,3,"div",18),Wh(2,"async"),Pe()),2&t){const n=ac(2);Vt(1),Wr("ngForOf",Kh(2,1,n.reviews))}}function Bde(t,e){if(1&t){const n=function nA(){return T()}();Ee(0,"div"),Mi(1,"img",3),Ee(2,"div"),dt(3),Pe(),Ee(4,"div"),dt(5),Pe(),Ee(6,"div"),dt(7),Pe(),Ee(8,"div",4),xi(9,Vde,2,1,"span",5),Pe(),Ee(10,"div",6)(11,"h3"),dt(12,"Reviews"),Pe(),xi(13,jde,3,3,"div",7),Wh(14,"async"),Ee(15,"h4"),dt(16,"Leave a Review:"),Pe(),Ee(17,"span"),dt(18,"Select a Rating: "),Ee(19,"select",null,8)(21,"option",9),dt(22,"1"),Pe(),Ee(23,"option",10),dt(24,"2"),Pe(),Ee(25,"option",11),dt(26,"3"),Pe(),Ee(27,"option",12),dt(28,"4"),Pe(),Ee(29,"option",13),dt(30,"5"),Pe()()(),Mi(31,"textarea",14,15),Ee(33,"button",16),Uh("click",function(){!function eC(t){return z.lFrame.contextLView=t,t[qe]}(n);const i=Lh(20),s=Lh(32);return function tC(t){return z.lFrame.contextLView=null,t}(ac().postReview(i.value,s.value))}),dt(34,"Post Review"),Pe()()()}if(2&t){const n=ac(),r=Lh(4);let i;Vt(1),jh("src",n.movie.imagePath,hh),uc("alt","",n.movie.title," Poster"),Vt(2),Ni(n.movie.title),Vt(2),Ni(n.movie.overview),Vt(2),Ni(n.movie.releaseDate),Vt(2),Wr("ngForOf",n.movie.genreIds),Vt(4),Wr("ngIf",null==(i=Kh(14,8,n.reviews))?null:i.length)("ngIfElse",r)}}function $de(t,e){1&t&&dt(0,"Looking for movie...")}function Hde(t,e){1&t&&(Ee(0,"div",20),dt(1,"There are no reviews for this title"),Pe())}const zde=[{path:"",component:Fde,title:"Watchlist Homepage"},{path:"movie-details/:id",component:(()=>{var t;class e{constructor(r,i){this.movieService=r,this.reviewService=i,this.route=P(po),this.movieId=Number(this.route.snapshot.params.id),this.genres=st}postReview(r,i){const s=Number(r),o=new Date,a=`${o.getUTCMonth()+1}/${o.getUTCDate()}/${o.getUTCFullYear()}`,u={content:i,rating:s,movieId:this.movieId,date:a};console.log("Review To Be Posted:"),console.log(u),this.reviewService.addReview(u)}ngOnInit(){this.movieService.getMovieById(this.movieId).subscribe(r=>{this.movie=r}),this.reviews=this.reviewService.getReviewsForMovie(this.movieId)}}return(t=e).\u0275fac=function(r){return new(r||t)(B(L$),B(Lde))},t.\u0275cmp=vo({type:t,selectors:[["app-movie-details"]],decls:5,vars:1,consts:[[4,"ngIfElseBlock","ngIf"],["elseBlock",""],["noReviews",""],[3,"src","alt"],["id","genres"],["class","genre",4,"ngFor","ngForOf"],["id","reviewSection"],[4,"ngIf","ngIfElse"],["rating",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["id","reviewText","placeholder","Type your review here...","rows","5","cols","60"],["content",""],[3,"click"],[1,"genre"],["class","review",4,"ngFor","ngForOf"],[1,"review"],["id","noReviews"]],template:function(r,i){1&r&&(xi(0,Bde,35,10,"div",0),xi(1,$de,1,0,"ng-template",null,1,$v),xi(3,Hde,2,0,"ng-template",null,2,$v)),2&r&&Wr("ngIf",i.movie)},dependencies:[b_,mR,A_],styles:['#rating[_ngcontent-%COMP%], #reviewText[_ngcontent-%COMP%]{display:block}.review[_ngcontent-%COMP%], #noReviews[_ngcontent-%COMP%]{max-width:30%;border-top:1px solid black;padding:10px;background-color:#f5f5f5}.review[_ngcontent-%COMP%]:last-of-type, #noReviews[_ngcontent-%COMP%]{border-bottom:1px solid black}span.genre[_ngcontent-%COMP%]:after{content:", "}span.genre[_ngcontent-%COMP%]:last-of-type:after{content:""}']}),e})()}];let Gde=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=dr({type:t}),t.\u0275inj=Wn({imports:[wR,O$.forRoot(zde,{useHash:!0}),O$]}),e})();const qde_firebase={apiKey:"AIzaSyDDpux_ld3EHARIZoCKIxVLI0L1MHe3LpA",authDomain:"donnelly-senior-project.firebaseapp.com",projectId:"donnelly-senior-project",storageBucket:"donnelly-senior-project.appspot.com",messagingSenderId:"234151376055",appId:"1:234151376055:web:eb279755d5f655bbcd0932",measurementId:"G-DR4DWEXXFM"};let Wde=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=dr({type:t,bootstrap:[Rde]}),t.\u0275inj=Wn({imports:[WK,DQ,Gde,bee(()=>Cee(qde_firebase)),que(()=>Que())]}),e})();GK().bootstrapModule(Wde).catch(t=>console.error(t))}},Ie=>{Ie(Ie.s=290)}]);