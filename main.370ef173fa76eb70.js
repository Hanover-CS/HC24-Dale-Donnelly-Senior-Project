"use strict";(self.webpackChunkwatchlist_app=self.webpackChunkwatchlist_app||[]).push([[179],{38:()=>{function Ie(t){return"function"==typeof t}function mu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const hd=mu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ho(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class sn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ie(r))try{r()}catch(s){e=s instanceof hd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{NT(s)}catch(o){e=e??[],o instanceof hd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new hd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)NT(e);else{if(e instanceof sn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ho(n,e)}remove(e){const{_finalizers:n}=this;n&&ho(n,e),e instanceof sn&&e._removeParent(this)}}sn.EMPTY=(()=>{const t=new sn;return t.closed=!0,t})();const MT=sn.EMPTY;function RT(t){return t instanceof sn||t&&"closed"in t&&Ie(t.remove)&&Ie(t.add)&&Ie(t.unsubscribe)}function NT(t){Ie(t)?t():t.unsubscribe()}const ss={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},fd={setTimeout(t,e,...n){const{delegate:r}=fd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=fd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function kT(t){fd.setTimeout(()=>{const{onUnhandledError:e}=ss;if(!e)throw t;e(t)})}function Xg(){}const V$=Jg("C",void 0,void 0);function Jg(t,e,n){return{kind:t,value:e,error:n}}let os=null;function pd(t){if(ss.useDeprecatedSynchronousErrorHandling){const e=!os;if(e&&(os={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=os;if(os=null,n)throw r}}else t()}class Zg extends sn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,RT(e)&&e.add(this)):this.destination=G$}static create(e,n,r){return new yu(e,n,r)}next(e){this.isStopped?tm(function j$(t){return Jg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?tm(function U$(t){return Jg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tm(V$,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $$=Function.prototype.bind;function em(t,e){return $$.call(t,e)}class H${constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){gd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){gd(r)}else gd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){gd(n)}}}class yu extends Zg{constructor(e,n,r){let i;if(super(),Ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ss.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&em(e.next,s),error:e.error&&em(e.error,s),complete:e.complete&&em(e.complete,s)}):i=e}this.destination=new H$(i)}}function gd(t){ss.useDeprecatedSynchronousErrorHandling?function B$(t){ss.useDeprecatedSynchronousErrorHandling&&os&&(os.errorThrown=!0,os.error=t)}(t):kT(t)}function tm(t,e){const{onStoppedNotification:n}=ss;n&&fd.setTimeout(()=>n(t,e))}const G$={closed:!0,next:Xg,error:function z$(t){throw t},complete:Xg},nm="function"==typeof Symbol&&Symbol.observable||"@@observable";function mi(t){return t}function PT(t){return 0===t.length?mi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function K$(t){return t&&t instanceof Zg||function W$(t){return t&&Ie(t.next)&&Ie(t.error)&&Ie(t.complete)}(t)&&RT(t)}(n)?n:new yu(n,r,i);return pd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=OT(r))((i,s)=>{const o=new yu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[nm](){return this}pipe(...n){return PT(n)(this)}toPromise(n){return new(n=OT(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function OT(t){var e;return null!==(e=t??ss.Promise)&&void 0!==e?e:Promise}const Q$=mu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let zn=(()=>{class t extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new LT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Q$}next(n){pd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){pd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){pd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?MT:(this.currentObservers=null,s.push(n),new sn(()=>{this.currentObservers=null,ho(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Oe;return n.source=this,n}}return t.create=(e,n)=>new LT(e,n),t})();class LT extends zn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:MT}}function FT(t){return Ie(t?.lift)}function st(t){return e=>{if(FT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ot(t,e,n,r,i){return new Y$(t,e,n,r,i)}class Y$ extends Zg{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function re(t,e){return st((n,r)=>{let i=0;n.subscribe(ot(r,s=>{r.next(t.call(e,s,i++))}))})}function sm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function yi(t){return this instanceof yi?(this.v=t,this):new yi(t)}function BT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function am(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const $T=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function HT(t){return Ie(t?.then)}function zT(t){return Ie(t[nm])}function GT(t){return Symbol.asyncIterator&&Ie(t?.[Symbol.asyncIterator])}function qT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const WT=function yH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function KT(t){return Ie(t?.[WT])}function QT(t){return function jT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof yi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield yi(n.read());if(i)return yield yi(void 0);yield yield yi(r)}}finally{n.releaseLock()}})}function YT(t){return Ie(t?.getReader)}function kn(t){if(t instanceof Oe)return t;if(null!=t){if(zT(t))return function vH(t){return new Oe(e=>{const n=t[nm]();if(Ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if($T(t))return function _H(t){return new Oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(HT(t))return function wH(t){return new Oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kT)})}(t);if(GT(t))return XT(t);if(KT(t))return function IH(t){return new Oe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(YT(t))return function EH(t){return XT(QT(t))}(t)}throw qT(t)}function XT(t){return new Oe(e=>{(function DH(t,e){var n,r,i,s;return function VT(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=BT(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Lr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Et(t,e,n=1/0){return Ie(e)?Et((r,i)=>re((s,o)=>e(r,s,i,o))(kn(t(r,i))),n):("number"==typeof e&&(n=e),st((r,i)=>function TH(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;kn(n(g,l++)).subscribe(ot(e,y=>{i?.(y),s?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const y=u.shift();o?Lr(e,o,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(ot(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function fo(t=1/0){return Et(mi,t)}const ur=new Oe(t=>t.complete());function um(t){return t[t.length-1]}function vu(t){return function CH(t){return t&&Ie(t.schedule)}(um(t))?t.pop():void 0}function md(t,e=0){return st((n,r)=>{n.subscribe(ot(r,i=>Lr(r,t,()=>r.next(i),e),()=>Lr(r,t,()=>r.complete(),e),i=>Lr(r,t,()=>r.error(i),e)))})}function yd(t,e=0){return st((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function JT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Oe(n=>{Lr(n,e,()=>{const r=t[Symbol.asyncIterator]();Lr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ht(t,e){return e?function PH(t,e){if(null!=t){if(zT(t))return function xH(t,e){return kn(t).pipe(yd(e),md(e))}(t,e);if($T(t))return function RH(t,e){return new Oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(HT(t))return function MH(t,e){return kn(t).pipe(yd(e),md(e))}(t,e);if(GT(t))return JT(t,e);if(KT(t))return function NH(t,e){return new Oe(n=>{let r;return Lr(n,e,()=>{r=t[WT](),Lr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ie(r?.return)&&r.return()})}(t,e);if(YT(t))return function kH(t,e){return JT(QT(t),e)}(t,e)}throw qT(t)}(t,e):kn(t)}class Pn extends zn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function $(...t){return ht(t,vu(t))}function ZT(t={}){const{connector:e=(()=>new zn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return st((g,m)=>{c++,!d&&!l&&h();const y=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=cm(p,i))}),y.subscribe(m),!o&&c>0&&(o=new yu({next:v=>y.next(v),error:v=>{d=!0,h(),a=cm(f,n,v),y.error(v)},complete:()=>{l=!0,h(),a=cm(f,r),y.complete()}}),kn(g).subscribe(o))})(s)}}function cm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new yu({next:()=>{r.unsubscribe(),t()}});return kn(e(...n)).subscribe(r)}function Gn(t,e){return st((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ot(r,u=>{i?.unsubscribe();let c=0;const l=s++;kn(t(u,l)).subscribe(i=ot(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function FH(t,e){return t===e}function me(t){for(let e in t)if(t[e]===me)return e;throw Error("Could not find renamed property on target object.")}function at(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(at).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function lm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const VH=me({__forward_ref__:me});function dm(t){return t.__forward_ref__=dm,t.toString=function(){return at(this())},t}function G(t){return hm(t)?t():t}function hm(t){return"function"==typeof t&&t.hasOwnProperty(VH)&&t.__forward_ref__===dm}function fm(t){return t&&!!t.\u0275providers}const eb="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function _d(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function K(t){return"string"==typeof t?t:null==t?"":String(t)}function pm(t,e){throw new S(-201,!1)}function On(t,e){null==t&&function H(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qn(t){return{providers:t.providers||[],imports:t.imports||[]}}function wd(t){return tb(t,Ed)||tb(t,nb)}function tb(t,e){return t.hasOwnProperty(e)?t[e]:null}function Id(t){return t&&(t.hasOwnProperty(gm)||t.hasOwnProperty(qH))?t[gm]:null}const Ed=me({\u0275prov:me}),gm=me({\u0275inj:me}),nb=me({ngInjectableDef:me}),qH=me({ngInjectorDef:me});var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{});let mm;function on(t){const e=mm;return mm=t,e}function ib(t,e,n){const r=wd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&te.Optional?null:void 0!==e?e:void pm(at(t))}const De=globalThis,_u={},Im="__NG_DI_FLAG__",Dd="ngTempTokenPath",QH=/\n/gm,ob="__source";let po;function vi(t){const e=po;return po=t,e}function JH(t,e=te.Default){if(void 0===po)throw new S(-203,!1);return null===po?ib(t,void 0,e):po.get(t,e&te.Optional?null:void 0,e)}function F(t,e=te.Default){return(function rb(){return mm}()||JH)(G(t),e)}function P(t,e=te.Default){return F(t,Td(e))}function Td(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Em(t){const e=[];for(let n=0;n<t.length;n++){const r=G(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){const a=r[o],u=ZH(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function wu(t,e){return t[Im]=e,t.prototype[Im]=e,t}function ZH(t){return t[Im]}function Fr(t){return{toString:t}.toString()}var bd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(bd||{}),Wn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Wn||{});const cr={},de=[],Cd=me({\u0275cmp:me}),Dm=me({\u0275dir:me}),Tm=me({\u0275pipe:me}),ub=me({\u0275mod:me}),Vr=me({\u0275fac:me}),Iu=me({__NG_ELEMENT_ID__:me}),cb=me({__NG_ENV_ID__:me});function lb(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function bm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];hb(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function db(t){return 3===t||4===t||6===t}function hb(t){return 64===t.charCodeAt(0)}function Eu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||fb(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function fb(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const pb="ng-template";function n4(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==lb(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function gb(t){return 4===t.type&&t.value!==pb}function r4(t,e,n){return e===(4!==t.type||n?t.value:pb)}function i4(t,e,n){let r=4;const i=t.attrs||[],s=function a4(t){for(let e=0;e<t.length;e++)if(db(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!r4(t,u,n)||""===u&&1===e.length){if(Kn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!n4(t.attrs,c,n)){if(Kn(r))return!1;o=!0}continue}const d=s4(8&r?"class":u,i,gb(t),n);if(-1===d){if(Kn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==lb(f,c,0)||2&r&&c!==h){if(Kn(r))return!1;o=!0}}}}else{if(!o&&!Kn(r)&&!Kn(u))return!1;if(o&&Kn(u))continue;o=!1,r=u|1&r}}return Kn(r)||o}function Kn(t){return 0==(1&t)}function s4(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function u4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function mb(t,e,n=!1){for(let r=0;r<e.length;r++)if(i4(t,e[r],n))return!0;return!1}function yb(t,e){return t?":not("+e.trim()+")":e}function l4(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Kn(o)&&(e+=yb(s,i),i=""),r=o,s=s||!Kn(r);n++}return""!==i&&(e+=yb(s,i)),e}function go(t){return Fr(()=>{const e=wb(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===bd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Wn.Emulated,styles:t.styles||de,_:null,schemas:t.schemas||null,tView:null,id:""};Ib(n);const r=t.dependencies;return n.directiveDefs=Sd(r,!1),n.pipeDefs=Sd(r,!0),n.id=function y4(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function f4(t){return oe(t)||Dt(t)}function p4(t){return null!==t}function lr(t){return Fr(()=>({type:t.type,bootstrap:t.bootstrap||de,declarations:t.declarations||de,imports:t.imports||de,exports:t.exports||de,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _b(t,e){if(null==t)return cr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function zt(t){return Fr(()=>{const e=wb(t);return Ib(e),e})}function an(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function oe(t){return t[Cd]||null}function Dt(t){return t[Dm]||null}function Gt(t){return t[Tm]||null}function In(t,e){const n=t[ub]||null;if(!n&&!0===e)throw new Error(`Type ${at(t)} does not have '\u0275mod' property.`);return n}function wb(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||cr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||de,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_b(t.inputs,e),outputs:_b(t.outputs)}}function Ib(t){t.features?.forEach(e=>e(t))}function Sd(t,e){if(!t)return null;const n=e?Gt:f4;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(p4)}const Ue=0,k=1,J=2,Ne=3,Qn=4,Du=5,Ot=6,yo=7,Ge=8,_i=9,vo=10,Q=11,Tu=12,Eb=13,_o=14,qe=15,bu=16,wo=17,dr=18,Cu=19,Db=20,wi=21,Ur=22,Su=23,Au=24,ne=25,Cm=1,Tb=2,hr=7,Io=9,Tt=11;function un(t){return Array.isArray(t)&&"object"==typeof t[Cm]}function qt(t){return Array.isArray(t)&&!0===t[Cm]}function Sm(t){return 0!=(4&t.flags)}function us(t){return t.componentOffset>-1}function xd(t){return 1==(1&t.flags)}function Yn(t){return!!t.template}function Am(t){return 0!=(512&t[J])}function cs(t,e){return t.hasOwnProperty(Vr)?t[Vr]:null}let bt=null,Md=!1;function Ln(t){const e=bt;return bt=t,e}const Rd={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function xb(t){if(!Mu(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Nb(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Rb(t){t.dirty=!0,function Mb(t){if(void 0===t.liveConsumerNode)return;const e=Md;Md=!0;try{for(const n of t.liveConsumerNode)n.dirty||Rb(n)}finally{Md=e}}(t),t.consumerMarkedDirty?.(t)}function Nd(t){return t&&(t.nextProducerIndex=0),Ln(t)}function kd(t,e){if(Ln(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Mu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Pd(t.producerNode[n],t.producerIndexOfThis[n]);for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Nb(t){Eo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(xb(n),r!==n.version))return!0}return!1}function kb(t){if(Eo(t),Mu(t))for(let e=0;e<t.producerNode.length;e++)Pd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Pd(t,e){if(function Ob(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Eo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Pd(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Eo(i),i.producerIndexOfThis[r]=e}}function Mu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Eo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Lb=null;function Ub(t){const e=Ln(null);try{return t()}finally{Ln(e)}}const jb=()=>{},x4={...Rd,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:jb};class M4{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ls(){return Bb}function Bb(t){return t.type.prototype.ngOnChanges&&(t.setInput=N4),R4}function R4(){const t=Hb(this),e=t?.current;if(e){const n=t.previous;if(n===cr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function N4(t,e,n,r){const i=this.declaredInputs[n],s=Hb(t)||function k4(t,e){return t[$b]=e}(t,{previous:cr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new M4(u&&u.currentValue,e,a===cr),t[r]=e}ls.ngInherit=!0;const $b="__ngSimpleChanges__";function Hb(t){return t[$b]||null}const fr=function(t,e,n){};function Te(t){for(;Array.isArray(t);)t=t[Ue];return t}function cn(t,e){return Te(e[t.index])}function qb(t,e){return t.data[e]}function Do(t,e){return t[e]}function En(t,e){const n=e[t];return un(n)?n:n[Ue]}function Ei(t,e){return null==e?null:t[e]}function Wb(t){t[wo]=0}function U4(t){1024&t[J]||(t[J]|=1024,Qb(t,1))}function Kb(t){1024&t[J]&&(t[J]&=-1025,Qb(t,-1))}function Qb(t,e){let n=t[Ne];if(null===n)return;n[Du]+=e;let r=n;for(n=n[Ne];null!==n&&(1===e&&1===r[Du]||-1===e&&0===r[Du]);)n[Du]+=e,r=n,n=n[Ne]}const z={lFrame:uC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Jb(){return z.bindingsEnabled}function T(){return z.lFrame.lView}function ae(){return z.lFrame.tView}function Ct(){let t=tC();for(;null!==t&&64===t.type;)t=t.parent;return t}function tC(){return z.lFrame.currentTNode}function pr(t,e){const n=z.lFrame;n.currentTNode=t,n.isParent=e}function Lm(){return z.lFrame.isParent}function Wt(){const t=z.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function bo(){return z.lFrame.bindingIndex++}function X4(t,e){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,Vm(e)}function Vm(t){z.lFrame.currentDirectiveIndex=t}function jm(t){z.lFrame.currentQueryIndex=t}function Z4(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[Ot]:null}function oC(t,e,n){if(n&te.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&te.Host||(i=Z4(s),null===i||(s=s[_o],10&i.type))););if(null===i)return!1;e=i,t=s}const r=z.lFrame=aC();return r.currentTNode=e,r.lView=t,!0}function Bm(t){const e=aC(),n=t[k];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function aC(){const t=z.lFrame,e=null===t?null:t.child;return null===e?uC(t):e}function uC(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function cC(){const t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const lC=cC;function $m(){const t=cC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Kt(){return z.lFrame.selectedIndex}function ds(t){z.lFrame.selectedIndex=t}function Le(){const t=z.lFrame;return qb(t.tView,t.selectedIndex)}let hC=!0;function Fd(){return hC}function Di(t){hC=t}function Vd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Ud(t,e,n){fC(t,e,3,n)}function jd(t,e,n,r){(3&t[J])===n&&fC(t,e,n,r)}function Hm(t,e){let n=t[J];(3&n)===e&&(n&=8191,n+=1,t[J]=n)}function fC(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[wo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[wo]+=65536),(a<s||-1==s)&&(az(t,n,e,u),t[wo]=(4294901760&t[wo])+u+2),u++}function pC(t,e){fr(4,t,e);const n=Ln(null);try{e.call(t)}finally{Ln(n),fr(5,t,e)}}function az(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[J]>>13<t[wo]>>16&&(3&t[J])===e&&(t[J]+=8192,pC(a,s)):pC(a,s)}const Co=-1;class Nu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Gm(t){return t!==Co}function ku(t){return 32767&t}function Pu(t,e){let n=function dz(t){return t>>16}(t),r=e;for(;n>0;)r=r[_o],n--;return r}let qm=!0;function Bd(t){const e=qm;return qm=t,e}const gC=255,mC=5;let hz=0;const gr={};function $d(t,e){const n=yC(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,Wm(r.data,t),Wm(e,null),Wm(r.blueprint,null));const i=Hd(t,e),s=t.injectorIndex;if(Gm(i)){const o=ku(i),a=Pu(i,e),u=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Wm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yC(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Hd(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=bC(i),null===r)return Co;if(n++,i=i[_o],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Co}function Km(t,e,n){!function fz(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Iu)&&(r=n[Iu]),null==r&&(r=n[Iu]=hz++);const i=r&gC;e.data[t+(i>>mC)]|=1<<i}(t,e,n)}function vC(t,e,n){if(n&te.Optional||void 0!==t)return t;pm()}function _C(t,e,n,r){if(n&te.Optional&&void 0===r&&(r=null),!(n&(te.Self|te.Host))){const i=t[_i],s=on(void 0);try{return i?i.get(e,r,n&te.Optional):ib(e,r,n&te.Optional)}finally{on(s)}}return vC(r,0,n)}function wC(t,e,n,r=te.Default,i){if(null!==t){if(2048&e[J]&&!(r&te.Self)){const o=function _z(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[J]&&!(512&o[J]);){const a=IC(s,o,n,r|te.Self,gr);if(a!==gr)return a;let u=s.parent;if(!u){const c=o[Db];if(c){const l=c.get(n,gr,r);if(l!==gr)return l}u=bC(o),o=o[_o]}s=u}return i}(t,e,n,r,gr);if(o!==gr)return o}const s=IC(t,e,n,r,gr);if(s!==gr)return s}return _C(e,n,r,i)}function IC(t,e,n,r,i){const s=function mz(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Iu)?t[Iu]:void 0;return"number"==typeof e?e>=0?e&gC:vz:e}(n);if("function"==typeof s){if(!oC(e,t,r))return r&te.Host?vC(i,0,r):_C(e,n,r,i);try{let o;if(o=s(r),null!=o||r&te.Optional)return o;pm()}finally{lC()}}else if("number"==typeof s){let o=null,a=yC(t,e),u=Co,c=r&te.Host?e[qe][Ot]:null;for((-1===a||r&te.SkipSelf)&&(u=-1===a?Hd(t,e):e[a+8],u!==Co&&DC(r,!1)?(o=e[k],a=ku(u),e=Pu(u,e)):a=-1);-1!==a;){const l=e[k];if(EC(s,a,l.data)){const d=gz(a,e,n,o,r,c);if(d!==gr)return d}u=e[a+8],u!==Co&&DC(r,e[k].data[a+8]===c)&&EC(s,a,e)?(o=l,a=ku(u),e=Pu(u,e)):a=-1}}return i}function gz(t,e,n,r,i,s){const o=e[k],a=o.data[t+8],l=function zd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Yn(f)&&f.type===n)return u}return null}(a,o,n,null==r?us(a)&&qm:r!=o&&0!=(3&a.type),i&te.Host&&s===a);return null!==l?hs(e,o,l,a):gr}function hs(t,e,n,r){let i=t[n];const s=e.data;if(function uz(t){return t instanceof Nu}(i)){const o=i;o.resolving&&function UH(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():K(t)}(s[n]));const a=Bd(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?on(o.injectImpl):null;oC(t,r,te.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function oz(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Bb(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&on(c),Bd(a),o.resolving=!1,lC()}}return i}function EC(t,e,n){return!!(n[e+(t>>mC)]&1<<t)}function DC(t,e){return!(t&te.Self||t&te.Host&&e)}class Qt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return wC(this._tNode,this._lView,e,Td(r),n)}}function vz(){return new Qt(Ct(),T())}function Qm(t){return hm(t)?()=>{const e=Qm(G(t));return e&&e()}:cs(t)}function bC(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[Ot]:null}const Ao="__parameters__";function Mo(t,e,n){return Fr(()=>{const r=function Ym(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Ao)?u[Ao]:Object.defineProperty(u,Ao,{value:[]})[Ao];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function No(t,e){t.forEach(n=>Array.isArray(n)?No(n,e):e(n))}function SC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const ln=wu(Mo("Optional"),8),Kd=wu(Mo("SkipSelf"),4);function Zd(t){return 128==(128&t.flags)}var Ti=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ti||{});const ny=new Map;let Yz=0;const iy="__ngContext__";function Lt(t,e){un(e)?(t[iy]=e[Cu],function Jz(t){ny.set(t[Cu],t)}(e)):t[iy]=e}let sy;function oy(t,e){return sy(t,e)}function ju(t){const e=t[Ne];return qt(e)?e[Ne]:e}function KC(t){return YC(t[Tu])}function QC(t){return YC(t[Qn])}function YC(t){for(;null!==t&&!qt(t);)t=t[Qn];return t}function Lo(t,e,n,r,i){if(null!=r){let s,o=!1;qt(r)?s=r:un(r)&&(o=!0,r=r[Ue]);const a=Te(r);0===t&&null!==n?null==i?e0(e,n,a):fs(e,n,a,i||null,!0):1===t&&null!==n?fs(e,n,a,i||null,!0):2===t?function oh(t,e,n){const r=ih(t,e);r&&function yG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function wG(t,e,n,r,i){const s=n[hr];s!==Te(n)&&Lo(e,t,r,s,i);for(let a=Tt;a<n.length;a++){const u=n[a];$u(u[k],u,t,e,r,s)}}(e,t,s,n,i)}}function nh(t,e,n){return t.createElement(e,n)}function JC(t,e){const n=t[Io],r=n.indexOf(e);Kb(e),n.splice(r,1)}function rh(t,e){if(t.length<=Tt)return;const n=Tt+e,r=t[n];if(r){const i=r[bu];null!==i&&i!==t&&JC(i,r),e>0&&(t[n-1][Qn]=r[Qn]);const s=qd(t,Tt+e);!function cG(t,e){$u(t,e,e[Q],2,null,null),e[Ue]=null,e[Ot]=null}(r[k],r);const o=s[dr];null!==o&&o.detachView(s[k]),r[Ne]=null,r[Qn]=null,r[J]&=-129}return r}function uy(t,e){if(!(256&e[J])){const n=e[Q];e[Su]&&kb(e[Su]),e[Au]&&kb(e[Au]),n.destroyNode&&$u(t,e,n,3,null,null),function hG(t){let e=t[Tu];if(!e)return cy(t[k],t);for(;e;){let n=null;if(un(e))n=e[Tu];else{const r=e[Tt];r&&(n=r)}if(!n){for(;e&&!e[Qn]&&e!==t;)un(e)&&cy(e[k],e),e=e[Ne];null===e&&(e=t),un(e)&&cy(e[k],e),n=e&&e[Qn]}e=n}}(e)}}function cy(t,e){if(!(256&e[J])){e[J]&=-129,e[J]|=256,function mG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Nu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];fr(4,a,u);try{u.call(a)}finally{fr(5,a,u)}}else{fr(4,i,s);try{s.call(i)}finally{fr(5,i,s)}}}}}(t,e),function gG(t,e){const n=t.cleanup,r=e[yo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[yo]=null);const i=e[wi];if(null!==i){e[wi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[Q].destroy();const n=e[bu];if(null!==n&&qt(e[Ne])){n!==e[Ne]&&JC(n,e);const r=e[dr];null!==r&&r.detachView(t)}!function Zz(t){ny.delete(t[Cu])}(e)}}function ly(t,e,n){return function ZC(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ue];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Wn.None||s===Wn.Emulated)return null}return cn(r,n)}}(t,e.parent,n)}function fs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function e0(t,e,n){t.appendChild(e,n)}function t0(t,e,n,r,i){null!==r?fs(t,e,n,r,i):e0(t,e,n)}function ih(t,e){return t.parentNode(e)}let dy,gy,uh,s0=function r0(t,e,n){return 40&t.type?cn(t,n):null};function sh(t,e,n,r){const i=ly(t,r,e),s=e[Q],a=function n0(t,e,n){return s0(t,e,n)}(r.parent||e[Ot],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)t0(s,i,n[u],a,!1);else t0(s,i,n,a,!1);void 0!==dy&&dy(s,r,e,n,i)}function Bu(t,e){if(null!==e){const n=e.type;if(3&n)return cn(e,t);if(4&n)return hy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Bu(t,r);{const i=t[e.index];return qt(i)?hy(-1,i):Te(i)}}if(32&n)return oy(e,t)()||Te(t[e.index]);{const r=a0(t,e);return null!==r?Array.isArray(r)?r[0]:Bu(ju(t[qe]),r):Bu(t,e.next)}}return null}function a0(t,e){return null!==e?t[qe][Ot].projection[e.projection]:null}function hy(t,e){const n=Tt+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return Bu(r,i)}return e[hr]}function fy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Lt(Te(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)fy(t,e,n.child,r,i,s,!1),Lo(e,t,i,a,s);else if(32&u){const c=oy(n,r);let l;for(;l=c();)Lo(e,t,i,l,s);Lo(e,t,i,a,s)}else 16&u?c0(t,e,r,n,i,s):Lo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function $u(t,e,n,r,i,s){fy(n,r,t.firstChild,e,i,s,!1)}function c0(t,e,n,r,i,s){const o=n[qe],u=o[Ot].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Lo(e,t,i,u[c],s);else{let c=u;const l=o[Ne];Zd(r)&&(c.flags|=128),fy(t,e,c,l,i,s,!0)}}function l0(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function d0(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&bm(t,e,r),null!==i&&l0(t,e,i),null!==s&&function EG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function p0(t){return function my(){if(void 0===uh&&(uh=null,De.trustedTypes))try{uh=De.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return uh}()?.createScriptURL(t)||t}class g0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eb})`}}function bi(t){return t instanceof g0?t.changingThisBreaksApplicationSecurity:t}function Hu(t,e){const n=function NG(t){return t instanceof g0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${eb})`)}return n===e}const LG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Uo=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Uo||{});function lh(t){const e=Gu();return e?e.sanitize(Uo.URL,t)||"":Hu(t,"URL")?bi(t):function yy(t){return(t=String(t)).match(LG)?t:"unsafe:"+t}(K(t))}function E0(t){const e=Gu();if(e)return p0(e.sanitize(Uo.RESOURCE_URL,t)||"");if(Hu(t,"ResourceURL"))return p0(bi(t));throw new S(904,!1)}function Gu(){const t=T();return t&&t[vo].sanitizer}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qu=new L("ENVIRONMENT_INITIALIZER"),T0=new L("INJECTOR",-1),b0=new L("INJECTOR_DEF_TYPES");class Iy{get(e,n=_u){if(n===_u){const r=new Error(`NullInjectorError: No provider for ${at(e)}!`);throw r.name="NullInjectorError",r}return n}}function QG(...t){return{\u0275providers:C0(0,t),\u0275fromNgModule:!0}}function C0(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return No(e,o=>{const a=o;dh(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&S0(i,s),n}function S0(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Dy(i,s=>{e(s,r)})}}function dh(t,e,n,r){if(!(t=G(t)))return!1;let i=null,s=Id(t);const o=!s&&oe(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=Id(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)dh(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{No(s.imports,l=>{dh(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&S0(c,e)}if(!a){const c=cs(i)||(()=>new i);e({provide:i,useFactory:c,deps:de},i),e({provide:b0,useValue:i,multi:!0},i),e({provide:qu,useValue:()=>F(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;Dy(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function Dy(t,e){for(let n of t)fm(n)&&(n=n.\u0275providers),Array.isArray(n)?Dy(n,e):e(n)}const YG=me({provide:String,useValue:me});function Ty(t){return null!==t&&"object"==typeof t&&YG in t}function ps(t){return"function"==typeof t}const by=new L("Set Injector scope."),hh={},JG={};let Cy;function fh(){return void 0===Cy&&(Cy=new Iy),Cy}class Tn{}class ph extends Tn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ay(e,o=>this.processProvider(o)),this.records.set(T0,jo(void 0,this)),i.has("environment")&&this.records.set(Tn,jo(void 0,this));const s=this.records.get(by);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(b0.multi,de,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=vi(this),r=on(void 0);try{return e()}finally{vi(n),on(r)}}get(e,n=_u,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(cb))return e[cb](this);r=Td(r);const s=vi(this),o=on(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function r3(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&wd(e);u=c&&this.injectableDefInScope(c)?jo(Sy(e),hh):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&te.Self?fh():this.parent).get(e,n=r&te.Optional&&n===_u?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Dd]=a[Dd]||[]).unshift(at(e)),s)throw a;return function e4(t,e,n,r){const i=t[Dd];throw e[ob]&&i.unshift(e[ob]),t.message=function t4(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=at(e);if(Array.isArray(e))i=e.map(at).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):at(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(QH,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Dd]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{on(o),vi(s)}}resolveInjectorInitializers(){const e=vi(this),n=on(void 0);try{const i=this.get(qu.multi,de,te.Self);for(const s of i)s()}finally{vi(e),on(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(at(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=ps(e=G(e))?e:G(e&&e.provide);const r=function e3(t){return Ty(t)?jo(void 0,t.useValue):jo(function M0(t,e,n){let r;if(ps(t)){const i=G(t);return cs(i)||Sy(i)}if(Ty(t))r=()=>G(t.useValue);else if(function x0(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Em(t.deps||[]));else if(function A0(t){return!(!t||!t.useExisting)}(t))r=()=>F(G(t.useExisting));else{const i=G(t&&(t.useClass||t.provide));if(!function t3(t){return!!t.deps}(t))return cs(i)||Sy(i);r=()=>new i(...Em(t.deps))}return r}(t),hh)}(e);if(ps(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=jo(void 0,hh,!0),i.factory=()=>Em(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===hh&&(n.value=JG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function n3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=G(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Sy(t){const e=wd(t),n=null!==e?e.factory:cs(t);if(null!==n)return n;if(t instanceof L)throw new S(204,!1);if(t instanceof Function)return function ZG(t){const e=t.length;if(e>0)throw function Fu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function GH(t){return t&&(t[Ed]||t[nb])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function jo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ay(t,e){for(const n of t)Array.isArray(n)?Ay(n,e):n&&fm(n)?Ay(n.\u0275providers,e):e(n)}const gh=new L("AppId",{providedIn:"root",factory:()=>i3}),i3="ng",R0=new L("Platform Initializer"),Hr=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),N0=new L("CSP nonce",{providedIn:"root",factory:()=>function Vo(){if(void 0!==gy)return gy;if(typeof document<"u")return document;throw new S(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let k0=(t,e,n)=>null;function Ly(t,e,n=!1){return k0(t,e,n)}class p3{}class L0{}class m3{resolveComponentFactory(e){throw function g3(t){const e=Error(`No component factory found for ${at(t)}.`);return e.ngComponent=t,e}(e)}}let Ih=(()=>{class e{}return e.NULL=new m3,e})();function y3(){return Ho(Ct(),T())}function Ho(t,e){return new Ci(cn(t,e))}let Ci=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=y3,e})();class V0{}let Eh=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function _3(){const t=T(),n=En(Ct().index,t);return(un(n)?n:t)[Q]}(),e})(),w3=(()=>{var t;class e{}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),e})();class Qu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const U0=new Qu("16.2.4"),Uy={};function H0(t,e=null,n=null,r){const i=z0(t,e,n,r);return i.resolveInjectorInitializers(),i}function z0(t,e=null,n=null,r,i=new Set){const s=[n||de,QG(t)];return r=r||("object"==typeof t?void 0:at(t)),new ph(s,e||fh(),r||null,i)}let hn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return H0({name:""},i,r,"");{const s=r.name??"";return H0({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=_u,t.NULL=new Iy,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>F(T0)}),t.__NG_ELEMENT_ID__=-1,e})();function $y(t){return e=>{setTimeout(t,void 0,e)}}const Yt=class S3 extends zn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=$y(s),i&&(i=$y(i)),o&&(o=$y(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof sn&&e.add(a),a}};function G0(...t){}class ye{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yt(!1),this.onMicrotaskEmpty=new Yt(!1),this.onStable=new Yt(!1),this.onError=new Yt(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function A3(){const t="function"==typeof De.requestAnimationFrame;let e=De[t?"requestAnimationFrame":"setTimeout"],n=De[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function R3(t){const e=()=>{!function M3(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(De,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,zy(t),t.isCheckStableRunning=!0,Hy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),zy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function k3(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return q0(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),W0(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return q0(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),W0(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,zy(t),Hy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ye.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(ye.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,x3,G0,G0);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const x3={};function Hy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function q0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function W0(t){t._nesting--,Hy(t)}class N3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yt,this.onMicrotaskEmpty=new Yt,this.onStable=new Yt,this.onError=new Yt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const K0=new L("",{providedIn:"root",factory:Q0});function Q0(){const t=P(ye);let e=!0;return function OH(...t){const e=vu(t),n=function AH(t,e){return"number"==typeof um(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?kn(r[0]):fo(n)(ht(r,e)):ur}(new Oe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Oe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{ye.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(ZT()))}function zr(t){return t instanceof Function?t():t}let Gy=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new S(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),e})();function Yu(t){for(;t;){t[J]|=64;const e=ju(t);if(Am(t)&&!e)return t;t=e}return null}function qy(t){return t.ngOriginalError}class gs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&qy(e);for(;n&&qy(n);)n=qy(n);return n||null}}const eS=new L("",{providedIn:"root",factory:()=>!1});let Th=null;function iS(t,e){return t[e]??aS()}function sS(t,e){const n=aS();n.producerNode?.length&&(t[e]=Th,n.lView=t,Th=oS())}const H3={...Rd,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yu(t.lView)},lView:null};function oS(){return Object.create(H3)}function aS(){return Th??=oS(),Th}const X={};function fn(t){uS(ae(),T(),Kt()+t,!1)}function uS(t,e,n,r){if(!r)if(3==(3&e[J])){const s=t.preOrderCheckHooks;null!==s&&Ud(e,s,n)}else{const s=t.preOrderHooks;null!==s&&jd(e,s,0,n)}ds(n)}function B(t,e=te.Default){const n=T();return null===n?F(t,e):wC(Ct(),n,G(t),e)}function bh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Ue]=i,d[J]=140|r,(null!==c||t&&2048&t[J])&&(d[J]|=2048),Wb(d),d[Ne]=d[_o]=t,d[Ge]=n,d[vo]=o||t&&t[vo],d[Q]=a||t&&t[Q],d[_i]=u||t&&t[_i]||null,d[Ot]=s,d[Cu]=function Xz(){return Yz++}(),d[Ur]=l,d[Db]=c,d[qe]=2==e.type?t[qe]:d,d}function qo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Wy(t,e,n,r,i){const s=tC(),o=Lm(),u=t.data[e]=function X3(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function To(){return null!==z.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Y4(){return z.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ru(){const t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return pr(s,!0),s}function Xu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function lS(t,e,n,r,i){const s=iS(e,Su),o=Kt(),a=2&r;try{ds(-1),a&&e.length>ne&&uS(t,e,ne,!1),fr(a?2:0,i);const c=a?s:null,l=Nd(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{kd(c,l)}}finally{a&&null===e[Su]&&sS(e,Su),ds(o),fr(a?3:1,i)}}function Ky(t,e,n){if(Sm(e)){const r=Ln(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Ln(r)}}}function Qy(t,e,n){Jb()&&(function iq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;us(n)&&function dq(t,e,n){const r=cn(e,t),i=dS(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Ch(t,bh(t,i,null,o,r,e,null,t[vo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||$d(n,e),Lt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=hs(e,t,a,n);Lt(c,e),null!==o&&hq(0,a-i,c,u,0,o),Yn(u)&&(En(n.index,e)[Ge]=hs(e,t,a,n))}}(t,e,n,cn(n,e)),64==(64&n.flags)&&mS(t,e,n))}function Yy(t,e,n=cn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function dS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Xy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Xy(t,e,n,r,i,s,o,a,u,c,l){const d=ne+r,h=d+i,f=function G3(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:X);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let hS=t=>null;function fS(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?pS(n,e,i,s):r.hasOwnProperty(i)&&pS(n,e,r[i],s)}return n}function pS(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function bn(t,e,n,r,i,s,o,a){const u=cn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(nv(t,n,l,r,i),us(e)&&function eq(t,e){const n=En(e,t);16&n[J]||(n[J]|=64)}(n,e.index)):3&e.type&&(r=function Z3(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function Jy(t,e,n,r){if(Jb()){const i=null===r?null:{"":-1},s=function oq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(mb(e,o.selectors,!1))if(r||(r=[]),Yn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Zy(t,e,a.length)}else r.unshift(o),Zy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&gS(t,e,n,o,i,a),i&&function aq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Eu(n.mergedAttrs,n.attrs)}function gS(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Km($d(n,e),t,r[c].type);!function cq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Xu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Eu(n.mergedAttrs,l.hostAttrs),lq(t,n,e,u,l),uq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function J3(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=fS(d.inputs,l,u,h?h.inputs:null),c=fS(d.outputs,l,c,p);const g=null===u||null===o||gb(e)?null:fq(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function mS(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function J4(){return z.lFrame.currentDirectiveIndex}();try{ds(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Vm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&sq(u,c)}}finally{ds(-1),Vm(o)}}function sq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Zy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function uq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Yn(e)&&(n[""]=t)}}function lq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=cs(i.type)),o=new Nu(s,Yn(i),B);t.blueprint[r]=o,n[r]=o,function nq(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function rq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Xu(t,n,i.hostVars,X),i)}function mr(t,e,n,r,i,s){const o=cn(t,e);!function ev(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?K(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[Q],o,s,t.value,n,r,i)}function hq(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)yS(r,n,o[a++],o[a++],o[a++])}function yS(t,e,n,r,i){const s=Ln(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Ln(s)}}function fq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function vS(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function _S(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];jm(n[r]),o.contentQueries(2,e[s],s)}}}function Ch(t,e){return t[Tu]?t[Eb][Qn]=e:t[Tu]=e,t[Eb]=e,e}function tv(t,e,n){jm(0);const r=Ln(null);try{e(t,n)}finally{Ln(r)}}function DS(t,e){const n=t[_i],r=n?n.get(gs,null):null;r&&r.handleError(e)}function nv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];yS(t.data[o],e[o],r,a,i)}}function Gr(t,e,n){const r=function Ld(t,e){return Te(e[t])}(e,t);!function XC(t,e,n){t.setValue(e,n)}(t[Q],r,n)}function pq(t,e){const n=En(e,t),r=n[k];!function gq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ue];null!==i&&null===n[Ur]&&(n[Ur]=Ly(i,n[_i])),rv(r,n,n[Ge])}function rv(t,e,n){Bm(e);try{const r=t.viewQuery;null!==r&&tv(1,r,n);const i=t.template;null!==i&&lS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_S(t,e),t.staticViewQueries&&tv(2,t.viewQuery,n);const s=t.components;null!==s&&function mq(t,e){for(let n=0;n<e.length;n++)pq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,$m()}}let TS=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function A4(t,e,n){const r=Object.create(x4);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Rb(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Nb(r))return;r.hasRun=!0;const o=Nd(r);try{r.cleanupFn(),r.cleanupFn=jb,r.fn(i)}finally{kd(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,l=>{this.all.has(l)&&this.queue.set(l,o)},s);let u;this.all.add(a),a.notify();const c=()=>{a.cleanup(),u?.(),this.all.delete(a),this.queue.delete(a)};return u=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),e})();function Sh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=lm(i,a):2==s&&(r=lm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ju(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Te(s)),qt(s)&&bS(s,r);const o=n.type;if(8&o)Ju(t,e,n.child,r);else if(32&o){const a=oy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=a0(e,n);if(Array.isArray(a))r.push(...a);else{const u=ju(e[qe]);Ju(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function bS(t,e){for(let n=Tt;n<t.length;n++){const r=t[n],i=r[k].firstChild;null!==i&&Ju(r[k],r,i,e)}t[hr]!==t[Ue]&&e.push(t[hr])}function Ah(t,e,n,r=!0){const i=e[vo],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{CS(t,e,t.template,n)}catch(u){throw r&&DS(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function CS(t,e,n,r){const i=e[J];if(256!=(256&i)){e[vo].effectManager?.flush(),Bm(e);try{Wb(e),function rC(t){return z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&lS(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Ud(e,c,null)}else{const c=t.preOrderHooks;null!==c&&jd(e,c,0,null),Hm(e,0)}if(function _q(t){for(let e=KC(t);null!==e;e=QC(e)){if(!e[Tb])continue;const n=e[Io];for(let r=0;r<n.length;r++){U4(n[r])}}}(e),SS(e,2),null!==t.contentQueries&&_S(t,e),o){const c=t.contentCheckHooks;null!==c&&Ud(e,c)}else{const c=t.contentHooks;null!==c&&jd(e,c,1),Hm(e,1)}!function z3(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=iS(e,Au);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ds(~s);else{const o=s,a=n[++i],u=n[++i];X4(a,o),r.dirty=!1;const c=Nd(r);try{u(2,e[o])}finally{kd(r,c)}}}}finally{null===e[Au]&&sS(e,Au),ds(-1)}}(t,e);const a=t.components;null!==a&&xS(e,a,0);const u=t.viewQuery;if(null!==u&&tv(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Ud(e,c)}else{const c=t.viewHooks;null!==c&&jd(e,c,2),Hm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[J]&=-73,Kb(e)}finally{$m()}}}function SS(t,e){for(let n=KC(t);null!==n;n=QC(n))for(let r=Tt;r<n.length;r++)AS(n[r],e)}function wq(t,e,n){AS(En(e,t),n)}function AS(t,e){if(!function F4(t){return 128==(128&t[J])}(t))return;const n=t[k],r=t[J];if(80&r&&0===e||1024&r||2===e)CS(n,t,n.template,t[Ge]);else if(t[Du]>0){SS(t,1);const i=n.components;null!==i&&xS(t,i,1)}}function xS(t,e,n){for(let r=0;r<e.length;r++)wq(t,e[r],n)}class Zu{get rootNodes(){const e=this._lView,n=e[k];return Ju(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ge]}set context(e){this._lView[Ge]=e}get destroyed(){return 256==(256&this._lView[J])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ne];if(qt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(rh(e,r),qd(n,r))}this._attachedToViewContainer=!1}uy(this._lView[k],this._lView)}onDestroy(e){!function Yb(t,e){if(256==(256&t[J]))throw new S(911,!1);null===t[wi]&&(t[wi]=[]),t[wi].push(e)}(this._lView,e)}markForCheck(){Yu(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){this._lView[J]|=128}detectChanges(){Ah(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dG(t,e){$u(t,e,e[Q],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class Iq extends Zu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ah(e[k],e,e[Ge],!1)}checkNoChanges(){}get context(){return null}}class MS extends Ih{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=oe(e);return new ec(n,this.ngModule)}}function RS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Dq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Td(r);const i=this.injector.get(e,Uy,r);return i!==Uy||n===Uy?i:this.parentInjector.get(e,n,r)}}class ec extends L0{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=RS(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return RS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function d4(t){return t.map(l4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Tn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Dq(e,s):e,a=o.get(V0,null);if(null===a)throw new S(407,!1);const d={rendererFactory:a,sanitizer:o.get(w3,null),effectManager:o.get(TS,null),afterRenderEventManager:o.get(Gy,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function q3(t,e,n,r){const s=r.get(eS,!1)||n===Wn.ShadowDom,o=t.selectRootElement(e,s);return function W3(t){hS(t)}(o),o}(h,r,this.componentDef.encapsulation,o):nh(h,f,function Eq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=Ly(p,o,!0));const E=Xy(0,null,null,1,0,null,null,null,null,null,null),D=bh(null,E,null,y,null,null,d,h,o,null,v);let N,W;Bm(D);try{const he=this.componentDef;let et,It=null;he.findHostDirectiveDefs?(et=[],It=new Map,he.findHostDirectiveDefs(he,et,It),et.push(he)):et=[he];const dd=function bq(t,e){const n=t[k],r=ne;return t[r]=e,qo(n,r,2,"#host",null)}(D,p),Qg=function Cq(t,e,n,r,i,s,o){const a=i[k];!function Sq(t,e,n,r){for(const i of t)e.mergedAttrs=Eu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Sh(e,e.mergedAttrs,!0),null!==n&&d0(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=Ly(e,i[_i]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=bh(i,dS(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&Zy(a,t,r.length-1),Ch(i,d),i[t.index]=d}(dd,p,he,et,D,d,h);W=qb(E,ne),p&&function xq(t,e,n,r){if(r)bm(t,n,["ng-version",U0.full]);else{const{attrs:i,classes:s}=function h4(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Kn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&bm(t,n,i),s&&s.length>0&&l0(t,n,s.join(" "))}}(h,he,p,r),void 0!==n&&function Mq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(W,this.ngContentSelectors,n),N=function Aq(t,e,n,r,i,s){const o=Ct(),a=i[k],u=cn(o,i);gS(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Lt(hs(i,a,o.directiveStart+l,o),i);mS(a,i,o),u&&Lt(u,i);const c=hs(i,a,o.directiveStart+o.componentOffset,o);if(t[Ge]=i[Ge]=c,null!==s)for(const l of s)l(c,e);return Ky(a,o,t),c}(Qg,he,et,It,D,[Rq]),rv(E,D,null)}finally{$m()}return new Tq(this.componentType,N,Ho(W,D),D,W)}}class Tq extends p3{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Iq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;nv(s[k],s,i,e,n),this.previousInputValues.set(e,n),Yu(En(this._tNode.index,s))}}get injector(){return new Qt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Rq(){const t=Ct();Vd(T()[k],t)}function FS(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Mh(t){return!!function iv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ft(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function sv(t,e,n,r){const i=T();return Ft(i,bo(),e)&&(ae(),mr(Le(),i,t,e,n,r)),sv}function Ko(t,e,n,r){return Ft(t,bo(),n)?e+K(n)+r:X}function Qo(t,e,n,r,i,s){const a=function ms(t,e,n,r){const i=Ft(t,e,n);return Ft(t,e+1,r)||i}(t,function jr(){return z.lFrame.bindingIndex}(),n,i);return function Br(t){const e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2),a?e+K(n)+r+K(i)+s:X}function sc(t,e,n,r,i,s,o,a){const u=T(),c=ae(),l=t+ne,d=c.firstCreatePass?function o6(t,e,n,r,i,s,o,a,u){const c=e.consts,l=qo(e,t,4,o||null,Ei(c,a));Jy(e,n,l,Ei(c,u)),Vd(e,l);const d=l.tView=Xy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];pr(d,!1);const h=YS(c,u,d,t);Fd()&&sh(c,u,h,d),Lt(h,u),Ch(u,u[l]=vS(h,u,h,d)),xd(d)&&Qy(c,u,d),null!=o&&Yy(u,d,a)}let YS=function XS(t,e,n,r){return Di(!0),e[Q].createComment("")};function dv(t){return Do(function Q4(){return z.lFrame.contextLView}(),ne+t)}function ys(t,e,n){const r=T();return Ft(r,bo(),e)&&bn(ae(),Le(),r,t,e,r[Q],n,!1),ys}function hv(t,e,n,r,i){const o=i?"class":"style";nv(t,n,e.inputs[o],o,r)}function ke(t,e,n,r){const i=T(),s=ae(),o=ne+t,a=i[Q],u=s.firstCreatePass?function l6(t,e,n,r,i,s){const o=e.consts,u=qo(e,t,2,r,Ei(o,i));return Jy(e,n,u,Ei(o,s)),null!==u.attrs&&Sh(u,u.attrs,!1),null!==u.mergedAttrs&&Sh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=JS(s,i,u,a,e,t);i[o]=c;const l=xd(u);return pr(u,!0),d0(a,c,u),32!=(32&u.flags)&&Fd()&&sh(s,i,c,u),0===function B4(){return z.lFrame.elementDepthCount}()&&Lt(c,i),function $4(){z.lFrame.elementDepthCount++}(),l&&(Qy(s,i,u),Ky(s,u,i)),null!==r&&Yy(i,u),ke}function We(){let t=Ct();Lm()?function Fm(){z.lFrame.isParent=!1}():(t=t.parent,pr(t,!1));const e=t;(function z4(t){return z.skipHydrationRootTNode===t})(e)&&function K4(){z.skipHydrationRootTNode=null}(),function H4(){z.lFrame.elementDepthCount--}();const n=ae();return n.firstCreatePass&&(Vd(n,t),Sm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function cz(t){return 0!=(8&t.flags)}(e)&&hv(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function lz(t){return 0!=(16&t.flags)}(e)&&hv(n,e,T(),e.stylesWithoutHost,!1),We}function Si(t,e,n,r){return ke(t,e,n,r),We(),Si}let JS=(t,e,n,r,i,s)=>(Di(!0),nh(r,i,function dC(){return z.lFrame.currentNamespace}()));function Oh(t){return!!t&&"function"==typeof t.then}function nA(t){return!!t&&"function"==typeof t.subscribe}function Lh(t,e,n,r){const i=T(),s=ae(),o=Ct();return function iA(t,e,n,r,i,s,o){const a=xd(r),c=t.firstCreatePass&&function IS(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Ge],d=function wS(t){return t[yo]||(t[yo]=[])}(e);let h=!0;if(3&r.type||o){const g=cn(r,e),m=o?o(g):g,y=d.length,v=o?D=>o(Te(D[r.index])):r.index;let E=null;if(!o&&a&&(E=function m6(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[yo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=oA(r,e,l,s,!1);const D=n.listen(m,i,s);d.push(s,D),c&&c.push(i,v,y,y+1)}}else s=oA(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const N=e[p[m]][p[m+1]].subscribe(s),W=d.length;d.push(s,N),c&&c.push(i,r.index,W,-(W+1))}}}(s,i,i[Q],o,t,e,r),Lh}function sA(t,e,n,r){try{return fr(6,e,n),!1!==n(r)}catch(i){return DS(t,i),!1}finally{fr(7,e,n)}}function oA(t,e,n,r,i){return function s(o){if(o===Function)return r;Yu(t.componentOffset>-1?En(t.index,e):e);let u=sA(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=sA(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function gv(t=1){return function ez(t){return(z.lFrame.contextLView=function tz(t,e){for(;t>0;)e=e[_o],t--;return e}(t,z.lFrame.contextLView))[Ge]}(t)}function Fh(t,e,n){return oc(t,"",e,"",n),Fh}function oc(t,e,n,r,i){const s=T(),o=Ko(s,e,n,r);return o!==X&&bn(ae(),Le(),s,t,o,s[Q],i,!1),oc}function ft(t,e=""){const n=T(),r=ae(),i=t+ne,s=r.firstCreatePass?qo(r,i,1,e,null):r.data[i],o=MA(r,n,s,e,t);n[i]=o,Fd()&&sh(r,n,o,s),pr(s,!1)}let MA=(t,e,n,r,i)=>(Di(!0),function th(t,e){return t.createText(e)}(e[Q],r));function xi(t){return wv("",t,""),xi}function wv(t,e,n){const r=T(),i=Ko(r,t,e,n);return i!==X&&Gr(r,Kt(),i),wv}function Iv(t,e,n,r,i){const s=T(),o=Qo(s,t,e,n,r,i);return o!==X&&Gr(s,Kt(),o),Iv}const ia="en-US";let XA=ia;class ws{}class Dx{}class Av extends ws{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new MS(this);const i=In(e);this._bootstrapComponents=zr(i.bootstrap),this._r3Injector=z0(e,n,[{provide:ws,useValue:this},{provide:Ih,useValue:this.componentFactoryResolver},...r],at(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class xv extends Dx{constructor(e){super(),this.moduleType=e}create(e){return new Av(this.moduleType,e,[])}}class Tx extends ws{constructor(e){super(),this.componentFactoryResolver=new MS(this),this.instance=null;const n=new ph([...e.providers,{provide:ws,useValue:this},{provide:Ih,useValue:this.componentFactoryResolver}],e.parent||fh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Mv(t,e,n=null){return new Tx({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let h9=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=C0(0,r.type),s=i.length>0?Mv([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(F(Tn))}),e})();function bx(t){t.getStandaloneInjector=e=>e.get(h9).getOrCreateStandaloneInjector(t)}function kx(t,e,n,r,i,s){const o=e+n;return Ft(t,o,i)?function yr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function fc(t,e){const n=t[e];return n===X?void 0:n}(t,o+1)}function Nv(t,e){const n=ae();let r;const i=t+ne;n.firstCreatePass?(r=function M9(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=cs(r.type)),a=on(B);try{const u=Bd(!1),c=s();return Bd(u),function c6(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,T(),i,c),c}finally{on(a)}}function kv(t,e,n){const r=t+ne,i=T(),s=Do(i,r);return function pc(t,e){return t[k].data[e].pure}(i,r)?kx(i,Wt(),e,s.transform,n,s):s.transform(n)}function F9(t,e,n,r=!0){const i=e[k];if(function fG(t,e,n,r){const i=Tt+r,s=n.length;r>0&&(n[i-1][Qn]=e),r<s-Tt?(e[Qn]=n[i],SC(n,Tt+r,e)):(n.push(e),e[Qn]=null),e[Ne]=n;const o=e[bu];null!==o&&n!==o&&function pG(t,e){const n=t[Io];e[qe]!==e[Ne][Ne][qe]&&(t[Tb]=!0),null===n?t[Io]=[e]:n.push(e)}(o,e);const a=e[dr];null!==a&&a.insertView(t),e[J]|=128}(i,e,t,n),r){const s=hy(n,t),o=e[Q],a=ih(o,t[hr]);null!==a&&function lG(t,e,n,r,i,s){r[Ue]=i,r[Ot]=e,$u(t,r,n,1,i,s)}(i,t[Ot],o,e,a,s)}}let qr=(()=>{class e{}return e.__NG_ELEMENT_ID__=j9,e})();const V9=qr,U9=class extends V9{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function L9(t,e,n,r){const i=e.tView,a=bh(t,i,n,4096&t[J]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[bu]=t[e.index];const c=t[dr];return null!==c&&(a[dr]=c.createEmbeddedView(i)),rv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Zu(i)}};function j9(){return zh(Ct(),T())}function zh(t,e){return 4&t.type?new U9(e,t,Ho(t,e)):null}let Zn=(()=>{class e{}return e.__NG_ELEMENT_ID__=q9,e})();function q9(){return function zx(t,e){let n;const r=e[t.index];return qt(r)?n=r:(n=vS(r,e,null,t),e[t.index]=n,Ch(e,n)),Gx(n,e,t,r),new $x(n,t,e)}(Ct(),T())}const W9=Zn,$x=class extends W9{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new Qt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Hd(this._hostTNode,this._hostLView);if(Gm(e)){const n=Pu(e,this._hostLView),r=ku(e);return new Qt(n[k].data[r+8],n)}return new Qt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Hx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Tt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Lu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new ec(oe(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(Tn,null);m&&(s=m)}oe(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function V4(t){return qt(t[Ne])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ne],l=new $x(c,c[Ot],c[Ne]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return F9(a,i,o,!r),e.attachToViewContainerRef(),SC(Ov(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Hx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=rh(this._lContainer,n);r&&(qd(Ov(this._lContainer),n),uy(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=rh(this._lContainer,n);return r&&null!=qd(Ov(this._lContainer),n)?new Zu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Hx(t){return t[8]}function Ov(t){return t[8]||(t[8]=[])}let Gx=function qx(t,e,n,r){if(t[hr])return;let i;i=8&n.type?Te(r):function K9(t,e){const n=t[Q],r=n.createComment(""),i=cn(e,t);return fs(n,ih(n,i),r,function vG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[hr]=i};function tM(t,e){return zh(t,e)}const qv=new L("Application Initializer");let Wv=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=P(qv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Oh(o))r.push(o);else if(nA(o)){const a=new Promise((u,c)=>{o.subscribe({complete:u,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),vM=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Wr=new L("LocaleId",{providedIn:"root",factory:()=>P(Wr,te.Optional|te.SkipSelf)||function TW(){return typeof $localize<"u"&&$localize.locale||ia}()});let Wh=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pn(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class SW{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let _M=(()=>{var t;class e{compileModuleSync(r){return new xv(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=zr(In(r).declarations).reduce((a,u)=>{const c=oe(u);return c&&a.push(new ec(c)),a},[]);return new SW(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const DM=new L(""),Qh=new L("");let Jv,Yv=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jv||(function WW(t){Jv=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(F(ye),F(Xv),F(Qh))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})(),Xv=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Jv?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Mi=null;const TM=new L("AllowMultipleToken"),Zv=new L("PlatformDestroyListeners"),e_=new L("appBootstrapListener");class CM{constructor(e,n){this.name=e,this.token=n}}function AM(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=t_();if(!o||o.injector.get(TM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function YW(t){if(Mi&&!Mi.get(TM,!1))throw new S(400,!1);(function bM(){!function D4(t){Lb=t}(()=>{throw new S(600,!1)})})(),Mi=t;const e=t.get(MM);(function SM(t){t.get(R0,null)?.forEach(n=>n())})(t)}(function xM(t=[],e){return hn.create({name:e,providers:[{provide:by,useValue:"platform"},{provide:Zv,useValue:new Set([()=>Mi=null])},...t]})}(a,r))}return function JW(t){const e=t_();if(!e)throw new S(401,!1);return e}()}}function t_(){return Mi?.get(MM)??null}let MM=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function ZW(t="zone.js",e){return"noop"===t?new N3:"zone.js"===t?new ye(e):t}(i?.ngZone,function RM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function d9(t,e,n){return new Av(t,e,n)}(r.moduleType,this.injector,function LM(t){return[{provide:ye,useFactory:t},{provide:qu,multi:!0,useFactory:()=>{const e=P(t7,{optional:!0});return()=>e.initialize()}},{provide:OM,useFactory:e7},{provide:K0,useFactory:Q0}]}(()=>s)),a=o.injector.get(gs,null);return s.runOutsideAngular(()=>{const u=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{Yh(this._modules,o),u.unsubscribe()})}),function NM(t,e,n){try{const r=n();return Oh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const u=o.injector.get(Wv);return u.runInitializers(),u.donePromise.then(()=>(function JA(t){On(t,"Expected localeId to be defined"),"string"==typeof t&&(XA=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Wr,ia)||ia),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=kM({},i);return function KW(t,e,n){const r=new xv(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(aa);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new S(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Zv,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(F(hn))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function kM(t,e){return Array.isArray(e)?e.reduce(kM,t):{...t,...e}}let aa=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(OM),this.zoneIsStable=P(K0),this.componentTypes=[],this.components=[],this.isStable=P(Wh).hasPendingTasks.pipe(Gn(r=>r?$(!1):this.zoneIsStable),function LH(t,e=mi){return t=t??FH,st((n,r)=>{let i,s=!0;n.subscribe(ot(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),ZT()),this._injector=P(Tn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof L0;if(!this._injector.get(Wv).done)throw!s&&function mo(t){const e=oe(t)||Dt(t)||Gt(t);return null!==e&&e.standalone}(r),new S(405,!1);let a;a=s?r:this._injector.get(Ih).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const u=function QW(t){return t.isBoundToModule}(a)?void 0:this._injector.get(ws),l=a.create(hn.NULL,[],i||a.selector,u),d=l.location.nativeElement,h=l.injector.get(DM,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Yh(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Yh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(e_,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Yh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Yh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const OM=new L("",{providedIn:"root",factory:()=>P(gs).handleError.bind(void 0)});function e7(){const t=P(ye),e=P(gs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let t7=(()=>{var t;class e{constructor(){this.zone=P(ye),this.applicationRef=P(aa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let n_=(()=>{class e{}return e.__NG_ELEMENT_ID__=r7,e})();function r7(t){return function i7(t,e,n){if(us(t)&&!n){const r=En(t.index,e);return new Zu(r,r)}return 47&t.type?new Zu(e[qe],e):null}(Ct(),T(),16==(16&t))}class jM{constructor(){}supports(e){return Mh(e)}create(e){return new l7(e)}}const c7=(t,e)=>e;class l7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||c7}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<$M(r,i,s)?n:r,a=$M(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Mh(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function $q(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new d7(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new BM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class d7{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class h7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class BM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new h7,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $M(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function zM(){return new Zh([new jM])}let Zh=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||zM()),deps:[[e,new Kd,new ln]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:zM}),e})();const y7=AM(null,"core",[]);let v7=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(F(aa))},t.\u0275mod=lr({type:t}),t.\u0275inj=qn({}),e})();function u_(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let c_=null;function ua(){return c_}class N7{}const Cn=new L("DocumentToken");let l_=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(P7)},providedIn:"platform"}),e})();const k7=new L("Location Initialized");let P7=(()=>{var t;class e extends l_{constructor(){super(),this._doc=P(Cn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ua().getBaseHref(this._doc)}onPopState(r){const i=ua().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=ua().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function d_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function eR(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Kr(t){return t&&"?"!==t[0]?"?"+t:t}let Es=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(nR)},providedIn:"root"}),e})();const tR=new L("appBaseHref");let nR=(()=>{var t;class e extends Es{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??P(Cn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return d_(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Kr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Kr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Kr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(F(l_),F(tR,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),O7=(()=>{var t;class e extends Es{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=d_(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Kr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Kr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(F(l_),F(tR,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})(),h_=(()=>{var t;class e{constructor(r){this._subject=new Yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function V7(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(eR(rR(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Kr(i))}normalize(r){return e.stripTrailingSlash(function F7(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,rR(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Kr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Kr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Kr,t.joinWithSlash=d_,t.stripTrailingSlash=eR,t.\u0275fac=function(r){return new(r||t)(F(Es))},t.\u0275prov=j({token:t,factory:function(){return function L7(){return new h_(F(Es))}()},providedIn:"root"}),e})();function rR(t){return t.replace(/\/index.html$/,"")}function hR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class T8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let D_=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new T8(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,a),gR(u,s)}});for(let s=0,o=i.length;s<o;s++){const u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{gR(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(B(Zn),B(qr),B(Zh))},t.\u0275dir=zt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function gR(t,e){t.context.$implicit=e.item}let mR=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new b8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){yR("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){yR("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(B(Zn),B(qr))},t.\u0275dir=zt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class b8{constructor(){this.$implicit=null,this.ngIf=null}}function yR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${at(e)}'.`)}class A8{createSubscription(e,n){return Ub(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Ub(()=>e.unsubscribe())}}class x8{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const M8=new x8,R8=new A8;let C_=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Oh(r))return M8;if(nA(r))return R8;throw function tr(t,e){return new S(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(B(n_,16))},t.\u0275pipe=an({name:"async",type:t,pure:!1,standalone:!0}),e})(),wR=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=lr({type:t}),t.\u0275inj=qn({}),e})();function ER(t){return"server"===t}let J8=(()=>{var t;class e{}return(t=e).\u0275prov=j({token:t,providedIn:"root",factory:()=>new Z8(F(Cn),window)}),e})();class Z8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function eK(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class DR{}class DK extends N7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class R_ extends DK{static makeCurrent(){!function R7(t){c_||(c_=t)}(new R_)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function TK(){return Ic=Ic||document.querySelector("base"),Ic?Ic.getAttribute("href"):null}();return null==n?null:function bK(t){gf=gf||document.createElement("a"),gf.setAttribute("href",t);const e=gf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hR(document.cookie,e)}}let gf,Ic=null,SK=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const N_=new L("EventManagerPlugins");let AR=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(F(N_),F(ye))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();class xR{constructor(e){this._doc=e}}const k_="ng-app-id";let MR=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ER(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${k_}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(k_),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(k_,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(F(Cn),F(gh),F(N0,8),F(Hr))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const P_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},O_=/%COMP%/g,RK=new L("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function NR(t,e){return e.map(n=>n.replace(O_,t))}let kR=(()=>{var t;class e{constructor(r,i,s,o,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ER(u),this.defaultRenderer=new L_(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Wn.ShadowDom&&(i={...i,encapsulation:Wn.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof OR?s.applyToHost(r):s instanceof F_&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Wn.Emulated:o=new OR(c,l,i,this.appId,d,a,u,h);break;case Wn.ShadowDom:return new OK(c,l,r,i,a,u,this.nonce,h);default:o=new F_(c,l,i,d,a,u,h)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(F(AR),F(MR),F(gh),F(RK),F(Cn),F(Hr),F(ye),F(N0))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();class L_{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(P_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(PR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(PR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=P_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=P_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ti.DashCase|Ti.Important)?e.style.setProperty(n,r,i&Ti.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ti.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ua().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function PR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class OK extends L_{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=NR(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class F_ extends L_{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?NR(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class OR extends F_{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function NK(t){return"_ngcontent-%COMP%".replace(O_,t)}(c),this.hostAttr=function kK(t){return"_nghost-%COMP%".replace(O_,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let LK=(()=>{var t;class e extends xR{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(F(Cn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const LR=["alt","control","meta","shift"],FK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let UK=(()=>{var t;class e extends xR{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ua().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),LR.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=FK[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),LR.forEach(a=>{a!==s&&(0,VK[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(F(Cn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const VR=[{provide:Hr,useValue:"browser"},{provide:R0,useValue:function jK(){R_.makeCurrent()},multi:!0},{provide:Cn,useFactory:function $K(){return function CG(t){gy=t}(document),document},deps:[]}],HK=AM(y7,"browser",VR),zK=new L(""),UR=[{provide:Qh,useClass:class CK{addToWindow(e){De.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},De.getAllAngularTestabilities=()=>e.getAllTestabilities(),De.getAllAngularRootElements=()=>e.getAllRootElements(),De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push(r=>{const i=De.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ua().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:DM,useClass:Yv,deps:[ye,Xv,Qh]},{provide:Yv,useClass:Yv,deps:[ye,Xv,Qh]}],jR=[{provide:by,useValue:"root"},{provide:gs,useFactory:function BK(){return new gs},deps:[]},{provide:N_,useClass:LK,multi:!0,deps:[Cn,ye,Hr]},{provide:N_,useClass:UK,multi:!0,deps:[Cn]},kR,MR,AR,{provide:V0,useExisting:kR},{provide:DR,useClass:SK,deps:[]},[]];let GK=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:gh,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(F(zK,12))},t.\u0275mod=lr({type:t}),t.\u0275inj=qn({providers:[...jR,...UR],imports:[wR,v7]}),e})(),BR=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(F(Cn))},t.\u0275prov=j({token:t,factory:function(r){let i=null;return i=r?new r:function WK(){return new BR(F(Cn))}(),i},providedIn:"root"}),e})();function la(t,e){return Ie(e)?Et(t,e,1):Et(t,1)}function Xr(t,e){return st((n,r)=>{let i=0;n.subscribe(ot(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ec(t){return st((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}typeof window<"u"&&window;class mf{}class yf{}class wr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof wr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new wr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof wr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class JK{encodeKey(e){return GR(e)}encodeValue(e){return GR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const eQ=/%(\d[a-f0-9])/gi,tQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GR(t){return encodeURIComponent(t).replace(eQ,(e,n)=>tQ[n]??e)}function vf(t){return`${t}`}class Ni{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new JK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ZK(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(vf):[vf(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Ni({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(vf(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(vf(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class nQ{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function qR(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function WR(t){return typeof Blob<"u"&&t instanceof Blob}function KR(t){return typeof FormData<"u"&&t instanceof FormData}class Dc{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function rQ(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new wr),this.context||(this.context=new nQ),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Ni,this.urlWithParams=n}serializeBody(){return null===this.body?null:qR(this.body)||WR(this.body)||KR(this.body)||function iQ(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ni?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||KR(this.body)?null:WR(this.body)?this.body.type||null:qR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ni?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Dc(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var da=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(da||{});class U_{constructor(e,n=200,r="OK"){this.headers=e.headers||new wr,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class j_ extends U_{constructor(e={}){super(e),this.type=da.ResponseHeader}clone(e={}){return new j_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ha extends U_{constructor(e={}){super(e),this.type=da.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ha({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class QR extends U_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function B_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let YR=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Dc)o=r;else{let c,l;c=s.headers instanceof wr?s.headers:new wr(s.headers),s.params&&(l=s.params instanceof Ni?s.params:new Ni({fromObject:s.params})),o=new Dc(r,i,void 0!==s.body?s.body:null,{headers:c,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=$(o).pipe(la(c=>this.handler.handle(c)));if(r instanceof Dc||"events"===s.observe)return a;const u=a.pipe(Xr(c=>c instanceof ha));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(re(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return u.pipe(re(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return u.pipe(re(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return u.pipe(re(c=>c.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Ni).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,B_(s,i))}post(r,i,s={}){return this.request("POST",r,B_(s,i))}put(r,i,s={}){return this.request("PUT",r,B_(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(F(mf))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();function ZR(t,e){return e(t)}function oQ(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const uQ=new L(""),Tc=new L(""),eN=new L("");function cQ(){let t=null;return(e,n)=>{null===t&&(t=(P(uQ,{optional:!0})??[]).reduceRight(oQ,ZR));const r=P(Wh),i=r.add();return t(e,n).pipe(Ec(()=>r.remove(i)))}}let tN=(()=>{var t;class e extends mf{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=P(Wh)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Tc),...this.injector.get(eN,[])]));this.chain=s.reduceRight((o,a)=>function aQ(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),ZR)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Ec(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(F(yf),F(Tn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const fQ=/^\)\]\}',?\n/;let rN=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new S(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?ht(i.\u0275loadImpl()):$(null)).pipe(Gn(()=>new Oe(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,y)=>a.setRequestHeader(m,y.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const m=r.detectContentTypeHeader();null!==m&&a.setRequestHeader("Content-Type",m)}if(r.responseType){const m=r.responseType.toLowerCase();a.responseType="json"!==m?m:"text"}const u=r.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=a.statusText||"OK",y=new wr(a.getAllResponseHeaders()),v=function pQ(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return c=new j_({headers:y,status:a.status,statusText:m,url:v}),c},d=()=>{let{headers:m,status:y,statusText:v,url:E}=l(),D=null;204!==y&&(D=typeof a.response>"u"?a.responseText:a.response),0===y&&(y=D?200:0);let N=y>=200&&y<300;if("json"===r.responseType&&"string"==typeof D){const W=D;D=D.replace(fQ,"");try{D=""!==D?JSON.parse(D):null}catch(he){D=W,N&&(N=!1,D={error:he,text:D})}}N?(o.next(new ha({body:D,headers:m,status:y,statusText:v,url:E||void 0})),o.complete()):o.error(new QR({error:D,headers:m,status:y,statusText:v,url:E||void 0}))},h=m=>{const{url:y}=l(),v=new QR({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});o.error(v)};let f=!1;const p=m=>{f||(o.next(l()),f=!0);let y={type:da.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===r.responseType&&a.responseText&&(y.partialText=a.responseText),o.next(y)},g=m=>{let y={type:da.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",p),null!==u&&a.upload&&a.upload.addEventListener("progress",g)),a.send(u),o.next({type:da.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",p),null!==u&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(F(DR))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();const $_=new L("XSRF_ENABLED"),iN=new L("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),sN=new L("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class oN{}let yQ=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=hR(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(F(Cn),F(Hr),F(iN))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();function vQ(t,e){const n=t.url.toLowerCase();if(!P($_)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=P(oN).getToken(),i=P(sN);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var ki=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ki||{});function Ds(t,e){return{\u0275kind:t,\u0275providers:e}}function _Q(...t){const e=[YR,rN,tN,{provide:mf,useExisting:tN},{provide:yf,useExisting:rN},{provide:Tc,useValue:vQ,multi:!0},{provide:$_,useValue:!0},{provide:oN,useClass:yQ}];for(const n of t)e.push(...n.\u0275providers);return function Ey(t){return{\u0275providers:t}}(e)}const aN=new L("LEGACY_INTERCEPTOR_FN");let IQ=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=lr({type:t}),t.\u0275inj=qn({providers:[_Q(Ds(ki.LegacyInterceptors,[{provide:aN,useFactory:cQ},{provide:Tc,useExisting:aN,multi:!0}]))]}),e})();function uN(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){uN(s,r,i,o,a,"next",u)}function a(u){uN(s,r,i,o,a,"throw",u)}o(void 0)})}}const cN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new MQ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wf=function(t){return function(t){const e=cN(t);return z_.encodeByteArray(e,!0)}(t).replace(/\./g,"")},If=function(t){try{return z_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Ef=()=>{try{return function kQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&If(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},dN=()=>{var t;return null===(t=Ef())||void 0===t?void 0:t.config};class Df{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function An(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function G_(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ts(){try{return"object"==typeof indexedDB}catch{return!1}}function bc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function q_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ir.prototype.create)}}class Ir{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function GQ(t,e){return t.replace(qQ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new nr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const qQ=/\{\$([^}]+)}/g;function W_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fN(s)&&fN(o)){if(!W_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fN(t){return null!==t&&"object"==typeof t}function pN(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class KQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function QQ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=K_),void 0===i.error&&(i.error=K_),void 0===i.complete&&(i.complete=K_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K_(){}const YQ=1e3,XQ=2,JQ=144e5,ZQ=.5;function Y_(t,e=YQ,n=XQ){const r=e*Math.pow(n,t),i=Math.round(ZQ*r*(Math.random()-.5)*2);return Math.min(JQ,r+i)}function xn(t){return t&&t._delegate?t._delegate:t}class Vt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bs="[DEFAULT]";class tY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Df;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function rY(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===bs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class iY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const X_=[];var le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{});const gN={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},sY=le.INFO,oY={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},aY=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=oY[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class fa{constructor(e){this.name=e,this._logLevel=sY,this._logHandler=aY,this._userLogHandler=null,X_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?gN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const uY=(t,e)=>e.some(n=>t instanceof n);let mN,yN;const vN=new WeakMap,J_=new WeakMap,_N=new WeakMap,Z_=new WeakMap,ew=new WeakMap;let tw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return J_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||_N.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function gY(t){return"function"==typeof t?function pY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lY(){return yN||(yN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(nw(this),e),Pi(vN.get(this))}:function(...e){return Pi(t.apply(nw(this),e))}:function(e,...n){const r=t.call(nw(this),e,...n);return _N.set(r,e.sort?e.sort():[e]),Pi(r)}}(t):(t instanceof IDBTransaction&&function hY(t){if(J_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});J_.set(t,e)}(t),uY(t,function cY(){return mN||(mN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,tw):t)}function Pi(t){if(t instanceof IDBRequest)return function dY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vN.set(n,t)}).catch(()=>{}),ew.set(e,t),e}(t);if(Z_.has(t))return Z_.get(t);const e=gY(t);return e!==t&&(Z_.set(t,e),ew.set(e,t)),e}const nw=t=>ew.get(t),yY=["get","getKey","getAll","getAllKeys","count"],vY=["put","add","delete","clear"],rw=new Map;function wN(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(rw.get(e))return rw.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=vY.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!yY.includes(r))return;const o=function(u){return(n=n||_(function*(c,...l){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[r](...l),s&&d.done]))[0]})).apply(this,arguments)};return rw.set(e,o),o}var EN,DN;!function fY(t){tw=t(tw)}(t=>({...t,get:(e,n,r)=>wN(e,n)||t.get(e,n,r),has:(e,n)=>!!wN(e,n)||t.has(e,n)}));class _Y{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function wY(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const iw="@firebase/app",Cs=new fa("@firebase/app"),bf="[DEFAULT]",qY={[iw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ss=new Map,Cf=new Map;function WY(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function en(t){const e=t.name;if(Cf.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;Cf.set(e,t);for(const n of Ss.values())WY(n,t);return!0}function Sf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Jr=new Ir("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class QY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const Cc="9.23.0";function bN(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:bf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Jr.create("bad-app-name",{appName:String(i)});if(n||(n=dN()),!n)throw Jr.create("no-options");const s=Ss.get(i);if(s){if(W_(n,s.options)&&W_(r,s.config))return s;throw Jr.create("duplicate-app",{appName:i})}const o=new iY(i);for(const u of Cf.values())o.addComponent(u);const a=new QY(n,r,o);return Ss.set(i,a),a}function CN(t=bf){const e=Ss.get(t);if(!e&&t===bf&&dN())return bN();if(!e)throw Jr.create("no-app",{appName:t});return e}function SN(){return Array.from(Ss.values())}function Qe(t,e,n){var r;let i=null!==(r=qY[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Cs.warn(a.join(" "))}en(new Vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const YY="firebase-heartbeat-database",XY=1,Sc="firebase-heartbeat-store";let sw=null;function AN(){return sw||(sw=function mY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Pi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Pi(o.result),u.oldVersion,u.newVersion,Pi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(YY,XY,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Sc)}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),sw}function xN(t,e){return(DN=DN||_(function*(n,r){try{const s=(yield AN()).transaction(Sc,"readwrite");yield s.objectStore(Sc).put(r,MN(n)),yield s.done}catch(i){if(i instanceof nr)Cs.warn(i.message);else{const s=Jr.create("idb-set",{originalErrorMessage:i?.message});Cs.warn(s.message)}}})).apply(this,arguments)}function MN(t){return`${t.name}!${t.options.appId}`}class tX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=RN();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=RN(),{heartbeatsToSend:r,unsentEntries:i}=function nX(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=wf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function RN(){return(new Date).toISOString().substring(0,10)}class rX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!Ts()&&bc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function JY(t){return(EN=EN||_(function*(e){try{return yield(yield AN()).transaction(Sc).objectStore(Sc).get(MN(e))}catch(n){if(n instanceof nr)Cs.warn(n.message);else{const r=Jr.create("idb-get",{originalErrorMessage:n?.message});Cs.warn(r.message)}}})).apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return xN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return xN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function NN(t){return wf(JSON.stringify({version:2,heartbeats:t})).length}!function iX(t){en(new Vt("platform-logger",e=>new _Y(e),"PRIVATE")),en(new Vt("heartbeat",e=>new tX(e),"PRIVATE")),Qe(iw,"0.9.13",t),Qe(iw,"0.9.13","esm2017"),Qe("fire-js","")}(""),Qe("firebase","9.23.0","app");const aX=(t,e)=>e.some(n=>t instanceof n);let kN,PN;const ON=new WeakMap,ow=new WeakMap,LN=new WeakMap,aw=new WeakMap,uw=new WeakMap;let cw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ow.get(t);if("objectStoreNames"===e)return t.objectStoreNames||LN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function pX(t){return"function"==typeof t?function fX(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cX(){return PN||(PN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(lw(this),e),Oi(ON.get(this))}:function(...e){return Oi(t.apply(lw(this),e))}:function(e,...n){const r=t.call(lw(this),e,...n);return LN.set(r,e.sort?e.sort():[e]),Oi(r)}}(t):(t instanceof IDBTransaction&&function dX(t){if(ow.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ow.set(t,e)}(t),aX(t,function uX(){return kN||(kN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,cw):t)}function Oi(t){if(t instanceof IDBRequest)return function lX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ON.set(n,t)}).catch(()=>{}),uw.set(e,t),e}(t);if(aw.has(t))return aw.get(t);const e=pX(t);return e!==t&&(aw.set(t,e),uw.set(e,t)),e}const lw=t=>uw.get(t),mX=["get","getKey","getAll","getAllKeys","count"],yX=["put","add","delete","clear"],dw=new Map;function FN(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(dw.get(e))return dw.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=yX.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!mX.includes(r))return;const o=function(u){return(n=n||_(function*(c,...l){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[r](...l),s&&d.done]))[0]})).apply(this,arguments)};return dw.set(e,o),o}var VN,UN,jN,BN,$N,HN,zN,GN,qN,WN,KN,QN,YN,XN,JN,ZN;!function hX(t){cw=t(cw)}(t=>({...t,get:(e,n,r)=>FN(e,n)||t.get(e,n,r),has:(e,n)=>!!FN(e,n)||t.has(e,n)}));const nk="@firebase/installations",hw="0.6.4",rk=1e4,ik=`w:${hw}`,sk="FIS_v2",vX="https://firebaseinstallations.googleapis.com/v1",_X=36e5,Zr=new Ir("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ok(t){return t instanceof nr&&t.code.includes("request-failed")}function fw({projectId:t}){return`${vX}/projects/${t}/installations`}function ak(t){return{token:t.token,requestStatus:2,expiresIn:DX(t.expiresIn),creationTime:Date.now()}}function pw(t,e){return(VN=VN||_(function*(n,r){const s=(yield r.json()).error;return Zr.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})})).apply(this,arguments)}function uk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gw(t){return(UN=UN||_(function*(e){const n=yield e();return n.status>=500&&n.status<600?e():n})).apply(this,arguments)}function DX(t){return Number(t.replace("s","000"))}function lk(t){return new Promise(e=>{setTimeout(e,t)})}const SX=/^[cdef][\w-]{21}$/,mw="";function AX(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function xX(t){return function CX(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return SX.test(n)?n:mw}catch{return mw}}function pa(t){return`${t.appName}!${t.appId}`}const ga=new Map;function dk(t,e){const n=pa(t);hk(n,e),function NX(t,e){const n=function fk(){return!As&&"BroadcastChannel"in self&&(As=new BroadcastChannel("[Firebase] FID Change"),As.onmessage=t=>{hk(t.data.key,t.data.fid)}),As}();n&&n.postMessage({key:t,fid:e}),function pk(){0===ga.size&&As&&(As.close(),As=null)}()}(n,e)}function hk(t,e){const n=ga.get(t);if(n)for(const r of n)r(e)}let As=null;const kX="firebase-installations-database",PX=1,xs="firebase-installations-store";let yw=null;function vw(){return yw||(yw=function gX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Oi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Oi(o.result),u.oldVersion,u.newVersion,Oi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(kX,PX,{upgrade:(t,e)=>{0===e&&t.createObjectStore(xs)}})),yw}function Af(t,e){return(BN=BN||_(function*(n,r){const i=pa(n),o=(yield vw()).transaction(xs,"readwrite"),a=o.objectStore(xs),u=yield a.get(i);return yield a.put(r,i),yield o.done,(!u||u.fid!==r.fid)&&dk(n,r.fid),r})).apply(this,arguments)}function _w(t){return($N=$N||_(function*(e){const n=pa(e),i=(yield vw()).transaction(xs,"readwrite");yield i.objectStore(xs).delete(n),yield i.done})).apply(this,arguments)}function Ac(t,e){return(HN=HN||_(function*(n,r){const i=pa(n),o=(yield vw()).transaction(xs,"readwrite"),a=o.objectStore(xs),u=yield a.get(i),c=r(u);return void 0===c?yield a.delete(i):yield a.put(c,i),yield o.done,c&&(!u||u.fid!==c.fid)&&dk(n,c.fid),c})).apply(this,arguments)}function ww(t){return(zN=zN||_(function*(e){let n;const r=yield Ac(e.appConfig,i=>{const s=function OX(t){return mk(t||{fid:AX(),registrationStatus:0})}(i),o=function LX(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Zr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function FX(t,e){return(GN=GN||_(function*(n,r){try{const i=yield function bX(t,e){return(jN=jN||_(function*({appConfig:n,heartbeatServiceProvider:r},{fid:i}){const s=fw(n),o=uk(n),a=r.getImmediate({optional:!0});if(a){const d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const c={method:"POST",headers:o,body:JSON.stringify({fid:i,authVersion:sk,appId:n.appId,sdkVersion:ik})},l=yield gw(()=>fetch(s,c));if(l.ok){const d=yield l.json();return{fid:d.fid||i,registrationStatus:2,refreshToken:d.refreshToken,authToken:ak(d.authToken)}}throw yield pw("Create Installation",l)})).apply(this,arguments)}(n,r);return Af(n.appConfig,i)}catch(i){throw ok(i)&&409===i.customData.serverCode?yield _w(n.appConfig):yield Af(n.appConfig,{fid:r.fid,registrationStatus:0}),i}})).apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:VX(t)}:{installationEntry:e}}(e,s);return n=o.registrationPromise,o.installationEntry});return r.fid===mw?{installationEntry:yield n}:{installationEntry:r,registrationPromise:n}})).apply(this,arguments)}function VX(t){return(qN=qN||_(function*(e){let n=yield gk(e.appConfig);for(;1===n.registrationStatus;)yield lk(100),n=yield gk(e.appConfig);if(0===n.registrationStatus){const{installationEntry:r,registrationPromise:i}=yield ww(e);return i||r}return n})).apply(this,arguments)}function gk(t){return Ac(t,e=>{if(!e)throw Zr.create("installation-not-found");return mk(e)})}function mk(t){return function UX(t){return 1===t.registrationStatus&&t.registrationTime+rk<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function jX(t,e){return(WN=WN||_(function*({appConfig:n,heartbeatServiceProvider:r},i){const s=function BX(t,{fid:e}){return`${fw(t)}/${e}/authTokens:generate`}(n,i),o=function ck(t,{refreshToken:e}){const n=uk(t);return n.append("Authorization",function TX(t){return`${sk} ${t}`}(e)),n}(n,i),a=r.getImmediate({optional:!0});if(a){const d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const c={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:ik,appId:n.appId}})},l=yield gw(()=>fetch(s,c));if(l.ok)return ak(yield l.json());throw yield pw("Generate Auth Token",l)})).apply(this,arguments)}function Iw(t){return(KN=KN||_(function*(e,n=!1){let r;const i=yield Ac(e.appConfig,o=>{if(!vk(o))throw Zr.create("not-registered");const a=o.authToken;if(!n&&function zX(t){return 2===t.requestStatus&&!function GX(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_X}(t)}(a))return o;if(1===a.requestStatus)return r=function $X(t,e){return(QN=QN||_(function*(n,r){let i=yield yk(n.appConfig);for(;1===i.authToken.requestStatus;)yield lk(100),i=yield yk(n.appConfig);const s=i.authToken;return 0===s.requestStatus?Iw(n,r):s})).apply(this,arguments)}(e,n),o;{if(!navigator.onLine)throw Zr.create("app-offline");const u=function qX(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return r=function HX(t,e){return(YN=YN||_(function*(n,r){try{const i=yield jX(n,r),s=Object.assign(Object.assign({},r),{authToken:i});return yield Af(n.appConfig,s),i}catch(i){if(!ok(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode){const s=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}});yield Af(n.appConfig,s)}else yield _w(n.appConfig);throw i}})).apply(this,arguments)}(e,u),u}});return r?yield r:i.authToken})).apply(this,arguments)}function yk(t){return Ac(t,e=>{if(!vk(e))throw Zr.create("not-registered");return function WX(t){return 1===t.requestStatus&&t.requestTime+rk<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function vk(t){return void 0!==t&&2===t.registrationStatus}function Ew(t){return Zr.create("missing-app-config-values",{valueName:t})}const _k="installations",tJ=t=>{const e=t.getProvider("app").getImmediate(),n=function ZX(t){if(!t||!t.options)throw Ew("App Configuration");if(!t.name)throw Ew("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ew(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Sf(e,"heartbeat"),_delete:()=>Promise.resolve()}},nJ=t=>{const n=Sf(t.getProvider("app").getImmediate(),_k).getImmediate();return{getId:()=>function KX(t){return(XN=XN||_(function*(e){const n=e,{installationEntry:r,registrationPromise:i}=yield ww(n);return i?i.catch(console.error):Iw(n).catch(console.error),r.fid})).apply(this,arguments)}(n),getToken:i=>function QX(t){return(JN=JN||_(function*(e,n=!1){const r=e;return yield function YX(t){return(ZN=ZN||_(function*(e){const{registrationPromise:n}=yield ww(e);n&&(yield n)})).apply(this,arguments)}(r),(yield Iw(r,n)).token})).apply(this,arguments)}(n,i)}};var Dk;(function rJ(){en(new Vt(_k,tJ,"PUBLIC")),en(new Vt("installations-internal",nJ,"PRIVATE"))})(),Qe(nk,hw),Qe(nk,hw,"esm2017");const Dw="@firebase/remote-config",mn=new Ir("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pJ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function gJ(t=navigator){return t.languages&&t.languages[0]||t.language}class mJ{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:gJ()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((y,v)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",v(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(y){let v="fetch-client-network";throw"AbortError"===y?.name&&(v="fetch-timeout"),mn.create(v,{originalErrorMessage:y?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let y;try{y=yield h.json()}catch(v){throw mn.create("fetch-client-parse",{originalErrorMessage:v?.message})}g=y.entries,m=y.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw mn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class _J{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function yJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function vJ(t){if(!(t instanceof nr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Y_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class EJ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Mf(t,e){const n=t.target.error||void 0;return mn.create(e,{originalErrorMessage:n&&n?.message})}const Ms="app_namespace_store";class CJ{constructor(e,n,r,i=function bJ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Mf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ms,{keyPath:"compositeKey"})}}catch(n){e(mn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ms],"readonly").objectStore(Ms),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Mf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(mn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Ms],"readwrite").objectStore(Ms),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Mf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(mn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ms],"readwrite").objectStore(Ms),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Mf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(mn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class SJ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function xJ(){return(Dk=Dk||_(function*(){if(!Ts())return!1;try{return yield bc()}catch{return!1}})).apply(this,arguments)}!function AJ(){en(new Vt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mn.create("registration-window");if(!Ts())throw mn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw mn.create("registration-project-id");if(!o)throw mn.create("registration-api-key");if(!a)throw mn.create("registration-app-id");const u=new CJ(a,r.name,n=n||"firebase"),c=new SJ(u),l=new fa(Dw);l.logLevel=le.ERROR;const d=new mJ(i,Cc,n,s,o,a),h=new _J(d,u),f=new pJ(h,u,c,l),p=new EJ(r,f,c,u,l);return function dJ(t){const e=xn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Qe(Dw,"0.4.4"),Qe(Dw,"0.4.4","esm2017")}();const MJ=(t,e)=>e.some(n=>t instanceof n);let Sk,Ak;const xk=new WeakMap,bw=new WeakMap,Mk=new WeakMap,Cw=new WeakMap,Sw=new WeakMap;let Aw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return bw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Mk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function FJ(t){return"function"==typeof t?function LJ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function NJ(){return Ak||(Ak=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(xw(this),e),ei(xk.get(this))}:function(...e){return ei(t.apply(xw(this),e))}:function(e,...n){const r=t.call(xw(this),e,...n);return Mk.set(r,e.sort?e.sort():[e]),ei(r)}}(t):(t instanceof IDBTransaction&&function PJ(t){if(bw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});bw.set(t,e)}(t),MJ(t,function RJ(){return Sk||(Sk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Aw):t)}function ei(t){if(t instanceof IDBRequest)return function kJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ei(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xk.set(n,t)}).catch(()=>{}),Sw.set(e,t),e}(t);if(Cw.has(t))return Cw.get(t);const e=FJ(t);return e!==t&&(Cw.set(t,e),Sw.set(e,t)),e}const xw=t=>Sw.get(t);function Rk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ei(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ei(o.result),u.oldVersion,u.newVersion,ei(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Mw(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ei(n).then(()=>{})}const VJ=["get","getKey","getAll","getAllKeys","count"],UJ=["put","add","delete","clear"],Rw=new Map;function Nk(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Rw.get(e))return Rw.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=UJ.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!VJ.includes(r))return;const o=function(u){return(n=n||_(function*(c,...l){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[r](...l),s&&d.done]))[0]})).apply(this,arguments)};return Rw.set(e,o),o}var kk,Pk,Ok,Lk,Fk,Vk,Uk,jk,Bk,$k,Hk,zk,Gk,qk,Wk,Kk,Qk,Yk,Xk,Jk;!function OJ(t){Aw=t(Aw)}(t=>({...t,get:(e,n,r)=>Nk(e,n)||t.get(e,n,r),has:(e,n)=>!!Nk(e,n)||t.has(e,n)}));const jJ="/firebase-messaging-sw.js",BJ="/firebase-cloud-messaging-push-scope",t1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$J="https://fcmregistrations.googleapis.com/v1",n1="google.c.a.c_id",HJ="google.c.a.c_l",zJ="google.c.a.ts";var Rf=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Rf||{});function ti(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function WJ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Nw="fcm_token_details_db",KJ=5,r1="fcm_token_object_Store",XJ="firebase-messaging-database",JJ=1,Rs="firebase-messaging-store";let kw=null;function Pw(){return kw||(kw=Rk(XJ,JJ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Rs)}})),kw}function i1(t){return(Pk=Pk||_(function*(e){const n=Lw(e),i=yield(yield Pw()).transaction(Rs).objectStore(Rs).get(n);if(i)return i;{const s=yield function QJ(t){return(kk=kk||_(function*(e){var n;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(Nw))return null;let r=null;return(yield Rk(Nw,KJ,{upgrade:function(o,a,u,c){return(n=n||_(function*(l,d,h,f){var p;if(d<2||!l.objectStoreNames.contains(r1))return;const g=f.objectStore(r1),m=yield g.index("fcmSenderId").get(e);if(yield g.clear(),m)if(2===d){const y=m;if(!y.auth||!y.p256dh||!y.endpoint)return;r={token:y.fcmToken,createTime:null!==(p=y.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:"string"==typeof y.vapidKey?y.vapidKey:ti(y.vapidKey)}}}else if(3===d){const y=m;r={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:ti(y.auth),p256dh:ti(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:ti(y.vapidKey)}}}else if(4===d){const y=m;r={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:ti(y.auth),p256dh:ti(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:ti(y.vapidKey)}}}})).apply(this,arguments)}})).close(),yield Mw(Nw),yield Mw("fcm_vapid_details_db"),yield Mw("undefined"),function YJ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(r)?r:null})).apply(this,arguments)}(e.appConfig.senderId);if(s)return yield Ow(e,s),s}})).apply(this,arguments)}function Ow(t,e){return(Ok=Ok||_(function*(n,r){const i=Lw(n),o=(yield Pw()).transaction(Rs,"readwrite");return yield o.objectStore(Rs).put(r,i),yield o.done,r})).apply(this,arguments)}function Lw({appConfig:t}){return t.appId}const St=new Ir("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tZ(t,e){return(Fk=Fk||_(function*(n,r){const i=yield Vw(n),s=o1(r),o={method:"POST",headers:i,body:JSON.stringify(s)};let a;try{a=yield(yield fetch(Fw(n.appConfig),o)).json()}catch(u){throw St.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(a.error)throw St.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw St.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function s1(t,e){return(Uk=Uk||_(function*(n,r){const s={method:"DELETE",headers:yield Vw(n)};try{const a=yield(yield fetch(`${Fw(n.appConfig)}/${r}`,s)).json();if(a.error)throw St.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(o){throw St.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}})).apply(this,arguments)}function Fw({projectId:t}){return`${$J}/projects/${t}/registrations`}function Vw(t){return(jk=jk||_(function*({appConfig:e,installations:n}){const r=yield n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})).apply(this,arguments)}function o1({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==t1&&(i.web.applicationPubKey=r),i}const rZ=6048e5;function iZ(t){return(Bk=Bk||_(function*(e){const n=yield function oZ(t,e){return(Gk=Gk||_(function*(n,r){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:WJ(r)})})).apply(this,arguments)}(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:n.endpoint,auth:ti(n.getKey("auth")),p256dh:ti(n.getKey("p256dh"))},i=yield i1(e.firebaseDependencies);if(i){if(function aZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(i.subscriptionOptions,r))return Date.now()>=i.createTime+rZ?function sZ(t,e){return(Hk=Hk||_(function*(n,r){try{const i=yield function nZ(t,e){return(Vk=Vk||_(function*(n,r){const i=yield Vw(n),s=o1(r.subscriptionOptions),o={method:"PATCH",headers:i,body:JSON.stringify(s)};let a;try{a=yield(yield fetch(`${Fw(n.appConfig)}/${r.token}`,o)).json()}catch(u){throw St.create("token-update-failed",{errorInfo:u?.toString()})}if(a.error)throw St.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw St.create("token-update-no-token");return a.token})).apply(this,arguments)}(n.firebaseDependencies,r),s=Object.assign(Object.assign({},r),{token:i,createTime:Date.now()});return yield Ow(n.firebaseDependencies,s),i}catch(i){throw yield function a1(t){return($k=$k||_(function*(e){const n=yield i1(e.firebaseDependencies);n&&(yield s1(e.firebaseDependencies,n.token),yield function ZJ(t){return(Lk=Lk||_(function*(e){const n=Lw(e),i=(yield Pw()).transaction(Rs,"readwrite");yield i.objectStore(Rs).delete(n),yield i.done})).apply(this,arguments)}(e.firebaseDependencies));const r=yield e.swRegistration.pushManager.getSubscription();return!r||r.unsubscribe()})).apply(this,arguments)}(n),i}})).apply(this,arguments)}(e,{token:i.token,createTime:Date.now(),subscriptionOptions:r}):i.token;try{yield s1(e.firebaseDependencies,i.token)}catch(s){console.warn(s)}return u1(e.firebaseDependencies,r)}return u1(e.firebaseDependencies,r)})).apply(this,arguments)}function u1(t,e){return(zk=zk||_(function*(n,r){const s={token:yield tZ(n,r),createTime:Date.now(),subscriptionOptions:r};return yield Ow(n,s),s.token})).apply(this,arguments)}function c1(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function uZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function cZ(t,e){e.data&&(t.data=e.data)}(e,t),function lZ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function l1(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Uw(t){return St.create("missing-app-config-values",{valueName:t})}l1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),l1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fZ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function hZ(t){if(!t||!t.options)throw Uw("App Configuration Object");if(!t.name)throw Uw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Uw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function h1(t,e){return(Qk=Qk||_(function*(n,r){if(!navigator)throw St.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw St.create("permission-blocked");return yield function gZ(t,e){return(Kk=Kk||_(function*(n,r){r?n.vapidKey=r:n.vapidKey||(n.vapidKey=t1)})).apply(this,arguments)}(n,r?.vapidKey),yield function pZ(t,e){return(Wk=Wk||_(function*(n,r){if(!r&&!n.swRegistration&&(yield function d1(t){return(qk=qk||_(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(jJ,{scope:BJ}),e.swRegistration.update().catch(()=>{})}catch(n){throw St.create("failed-service-worker-registration",{browserErrorMessage:n?.message})}})).apply(this,arguments)}(n)),r||!n.swRegistration){if(!(r instanceof ServiceWorkerRegistration))throw St.create("invalid-sw-registration");n.swRegistration=r}})).apply(this,arguments)}(n,r?.serviceWorkerRegistration),iZ(n)})).apply(this,arguments)}function vZ(t,e){return(Xk=Xk||_(function*(n,r){const i=r.data;if(!i.isFirebaseMessaging)return;n.onMessageHandler&&i.messageType===Rf.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(c1(i)):n.onMessageHandler.next(c1(i)));const s=i.data;(function dZ(t){return"object"==typeof t&&!!t&&n1 in t})(s)&&"1"===s["google.c.a.e"]&&(yield function mZ(t,e,n){return(Yk=Yk||_(function*(r,i,s){const o=function yZ(t){switch(t){case Rf.NOTIFICATION_CLICKED:return"notification_open";case Rf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(i);(yield r.firebaseDependencies.analyticsProvider.get()).logEvent(o,{message_id:s[n1],message_name:s[HJ],message_time:s[zJ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(n,i.messageType,s))})).apply(this,arguments)}const f1="@firebase/messaging",_Z=t=>{const e=new fZ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>vZ(e,n)),e},wZ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>h1(e,r)}};function g1(){return(Jk=Jk||_(function*(){try{yield bc()}catch{return!1}return typeof window<"u"&&Ts()&&q_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var m1,y1,v1,_1,w1,I1,S1,A1,x1;!function IZ(){en(new Vt("messaging",_Z,"PUBLIC")),en(new Vt("messaging-internal",wZ,"PRIVATE")),Qe(f1,"0.12.4"),Qe(f1,"0.12.4","esm2017")}();const Nf="analytics",TZ="firebase_id",bZ="origin",CZ=6e4,SZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jw="https://www.googletagmanager.com/gtag/js",pt=new fa("@firebase/analytics"),tn=new Ir("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xZ(t){if(!t.startsWith(jw)){const e=tn.create("invalid-gtag-resource",{gtagURL:t});return pt.warn(e.message),""}return t}function R1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}const VZ=30,N1=new class jZ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function BZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function HZ(t){return(_1=_1||_(function*(e,n=N1,r){const{appId:i,apiKey:s,measurementId:o}=e.options;if(!i)throw tn.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw tn.create("no-api-key")}const a=n.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new qZ;return setTimeout(_(function*(){u.abort()}),void 0!==r?r:CZ),k1({appId:i,apiKey:s,measurementId:o},a,u,n)})).apply(this,arguments)}function k1(t,e,n){return(w1=w1||_(function*(r,{throttleEndTimeMillis:i,backoffCount:s},o,a=N1){var u;const{appId:c,measurementId:l}=r;try{yield function zZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(o,i)}catch(d){if(l)return pt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:c,measurementId:l};throw d}try{const d=yield function $Z(t){return(v1=v1||_(function*(e){var n;const{appId:r,apiKey:i}=e,s={method:"GET",headers:BZ(i)},o=SZ.replace("{app-id}",r),a=yield fetch(o,s);if(200!==a.status&&304!==a.status){let u="";try{const c=yield a.json();null!==(n=c.error)&&void 0!==n&&n.message&&(u=c.error.message)}catch{}throw tn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()})).apply(this,arguments)}(r);return a.deleteThrottleMetadata(c),d}catch(d){const h=d;if(!function GZ(t){if(!(t instanceof nr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h)){if(a.deleteThrottleMetadata(c),l)return pt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:c,measurementId:l};throw d}const f=503===Number(null===(u=h?.customData)||void 0===u?void 0:u.httpStatus)?Y_(s,a.intervalMillis,VZ):Y_(s,a.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:s+1};return a.setThrottleMetadata(c,p),pt.debug(`Calling attemptFetch again in ${f} millis`),k1(r,p,o,a)}})).apply(this,arguments)}class qZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Bw,$w;function eee(t,e,n,r,i,s,o){return(A1=A1||_(function*(a,u,c,l,d,h,f){var p;const g=HZ(a);g.then(D=>{c[D.measurementId]=D.appId,a.options.measurementId&&D.measurementId!==a.options.measurementId&&pt.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>pt.error(D)),u.push(g);const m=function ZZ(){return(S1=S1||_(function*(){if(!Ts())return pt.warn(tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield bc()}catch(t){return pt.warn(tn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(D=>{if(D)return l.getId()}),[y,v]=yield Promise.all([g,m]);(function FZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jw)&&n.src.includes(t))return n;return null})(h)||function RZ(t,e){const n=function MZ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:xZ}),r=document.createElement("script"),i=`${jw}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(h,y.measurementId),$w&&(d("consent","default",$w),function P1(t){$w=t}(void 0)),d("js",new Date);const E=null!==(p=f?.config)&&void 0!==p?p:{};return E[bZ]="firebase",E.update=!0,null!=v&&(E[TZ]=v),d("config",y.measurementId,E),Bw&&(d("set",Bw),function O1(t){Bw=t}(void 0)),y.measurementId})).apply(this,arguments)}class tee{constructor(e){this.app=e}_delete(){return delete Er[this.app.options.appId],Promise.resolve()}}let Er={},L1=[];const F1={};let U1,Dr,kf="dataLayer",Hw=!1;function ree(t,e,n){!function nee(){const t=[];if(G_()&&t.push("This is a browser extension environment."),q_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=tn.create("invalid-analytics-context",{errorInfo:e});pt.warn(n.message)}}();const r=t.options.appId;if(!r)throw tn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw tn.create("no-api-key");pt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Er[r])throw tn.create("already-exists",{id:r});if(!Hw){!function NZ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(kf);const{wrappedGtag:s,gtagCore:o}=function LZ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function OZ(t,e,n,r){var i;return function s(o){return(i=i||_(function*(a,...u){try{if("event"===a){const[c,l]=u;yield function PZ(t,e,n,r,i){return(y1=y1||_(function*(s,o,a,u,c){try{let l=[];if(c&&c.send_to){let d=c.send_to;Array.isArray(d)||(d=[d]);const h=yield R1(a);for(const f of d){const p=h.find(m=>m.measurementId===f),g=p&&o[p.appId];if(!g){l=[];break}l.push(g)}}0===l.length&&(l=Object.values(o)),yield Promise.all(l),s("event",u,c||{})}catch(l){pt.error(l)}})).apply(this,arguments)}(t,e,n,c,l)}else if("config"===a){const[c,l]=u;yield function kZ(t,e,n,r,i,s){return(m1=m1||_(function*(o,a,u,c,l,d){const h=c[l];try{if(h)yield a[h];else{const p=(yield R1(u)).find(g=>g.measurementId===l);p&&(yield a[p.appId])}}catch(f){pt.error(f)}o("config",l,d)})).apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===a){const[c]=u;t("consent","update",c)}else if("get"===a){const[c,l,d]=u;t("get",c,l,d)}else if("set"===a){const[c]=u;t("set",c)}else t(a,...u)}catch(c){pt.error(c)}})).apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Er,L1,F1,kf,"gtag");Dr=s,U1=o,Hw=!0}return Er[r]=eee(t,L1,F1,e,U1,kf,n),new tee(t)}function see(){return(x1=x1||_(function*(){if(G_()||!q_()||!Ts())return!1;try{return yield bc()}catch{return!1}})).apply(this,arguments)}const j1="@firebase/analytics";!function aee(){en(new Vt(Nf,(e,{options:n})=>ree(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),en(new Vt("analytics-internal",function t(e){try{const n=e.getProvider(Nf).getImmediate();return{logEvent:(r,i,s)=>function oee(t,e,n,r){t=xn(t),function WZ(t,e,n,r,i){return(I1=I1||_(function*(s,o,a,u,c){if(c&&c.global)s("event",a,u);else{const l=yield o;s("event",a,Object.assign(Object.assign({},u),{send_to:l}))}})).apply(this,arguments)}(Dr,Er[t.app.options.appId],e,n,r).catch(i=>pt.error(i))}(n,r,i,s)}}catch(n){throw tn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Qe(j1,"0.10.0"),Qe(j1,"0.10.0","esm2017")}();class uee extends sn{constructor(e,n){super()}schedule(e,n=0){return this}}const Pf={setInterval(t,e,...n){const{delegate:r}=Pf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Pf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class $1 extends uee{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Pf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Pf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ho(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const H1={now:()=>(H1.delegate||Date).now(),delegate:void 0};class xc{constructor(e,n=xc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}xc.now=H1.now;class z1 extends xc{constructor(e,n=xc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const dee=new class lee extends z1{}(class cee extends $1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),hee=new z1($1);function At(t,e,n){const r=Ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?st((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ot(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):mi}const zw=new Qu("7.6.1"),Gw="__angularfire_symbol__analyticsIsSupportedValue",qw="__angularfire_symbol__analyticsIsSupported",Ww="__angularfire_symbol__remoteConfigIsSupportedValue",Kw="__angularfire_symbol__remoteConfigIsSupported",Qw="__angularfire_symbol__messagingIsSupportedValue",Yw="__angularfire_symbol__messagingIsSupported";globalThis[qw]||(globalThis[qw]=see().then(t=>globalThis[Gw]=t).catch(()=>globalThis[Gw]=!1)),globalThis[Yw]||(globalThis[Yw]=g1().then(t=>globalThis[Qw]=t).catch(()=>globalThis[Qw]=!1)),globalThis[Kw]||(globalThis[Kw]=xJ().then(t=>globalThis[Ww]=t).catch(()=>globalThis[Ww]=!1));const Zw=(t,e)=>{const n=e?[e]:SN(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ma(){}class G1{constructor(e,n=dee){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class fee{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ma,{},ma,ma)),n.pipe(At({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let q1=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new G1(Zone.current)),this.insideAngular=n.run(()=>new G1(Zone.current,hee)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(F(ye))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ns(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ks(t){return Ns().ngZone.run(()=>t())}function gee(t){return Ns(),function mee(t){return function(n){return(n=n.lift(new fee(t.ngZone))).pipe(yd(t.outsideAngular),md(t.insideAngular))}}(Ns())(t)}const yee=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ks(()=>t.apply(void 0,r))},ya=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ks(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ma,{},ma,ma)))),r[s]=yee(r[s],n));const i=function pee(t){return Ns().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Oe){const s=Ns();return i.pipe(yd(s.outsideAngular),md(s.insideAngular))}return ks(()=>i)}return i instanceof Oe?i.pipe(gee):i instanceof Promise?ks(()=>new Promise((s,o)=>i.then(a=>ks(()=>s(a)),a=>ks(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ks(()=>i)};class va{constructor(e){return e}}class W1{constructor(){return SN()}}const eI=new L("angularfire2._apps"),_ee={provide:va,useFactory:function vee(t){return t&&1===t.length?t[0]:new va(CN())},deps:[[new ln,eI]]},wee={provide:W1,deps:[[new ln,eI]]};function Iee(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new va(r)}}let Eee=(()=>{class t{constructor(n){Qe("angularfire",zw.full,"core"),Qe("angularfire",zw.full,"app"),Qe("angular",U0.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(F(Hr))},t.\u0275mod=lr({type:t}),t.\u0275inj=qn({providers:[_ee,wee]}),t})();function Dee(t,...e){return{ngModule:Eee,providers:[{provide:eI,useFactory:Iee(t),multi:!0,deps:[ye,hn,q1,...e]}]}}const Tee=ya(bN,!0);var K1,Q1,X1,Z1,eP,tP,nP,rP,iP,oP;const bee=function EO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},DO=new Ir("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Of=new fa("@firebase/auth");function Lf(t,...e){Of.logLevel<=le.ERROR&&Of.error(`Auth (${Cc}): ${t}`,...e)}function yn(t,...e){throw tI(t,...e)}function Tr(t,...e){return tI(t,...e)}function tI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DO.create(t,...e)}function A(t,e,...n){if(!t)throw tI(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lf(e),new Error(e)}function Li(t,e){t||br(e)}function bO(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Li(n>e,"Short delay should be less than long delay!"),this.isMobile=function BQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}()||function HQ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function See(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function nI(){return"http:"===bO()||"https:"===bO()}()||G_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class CO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Mee=new Rc(3e4,6e4);function Be(t,e,n,r){return(K1=K1||_(function*(i,s,o,a,u={}){return SO(i,u,_(function*(){let c={},l={};a&&("GET"===s?l=a:c={body:JSON.stringify(a)});const d=pN(Object.assign({key:i.config.apiKey},l)).slice(1),h=yield i._getAdditionalHeaders();return h["Content-Type"]="application/json",i.languageCode&&(h["X-Firebase-Locale"]=i.languageCode),CO.fetch()(AO(i,i.config.apiHost,o,d),Object.assign({method:s,headers:h,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function SO(t,e,n){return(Q1=Q1||_(function*(r,i,s){r._canInitEmulator=!1;const o=Object.assign(Object.assign({},xee),i);try{const a=new Ree(r),u=yield Promise.race([s(),a.promise]);a.clearNetworkTimeout();const c=yield u.json();if("needConfirmation"in c)throw Nc(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const l=u.ok?c.errorMessage:c.error.message,[d,h]=l.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===d)throw Nc(r,"credential-already-in-use",c);if("EMAIL_EXISTS"===d)throw Nc(r,"email-already-in-use",c);if("USER_DISABLED"===d)throw Nc(r,"user-disabled",c);const f=o[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw function TO(t,e,n){const r=Object.assign(Object.assign({},bee()),{[e]:n});return new Ir("auth","Firebase",r).create(e,{appName:t.name})}(r,f,h);yn(r,f)}}catch(a){if(a instanceof nr)throw a;yn(r,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function AO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function rI(t,e){Li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Ree{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),Mee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tr(t,e,r);return i.customData._tokenResponse=n,i}function kc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function iI(t){return 1e3*Number(t)}function Ff(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const i=If(n);return i?JSON.parse(i):(Lf("Failed to decode base64 JWT payload"),null)}catch(i){return Lf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ri(t,e){return(tP=tP||_(function*(n,r,i=!1){if(i)return r;try{return yield r}catch(s){throw s instanceof nr&&function Fee({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(s)&&n.auth.currentUser===n&&(yield n.auth.signOut()),s}})).apply(this,arguments)}class Vee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class xO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pc(t){return(nP=nP||_(function*(e){var n;const r=e.auth,i=yield e.getIdToken(),s=yield ri(e,function Pee(t,e){return(Z1=Z1||_(function*(n,r){return Be(n,"POST","/v1/accounts:lookup",r)})).apply(this,arguments)}(r,{idToken:i}));A(s?.users.length,r,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const a=null!==(n=o.providerUserInfo)&&void 0!==n&&n.length?function Bee(t){return t.map(e=>{var{providerId:n}=e,r=sm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],u=function jee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(e.providerData,a),d=!!e.isAnonymous&&!(e.email&&o.passwordHash||u?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xO(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,h)})).apply(this,arguments)}class Oc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Lee(t){const e=Ff(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function $ee(t,e){return(iP=iP||_(function*(n,r){const i=yield SO(n,{},_(function*(){const s=pN({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=AO(n,o,"/v1/token",`key=${a}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",CO.fetch()(u,{method:"POST",headers:c,body:s})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})).apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Oc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oc,this.toJSON())}_performRefresh(){return br("not implemented")}}function Fi(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ps{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=sm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xO(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield ri(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Oee(t){return(eP=eP||_(function*(e,n=!1){const r=xn(e),i=yield r.getIdToken(n),s=Ff(i);A(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=o?.sign_in_provider;return{claims:s,token:i,authTime:kc(iI(s.auth_time)),issuedAtTime:kc(iI(s.iat)),expirationTime:kc(iI(s.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}(this,e)}reload(){return function Uee(t){return(rP=rP||_(function*(e){const n=xn(e);yield Pc(n),yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)})).apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Pc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield ri(e,function Nee(t,e){return(X1=X1||_(function*(n,r){return Be(n,"POST","/v1/accounts:delete",r)})).apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,v=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:D,isAnonymous:N,providerData:W,stsTokenManager:he}=n;A(E&&he,e,"internal-error");const et=Oc.fromJSON(this.name,he);A("string"==typeof E,e,"internal-error"),Fi(d,e.name),Fi(h,e.name),A("boolean"==typeof D,e,"internal-error"),A("boolean"==typeof N,e,"internal-error"),Fi(f,e.name),Fi(p,e.name),Fi(g,e.name),Fi(m,e.name),Fi(y,e.name),Fi(v,e.name);const It=new Ps({uid:E,auth:e,email:h,emailVerified:D,displayName:d,isAnonymous:N,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:et,createdAt:y,lastLoginAt:v});return W&&Array.isArray(W)&&(It.providerData=W.map(dd=>Object.assign({},dd))),m&&(It._redirectEventId=m),It}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new Oc;i.updateFromServerResponse(n);const s=new Ps({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Pc(s),s})()}}const MO=new Map;function ii(t){Li(t instanceof Function,"Expected a class definition");let e=MO.get(t);return e?(Li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MO.set(t,e),e)}const RO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Vf(t,e,n){return`firebase:${t}:${e}:${n}`}class wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ps._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){var i,s;if(!n.length)return new wa(ii(RO),e,r);const o=(yield Promise.all(n.map(function(d){return(i=i||_(function*(h){if(yield h._isAvailable())return h})).apply(this,arguments)}))).filter(d=>d);let a=o[0]||ii(RO);const u=Vf(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const h=yield d._get(u);if(h){const f=Ps._fromJSON(e,h);d!==a&&(c=f),a=d;break}}catch{}const l=o.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&l.length?(a=l[0],c&&(yield a._set(u,c.toJSON())),yield Promise.all(n.map(function(d){return(s=s||_(function*(h){if(h!==a)try{yield h._remove(u)}catch{}})).apply(this,arguments)})),new wa(a,e,r)):new wa(a,e,r)})()}}function NO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function OO(t=An()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function kO(t=An()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function FO(t=An()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function VO(t=An()){return/webos/i.test(t)}(e))return"Webos";if(function sI(t=An()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function PO(t=An()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function LO(t=An()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function UO(t,e=[]){let n;switch(t){case"Browser":n=NO(An());break;case"Worker":n=`${NO(An())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cc}/${r}`}function jO(t,e){return(oP=oP||_(function*(n,r){return Be(n,"GET","/v2/recaptchaConfig",function Fe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(n,r))})).apply(this,arguments)}function $O(t){return void 0!==t&&void 0!==t.enterprise}class HO{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class GO{constructor(e){this.type="recaptcha-enterprise",this.auth=gt(e)}verify(e="verify",n=!1){var r=this;return _(function*(){var i;function o(a,u,c){const l=window.grecaptcha;$O(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function s(a){return(i=i||_(function*(u){var c;if(!n){if(null==u.tenantId&&null!=u._agentRecaptchaConfig)return u._agentRecaptchaConfig.siteKey;if(null!=u.tenantId&&void 0!==u._tenantRecaptchaConfigs[u.tenantId])return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(function(l,d){return(c=c||_(function*(h,f){jO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(void 0!==p.recaptchaKey){const g=new HO(p);return null==u.tenantId?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}f(new Error("recaptcha Enterprise site key undefined"))}).catch(p=>{f(p)})})).apply(this,arguments)})})).apply(this,arguments)})(r.auth).then(c=>{if(!n&&$O(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function oI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Tr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function qee(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Yee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return _(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Xee{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qO(this),this.idTokenSubscription=new qO(this),this.beforeStateQueue=new Yee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield wa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield Pc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Aee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?xn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return _(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(ii(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const n=yield jO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new HO(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new GO(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ir("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&ii(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield wa.create(n,[ii(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return _(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Cee(t,...e){Of.logLevel<=le.WARN&&Of.warn(`Auth (${Cc}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function gt(t){return xn(t)}class qO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function WQ(t,e){const n=new KQ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function zO(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Rc(3e4,6e4),new Rc(2e3,1e4),new Rc(3e4,6e4),new Rc(5e3,15e3),encodeURIComponent("fac");var CL,SL,RL,NL,kL,IL="@firebase/auth";class Hne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Ef(),function Gne(t){en(new Vt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UO(t)},c=new Xee(r,i,s,u);return function Zee(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),en(new Vt("auth-internal",e=>{const n=gt(e.getProvider("auth").getImmediate());return new Hne(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(IL,"0.23.2",function zne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Qe(IL,"0.23.2","esm2017")}("Browser");class bL{constructor(){return Zw("auth")}}const kI=new Map,LL={activated:!1,tokenObservers:[]},Jne={initialized:!1,enabled:!1};function $e(t){return kI.get(t)||Object.assign({},LL)}function Xf(){return Jne}const PI="https://content-firebaseappcheck.googleapis.com/v1",nre="exchangeDebugToken",FL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ire{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new Df,yield function sre(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Df,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const xt=new Ir("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function OI(t){if(!$e(t).activated)throw xt.create("use-before-activation",{appName:t.name})}function ep(t,e){return(CL=CL||_(function*({url:n,body:r},i){const s={"Content-Type":"application/json"},o=i.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(r),headers:s};let u,c;try{u=yield fetch(n,a)}catch(f){throw xt.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==u.status)throw xt.create("fetch-status-error",{httpStatus:u.status});try{c=yield u.json()}catch(f){throw xt.create("fetch-parse-error",{originalErrorMessage:f?.message})}const l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw xt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(l[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function VL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${PI}/projects/${n}/apps/${r}:${nre}?key=${i}`,body:{debug_token:e}}}const cre="firebase-app-check-database",lre=1,jc="firebase-app-check-store";let tp=null;function BL(t,e){return(SL=SL||_(function*(n,r){const s=(yield function jL(){return tp||(tp=new Promise((t,e)=>{try{const n=indexedDB.open(cre,lre);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(xt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(jc,{keyPath:"compositeKey"})}}catch(n){e(xt.create("storage-open",{originalErrorMessage:n?.message}))}}),tp)}()).transaction(jc,"readwrite"),a=s.objectStore(jc).put({compositeKey:n,value:r});return new Promise((u,c)=>{a.onsuccess=l=>{u()},s.onerror=l=>{var d;c(xt.create("storage-set",{originalErrorMessage:null===(d=l.target.error)||void 0===d?void 0:d.message}))}})})).apply(this,arguments)}const Bc=new fa("@firebase/app-check");function FI(t,e){return Ts()?function hre(t,e){return BL(function HL(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Bc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function VI(){return Xf().enabled}function UI(){return(RL=RL||_(function*(){const t=Xf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vre={error:"UNKNOWN_ERROR"};function _re(t){return z_.encodeString(JSON.stringify(t),!1)}function np(t){return(NL=NL||_(function*(e,n=!1){const r=e.app;OI(r);const i=$e(r);let o,s=i.token;if(s&&!Ea(s)&&(i.token=void 0,s=void 0),!s){const c=yield i.cachedTokenPromise;c&&(Ea(c)?s=c:yield FI(r,void 0))}if(!n&&s&&Ea(s))return{token:s.token};let u,a=!1;if(VI()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ep(VL(r,yield UI()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const c=yield i.exchangeTokenPromise;return yield FI(r,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield $e(r).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Bc.warn(c.message):Bc.error(c),o=c}return s?o?u=Ea(s)?{token:s.token,internalError:o}:WL(o):(u={token:s.token},i.token=s,yield FI(r,s)):u=WL(o),a&&function qL(t,e){const n=$e(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,u),u})).apply(this,arguments)}function BI(t,e){const n=$e(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function GL(t){const{app:e}=t,n=$e(e);let r=n.tokenRefresher;r||(r=function wre(t){const{app:e}=t;return new ire(_(function*(){let r;if(r=$e(e).token?yield np(t,!0):yield np(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=$e(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},FL.RETRIAL_MIN_WAIT,FL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ea(t){return t.expireTimeMillis-Date.now()>0}function WL(t){return{token:_re(vre),error:t}}class Ire{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=$e(this.app);for(const n of e)BI(this.app,n.next);return Promise.resolve()}}const tF="app-check-internal";!function Ore(){en(new Vt("app-check",t=>function Ere(t,e){return new Ire(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(tF).initialize()})),en(new Vt(tF,t=>function Dre(t){return{getToken:e=>np(t,e),getLimitedUseToken:()=>function zL(t){return(kL=kL||_(function*(e){const n=e.app;OI(n);const{provider:r}=$e(n);if(VI()){const i=yield UI(),{token:s}=yield ep(VL(n,i),e.heartbeatServiceProvider);return{token:s}}{const{token:i}=yield r.getToken();return{token:i}}})).apply(this,arguments)}(t),addTokenListener:e=>function jI(t,e,n,r){const{app:i}=t,s=$e(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ea(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),GL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>GL(t))}(t,"INTERNAL",e),removeTokenListener:e=>BI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Qe("@firebase/app-check","0.8.0")}();class rF{constructor(){return Zw("app-check")}}typeof window<"u"&&window;var R,jre=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rr={},zI=zI||{},Y=jre||self;function ip(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function $c(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var GI="closure_uid_"+(1e9*Math.random()>>>0),$re=0;function Hre(t,e,n){return t.call.apply(t.bind,arguments)}function zre(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ut(t,e,n){return(Ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hre:zre).apply(null,arguments)}function sp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ui(){this.s=this.s,this.o=this.o}Ui.prototype.s=!1,Ui.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Bre(t){Object.prototype.hasOwnProperty.call(t,GI)&&t[GI]||(t[GI]=++$re)}(this)},Ui.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iF=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function qI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sF(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ip(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var qre=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",()=>{},e),Y.removeEventListener("test",()=>{},e)}catch{}return t}();function Hc(t){return/^[\s\xa0]*$/.test(t)}function op(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function Cr(t){return-1!=op().indexOf(t)}function WI(t){return WI[" "](t),t}WI[" "]=function(){};var QI,Kre=Cr("Opera"),Da=Cr("Trident")||Cr("MSIE"),oF=Cr("Edge"),KI=oF||Da,aF=Cr("Gecko")&&!(-1!=op().toLowerCase().indexOf("webkit")&&!Cr("Edge"))&&!(Cr("Trident")||Cr("MSIE"))&&!Cr("Edge"),Qre=-1!=op().toLowerCase().indexOf("webkit")&&!Cr("Edge");function uF(){var t=Y.document;return t?t.documentMode:void 0}e:{var YI="",XI=function(){var t=op();return aF?/rv:([^\);]+)(\)|;)/.exec(t):oF?/Edge\/([\d\.]+)/.exec(t):Da?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Qre?/WebKit\/(\S+)/.exec(t):Kre?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(XI&&(YI=XI?XI[1]:""),Da){var JI=uF();if(null!=JI&&JI>parseFloat(YI)){QI=String(JI);break e}}QI=YI}var Yre=Y.document&&Da&&(uF()||parseInt(QI,10))||void 0;function zc(t,e){if(jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(aF){e:{try{WI(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xre[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zc.$.h.call(this)}}mt(zc,jt);var Xre={2:"touch",3:"pen",4:"mouse"};zc.prototype.h=function(){zc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Gc="closure_listenable_"+(1e6*Math.random()|0),Jre=0;function Zre(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Jre,this.fa=this.ia=!1}function ap(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function eE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lF(t){const e={};for(const n in t)e[n]=t[n];return e}const dF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hF(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<dF.length;s++)n=dF[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function up(t){this.src=t,this.g={},this.h=0}function tE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=iF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ap(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function nE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}up.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=nE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Zre(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var rE="closure_lm_"+(1e6*Math.random()|0),iE={};function fF(t,e,n,r,i){if(r&&r.once)return gF(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fF(t,e[s],n,r,i);return null}return n=uE(n),t&&t[Gc]?t.O(e,n,$c(r)?!!r.capture:!!r,i):pF(t,e,n,!1,r,i)}function pF(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=$c(i)?!!i.capture:!!i,a=oE(t);if(a||(t[rE]=a=new up(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function tie(){const e=nie;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qre||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yF(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gF(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gF(t,e[s],n,r,i);return null}return n=uE(n),t&&t[Gc]?t.P(e,n,$c(r)?!!r.capture:!!r,i):pF(t,e,n,!0,r,i)}function mF(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)mF(t,e[s],n,r,i);else r=$c(r)?!!r.capture:!!r,n=uE(n),t&&t[Gc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=nE(s=t.g[e],n,r,i))&&(ap(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=oE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=nE(e,n,r,i)),(n=-1<t?e[t]:null)&&sE(n))}function sE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Gc])tE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yF(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=oE(e))?(tE(n,t),0==n.h&&(n.src=null,e[rE]=null)):ap(t)}}}function yF(t){return t in iE?iE[t]:iE[t]="on"+t}function nie(t,e){if(t.fa)t=!0;else{e=new zc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&sE(t),t=n.call(r,e)}return t}function oE(t){return(t=t[rE])instanceof up?t:null}var aE="__closure_events_fn_"+(1e9*Math.random()>>>0);function uE(t){return"function"==typeof t?t:(t[aE]||(t[aE]=function(e){return t.handleEvent(e)}),t[aE])}function yt(){Ui.call(this),this.i=new up(this),this.S=this,this.J=null}function Mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new jt(e,t);else if(e instanceof jt)e.target=e.target||t;else{var i=e;hF(e=new jt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=cp(o,r,!0,e)&&i}if(i=cp(o=e.g=t,r,!0,e)&&i,i=cp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=cp(o=e.g=n[s],r,!1,e)&&i}function cp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&tE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}mt(yt,Ui),yt.prototype[Gc]=!0,yt.prototype.removeEventListener=function(t,e,n,r){mF(this,t,e,n,r)},yt.prototype.N=function(){if(yt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ap(n[r]);delete t.g[e],t.h--}}this.J=null},yt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},yt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var cE=Y.JSON.stringify;function iie(){var t=lE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var vF=new class rie{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new oie,t=>t.reset());class oie{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function aie(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function uie(t){Y.setTimeout(()=>{throw t},0)}let qc,Wc=!1,lE=new class sie{constructor(){this.h=this.g=null}add(e,n){const r=vF.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},_F=()=>{const t=Y.Promise.resolve(void 0);qc=()=>{t.then(cie)}};var cie=()=>{for(var t;t=iie();){try{t.h.call(t.g)}catch(n){uie(n)}var e=vF;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wc=!1};function lp(t,e){yt.call(this),this.h=t||1,this.g=e||Y,this.j=Ut(this.qb,this),this.l=Date.now()}function dE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function hE(t,e,n){if("function"==typeof t)n&&(t=Ut(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ut(t.handleEvent,t)}return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function wF(t){t.g=hE(()=>{t.g=null,t.i&&(t.i=!1,wF(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}mt(lp,yt),(R=lp.prototype).ga=!1,R.T=null,R.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mt(this,"tick"),this.ga&&(dE(this),this.start()))}},R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.N=function(){lp.$.N.call(this),dE(this),delete this.g};class lie extends Ui{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wF(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kc(t){Ui.call(this),this.h=t,this.g={}}mt(Kc,Ui);var IF=[];function EF(t,e,n,r){Array.isArray(n)||(n&&(IF[0]=n.toString()),n=IF);for(var i=0;i<n.length;i++){var s=fF(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function DF(t){eE(t.g,function(e,n){this.g.hasOwnProperty(n)&&sE(e)},t),t.g={}}function dp(){this.g=!0}function Ta(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pie(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return cE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Kc.prototype.N=function(){Kc.$.N.call(this),DF(this)},Kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dp.prototype.Ea=function(){this.g=!1},dp.prototype.info=function(){};var Vs={},TF=null;function hp(){return TF=TF||new yt}function bF(t){jt.call(this,Vs.Ta,t)}function Qc(t){const e=hp();Mt(e,new bF(e))}function CF(t,e){jt.call(this,Vs.STAT_EVENT,t),this.stat=e}function nn(t){const e=hp();Mt(e,new CF(e,t))}function SF(t,e){jt.call(this,Vs.Ua,t),this.size=e}function Yc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}Vs.Ta="serverreachability",mt(bF,jt),Vs.STAT_EVENT="statevent",mt(CF,jt),Vs.Ua="timingevent",mt(SF,jt);var fp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fE(){}function MF(){}fE.prototype.h=null;var mE,Xc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pE(){jt.call(this,"d")}function gE(){jt.call(this,"c")}function pp(){}function Jc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Kc(this),this.P=gie,this.V=new lp(t=KI?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new RF}function RF(){this.i=null,this.g="",this.h=!1}mt(pE,jt),mt(gE,jt),mt(pp,fE),pp.prototype.g=function(){return new XMLHttpRequest},pp.prototype.i=function(){return{}},mE=new pp;var gie=45e3,yE={},gp={};function vE(t,e,n){t.L=1,t.v=_p(oi(e)),t.s=n,t.S=!0,NF(t,null)}function NF(t,e){t.G=Date.now(),Zc(t),t.A=oi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),$F(n.i,"t",r),t.C=0,n=t.l.J,t.h=new RF,t.g=h2(t.l,n?e:null,!t.s),0<t.O&&(t.M=new lie(Ut(t.Pa,t,t.g),t.O)),EF(t.U,t.g,"readystatechange",t.nb),e=t.I?lF(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Qc(),function die(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function kF(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function PF(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=mie(t,n),i==gp){4==e&&(t.o=4,nn(14),r=!1),Ta(t.j,t.m,null,"[Incomplete Response]");break}if(i==yE){t.o=4,nn(15),Ta(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ta(t.j,t.m,i,null),_E(t,i)}kF(t)&&i!=gp&&i!=yE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,nn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),CE(e),e.M=!0,nn(11))):(Ta(t.j,t.m,n,"[Invalid Chunked Response]"),Us(t),el(t))}function mie(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?gp:(n=Number(e.substring(n,r)),isNaN(n)?yE:(r+=1)+n>e.length?gp:(e=e.slice(r,r+n),t.C=r+n,e))}function Zc(t){t.Y=Date.now()+t.P,OF(t,t.P)}function OF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Yc(Ut(t.lb,t),e)}function mp(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}function el(t){0==t.l.H||t.J||u2(t.l,t)}function Us(t){mp(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,dE(t.V),DF(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function _E(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||wE(n.i,t)))if(!t.K&&wE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;bp(n),Dp(n)}bE(n),nn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Yc(Ut(n.ib,n),6e3));if(1>=GF(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Bs(n,11)}else if((t.K||n.g==t)&&bp(n),!Hc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(IE(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ae(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=d2(r,r.J?r.pa:null,r.Y),o.K){qF(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(mp(a),Zc(a)),r.g=o}else o2(r);0<n.j.length&&Tp(n)}else"stop"!=c[0]&&"close"!=c[0]||Bs(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Bs(n,7):TE(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Qc()}catch{}}function LF(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ip(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function vie(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ip(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function yie(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(ip(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(R=Jc.prototype).setTimeout=function(t){this.P=t},R.nb=function(t){t=t.target;const e=this.M;e&&3==Sr(t)?e.l():this.Pa(t)},R.Pa=function(t){try{if(t==this.g)e:{const l=Sr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||KI||this.g&&(this.h.h||this.g.ja()||e2(this.g)))){this.J||4!=l||7==e||Qc(),mp(this);var n=this.g.da();this.ca=n;t:if(kF(this)){var r=e2(this.g);t="";var i=r.length,s=4==Sr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Us(this),el(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function hie(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hc(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,nn(12),Us(this),el(this);break e}Ta(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_E(this,n)}this.S?(PF(this,l,o),KI&&this.i&&3==l&&(EF(this.U,this.V,"tick",this.mb),this.V.start())):(Ta(this.j,this.m,o,null),_E(this,o)),4==l&&Us(this),this.i&&!this.J&&(4==l?u2(this.l,this):(this.i=!1,Zc(this)))}else(function Lie(t){const e={};t=(t.g&&2<=Sr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Hc(t[r]))continue;var n=aie(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function eie(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,nn(12)):(this.o=0,nn(13)),Us(this),el(this)}}}catch{}},R.mb=function(){if(this.g){var t=Sr(this.g),e=this.g.ja();this.C<e.length&&(mp(this),PF(this,t,e),this.i&&4!=t&&Zc(this))}},R.cancel=function(){this.J=!0,Us(this)},R.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function fie(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Qc(),nn(17)),Us(this),this.o=2,el(this)):OF(this,this.Y-t)};var FF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function js(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof js){this.h=t.h,yp(this,t.j),this.s=t.s,this.g=t.g,vp(this,t.m),this.l=t.l;var e=t.i,n=new rl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),VF(this,n),this.o=t.o}else t&&(e=String(t).match(FF))?(this.h=!1,yp(this,e[1]||"",!0),this.s=tl(e[2]||""),this.g=tl(e[3]||"",!0),vp(this,e[4]),this.l=tl(e[5]||"",!0),VF(this,e[6]||"",!0),this.o=tl(e[7]||"")):(this.h=!1,this.i=new rl(null,this.h))}function oi(t){return new js(t)}function yp(t,e,n){t.j=n?tl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function vp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function VF(t,e,n){e instanceof rl?(t.i=e,function bie(t,e){e&&!t.j&&(ji(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(jF(this,r),$F(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=nl(e,Die)),t.i=new rl(e,t.h))}function Ae(t,e,n){t.i.set(e,n)}function _p(t){return Ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function tl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,wie),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function wie(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}js.prototype.toString=function(){var t=[],e=this.j;e&&t.push(nl(e,UF,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(nl(e,UF,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(nl(n,"/"==n.charAt(0)?Eie:Iie,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",nl(n,Tie)),t.join("")};var UF=/[#\/\?@]/g,Iie=/[#\?:]/g,Eie=/[#\?]/g,Die=/[#\?@]/g,Tie=/#/g;function rl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ji(t){t.g||(t.g=new Map,t.h=0,t.i&&function _ie(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function jF(t,e){ji(t),e=ba(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function BF(t,e){return ji(t),e=ba(t,e),t.g.has(e)}function $F(t,e,n){jF(t,e),0<n.length&&(t.i=null,t.g.set(ba(t,e),qI(n)),t.h+=n.length)}function ba(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function HF(t){this.l=t||Sie,t=Y.PerformanceNavigationTiming?0<(t=Y.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=rl.prototype).add=function(t,e){ji(this),this.i=null,t=ba(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},R.forEach=function(t,e){ji(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},R.ta=function(){ji(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},R.Z=function(t){ji(this);let e=[];if("string"==typeof t)BF(this,t)&&(e=e.concat(this.g.get(ba(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},R.set=function(t,e){return ji(this),this.i=null,BF(this,t=ba(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},R.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Sie=10;function zF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function GF(t){return t.h?1:t.g?t.g.size:0}function wE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function IE(t,e){t.g?t.g.add(e):t.h=e}function qF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function WF(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return qI(t.i)}HF.prototype.cancel=function(){if(this.i=WF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Aie=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function xie(){this.g=new Aie}function Mie(t,e,n){const r=n||"";try{LF(t,function(i,s){let o=i;$c(i)&&(o=cE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function il(t){this.l=t.fc||null,this.j=t.ob||!1}function Ip(t,e){yt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=EE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mt(il,fE),il.prototype.g=function(){return new Ip(this.l,this.j)},il.prototype.i=function(t){return function(){return t}}({}),mt(Ip,yt);var EE=0;function KF(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function sl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ol(t)}function ol(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(R=Ip.prototype).open=function(t,e){if(this.readyState!=EE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ol(this)},R.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sl(this)),this.readyState=EE},R.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ol(this)),this.g&&(this.readyState=3,ol(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KF(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},R.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sl(this):ol(this),3==this.readyState&&KF(this)}},R.Za=function(t){this.g&&(this.response=this.responseText=t,sl(this))},R.Ya=function(t){this.g&&(this.response=t,sl(this))},R.ka=function(){this.g&&sl(this)},R.setRequestHeader=function(t,e){this.v.append(t,e)},R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ip.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Nie=Y.JSON.parse;function He(t){yt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=QF,this.L=this.M=!1}mt(He,yt);var QF="",kie=/^https?$/i,Pie=["POST","PUT"];function YF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,XF(t),Ep(t)}function XF(t){t.F||(t.F=!0,Mt(t,"complete"),Mt(t,"error"))}function JF(t){if(t.h&&typeof zI<"u"&&(!t.C[1]||4!=Sr(t)||2!=t.da()))if(t.v&&4==Sr(t))hE(t.La,0,t);else if(Mt(t,"readystatechange"),4==Sr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(FF)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!kie.test(i?i.toLowerCase():"")}n=r}if(n)Mt(t,"complete"),Mt(t,"success");else{t.m=6;try{var s=2<Sr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",XF(t)}}finally{Ep(t)}}}function Ep(t,e){if(t.g){ZF(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function ZF(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}function Sr(t){return t.g?t.g.readyState:0}function e2(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case QF:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function t2(t){let e="";return eE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function DE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=t2(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ae(t,e,n))}function al(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function n2(t){this.Ga=0,this.j=[],this.l=new dp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=al("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=al("baseRetryDelayMs",5e3,t),this.hb=al("retryDelaySeedMs",1e4,t),this.eb=al("forwardChannelMaxRetries",2,t),this.xa=al("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new HF(t&&t.concurrentRequestLimit),this.Ja=new xie,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function TE(t){if(r2(t),3==t.H){var e=t.W++,n=oi(t.I);if(Ae(n,"SID",t.K),Ae(n,"RID",e),Ae(n,"TYPE","terminate"),ul(t,n),(e=new Jc(t,t.l,e)).L=2,e.v=_p(oi(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Y.Image&&((new Image).src=e.v,n=!0),n||(e.g=h2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Zc(e)}l2(t)}function Dp(t){t.g&&(CE(t),t.g.cancel(),t.g=null)}function r2(t){Dp(t),t.u&&(Y.clearTimeout(t.u),t.u=null),bp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Y.clearTimeout(t.m),t.m=null)}function Tp(t){if(!zF(t.i)&&!t.m){t.m=!0;var e=t.Na;qc||_F(),Wc||(qc(),Wc=!0),lE.add(e,t),t.C=0}}function i2(t,e){var n;n=e?e.m:t.W++;const r=oi(t.I);Ae(r,"SID",t.K),Ae(r,"RID",n),Ae(r,"AID",t.V),ul(t,r),t.o&&t.s&&DE(r,t.o,t.s),n=new Jc(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=s2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),IE(t.i,n),vE(n,r,e)}function ul(t,e){t.na&&eE(t.na,function(n,r){Ae(e,r,n)}),t.h&&LF({},function(n,r){Ae(e,r,n)})}function s2(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ut(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Mie(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function o2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;qc||_F(),Wc||(qc(),Wc=!0),lE.add(e,t),t.A=0}}function bE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Yc(Ut(t.Ma,t),c2(t,t.A)),t.A++,0))}function CE(t){null!=t.B&&(Y.clearTimeout(t.B),t.B=null)}function a2(t){t.g=new Jc(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=oi(t.wa);Ae(e,"RID","rpc"),Ae(e,"SID",t.K),Ae(e,"AID",t.V),Ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ae(e,"TO",t.qa),Ae(e,"TYPE","xmlhttp"),ul(t,e),t.o&&t.s&&DE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=_p(oi(e)),n.s=null,n.S=!0,NF(n,t)}function bp(t){null!=t.v&&(Y.clearTimeout(t.v),t.v=null)}function u2(t,e){var n=null;if(t.g==e){bp(t),CE(t),t.g=null;var r=2}else{if(!wE(t.i,e))return;n=e.F,qF(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Mt(r=hp(),new SF(r,n)),Tp(t)}else o2(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Fie(t,e){return!(GF(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Yc(Ut(t.Na,t,e),c2(t,t.C)),t.C++,0)))}(t,e)||2==r&&bE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Bs(t,5);break;case 4:Bs(t,10);break;case 3:Bs(t,6);break;default:Bs(t,2)}}function c2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Bs(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Ut(t.pb,t);n||(n=new js("//www.google.com/images/cleardot.gif"),Y.location&&"http"==Y.location.protocol||yp(n,"https"),_p(n)),function Rie(t,e){const n=new dp;if(Y.Image){const r=new Image;r.onload=sp(wp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=sp(wp,n,r,"TestLoadImage: error",!1,e),r.onabort=sp(wp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=sp(wp,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else nn(2);t.H=0,t.h&&t.h.za(e),l2(t),r2(t)}function l2(t){if(t.H=0,t.ma=[],t.h){const e=WF(t.i);(0!=e.length||0!=t.j.length)&&(sF(t.ma,e),sF(t.ma,t.j),t.i.i.length=0,qI(t.j),t.j.length=0),t.h.ya()}}function d2(t,e,n){var r=n instanceof js?oi(n):new js(n);if(""!=r.g)e&&(r.g=e+"."+r.g),vp(r,r.m);else{var i=Y.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new js(null);r&&yp(s,r),e&&(s.g=e),i&&vp(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ae(r,n,e),Ae(r,"VER",t.ra),ul(t,r),r}function h2(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new He(n&&t.Ha&&!t.va?new il({ob:!0}):t.va)).Oa(t.J),e}function f2(){}function Cp(){if(Da&&!(10<=Number(Yre)))throw Error("Environmental error: no available transport.")}function Mn(t,e){yt.call(this),this.g=new n2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Hc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hc(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ca(this)}function p2(t){pE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function g2(){gE.call(this),this.status=1}function Ca(t){this.g=t}function ir(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function SE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(R=He.prototype).Oa=function(t){this.M=t},R.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mE.g(),this.C=function xF(t){return t.h||(t.h=t.i())}(this.u?this.u:mE),this.g.onreadystatechange=Ut(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void YF(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Y.FormData&&t instanceof Y.FormData,!(0<=iF(Pie,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ZF(this),0<this.B&&((this.L=function Oie(t){return Da&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.ua,this)):this.A=hE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){YF(this,s)}},R.ua=function(){typeof zI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))},R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Mt(this,"complete"),Mt(this,"abort"),Ep(this))},R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ep(this,!0)),He.$.N.call(this)},R.La=function(){this.s||(this.G||this.v||this.l?JF(this):this.kb())},R.kb=function(){JF(this)},R.isActive=function(){return!!this.g},R.da=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},R.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},R.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Nie(e)}},R.Ia=function(){return this.m},R.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=n2.prototype).ra=8,R.H=1,R.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Jc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=lF(s),hF(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=s2(this,i,e),Ae(n=oi(this.I),"RID",t),Ae(n,"CVER",22),this.F&&Ae(n,"X-HTTP-Session-Id",this.F),ul(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(t2(s)))+"&"+e:this.o&&DE(n,this.o,s)),IE(this.i,i),this.bb&&Ae(n,"TYPE","init"),this.P?(Ae(n,"$req",e),Ae(n,"SID","null"),i.aa=!0,vE(i,n,null)):vE(i,n,e),this.H=2}}else 3==this.H&&(t?i2(this,t):0==this.j.length||zF(this.i)||i2(this))},R.Ma=function(){if(this.u=null,a2(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Yc(Ut(this.jb,this),t)}},R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,nn(10),Dp(this),a2(this))},R.ib=function(){null!=this.v&&(this.v=null,Dp(this),bE(this),nn(19))},R.pb=function(t){t?(this.l.info("Successfully pinged google.com"),nn(2)):(this.l.info("Failed to ping google.com"),nn(1))},R.isActive=function(){return!!this.h&&this.h.isActive(this)},(R=f2.prototype).Ba=function(){},R.Aa=function(){},R.za=function(){},R.ya=function(){},R.isActive=function(){return!0},R.Va=function(){},Cp.prototype.g=function(t,e){return new Mn(t,e)},mt(Mn,yt),Mn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;nn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=d2(t,null,t.Y),Tp(t)},Mn.prototype.close=function(){TE(this.g)},Mn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=cE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Tp(e)},Mn.prototype.N=function(){this.g.h=null,delete this.j,TE(this.g),delete this.g,Mn.$.N.call(this)},mt(p2,pE),mt(g2,gE),mt(Ca,f2),Ca.prototype.Ba=function(){Mt(this.g,"a")},Ca.prototype.Aa=function(t){Mt(this.g,new p2(t))},Ca.prototype.za=function(t){Mt(this.g,new g2)},Ca.prototype.ya=function(){Mt(this.g,"b")},mt(ir,function Vie(){this.blockSize=-1}),ir.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ir.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)SE(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){SE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){SE(this,r),i=0;break}}this.h=i,this.i+=e},ir.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Uie={};function AE(t){return-128<=t&&128>t?function Wre(t,e){var n=Uie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ve([0|e],0>e?-1:0)}):new ve([0|t],0>t?-1:0)}function Ar(t){if(isNaN(t)||!isFinite(t))return Sa;if(0>t)return Rt(Ar(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=xE;return new ve(e,0)}var xE=4294967296,Sa=AE(0),ME=AE(1),y2=AE(16777216);function ai(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function $n(t){return-1==t.h}function Rt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ve(n,~t.h).add(ME)}function Sp(t,e){return t.add(Rt(e))}function Ap(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function cl(t,e){this.g=t,this.h=e}function xp(t,e){if(ai(e))throw Error("division by zero");if(ai(t))return new cl(Sa,Sa);if($n(t))return e=xp(Rt(t),e),new cl(Rt(e.g),Rt(e.h));if($n(e))return e=xp(t,Rt(e)),new cl(Rt(e.g),e.h);if(30<t.g.length){if($n(t)||$n(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ME,r=e;0>=r.X(t);)n=v2(n),r=v2(r);var i=Aa(n,1),s=Aa(r,1);for(r=Aa(r,2),n=Aa(n,2);!ai(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Aa(r,1),n=Aa(n,1)}return e=Sp(t,i.R(e)),new cl(i,e)}for(i=Sa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ar(n)).R(e);$n(o)||0<o.X(t);)o=(s=Ar(n-=r)).R(e);ai(s)&&(s=ME),i=i.add(s),t=Sp(t,o)}return new cl(i,t)}function v2(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ve(n,t.h)}function Aa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ve(i,t.h)}(R=ve.prototype).ea=function(){if($n(this))return-Rt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:xE+r)*e,e*=xE}return t},R.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(ai(this))return"0";if($n(this))return"-"+Rt(this).toString(t);for(var e=Ar(Math.pow(t,6)),n=this,r="";;){var i=xp(n,e).g,s=((0<(n=Sp(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(ai(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},R.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},R.X=function(t){return $n(t=Sp(this,t))?-1:ai(t)?0:1},R.abs=function(){return $n(this)?Rt(this):this},R.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new ve(n,-2147483648&n[n.length-1]?-1:0)},R.R=function(t){if(ai(this)||ai(t))return Sa;if($n(this))return $n(t)?Rt(this).R(Rt(t)):Rt(Rt(this).R(t));if($n(t))return Rt(this.R(Rt(t)));if(0>this.X(y2)&&0>t.X(y2))return Ar(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Ap(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Ap(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ap(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ap(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ve(n,0)},R.gb=function(t){return xp(this,t).h},R.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ve(n,this.h&t.h)},R.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ve(n,this.h|t.h)},R.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ve(n,this.h^t.h)},Cp.prototype.createWebChannel=Cp.prototype.g,Mn.prototype.send=Mn.prototype.u,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,fp.NO_ERROR=0,fp.TIMEOUT=8,fp.HTTP_ERROR=6,AF.COMPLETE="complete",MF.EventType=Xc,Xc.OPEN="a",Xc.CLOSE="b",Xc.ERROR="c",Xc.MESSAGE="d",yt.prototype.listen=yt.prototype.O,He.prototype.listenOnce=He.prototype.P,He.prototype.getLastError=He.prototype.Sa,He.prototype.getLastErrorCode=He.prototype.Ia,He.prototype.getStatus=He.prototype.da,He.prototype.getResponseJson=He.prototype.Wa,He.prototype.getResponseText=He.prototype.ja,He.prototype.send=He.prototype.ha,He.prototype.setWithCredentials=He.prototype.Oa,ir.prototype.digest=ir.prototype.l,ir.prototype.reset=ir.prototype.reset,ir.prototype.update=ir.prototype.j,ve.prototype.add=ve.prototype.add,ve.prototype.multiply=ve.prototype.R,ve.prototype.modulo=ve.prototype.gb,ve.prototype.compare=ve.prototype.X,ve.prototype.toNumber=ve.prototype.ea,ve.prototype.toString=ve.prototype.toString,ve.prototype.getBits=ve.prototype.D,ve.fromNumber=Ar,ve.fromString=function m2(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Rt(m2(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ar(Math.pow(e,8)),r=Sa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ar(Math.pow(e,s)),r=r.R(s).add(Ar(o))):r=(r=r.R(n)).add(Ar(o))}return r};var w2,I2,E2,C2,S2,A2,x2,M2,R2,N2,k2,P2,O2,L2,F2,V2,U2,j2,B2,$2,H2,z2,G2,q2,W2,K2,Y2,X2,sV,oV,aV,uV,cV,jie=rr.createWebChannelTransport=function(){return new Cp},Bie=rr.getStatEventTarget=function(){return hp()},RE=rr.ErrorCode=fp,$ie=rr.EventType=AF,Hie=rr.Event=Vs,_2=rr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zie=rr.FetchXmlHttpFactory=il,Mp=rr.WebChannel=MF,Gie=rr.XhrIo=He,qie=rr.Md5=ir,xa=rr.Integer=ve;const lV="@firebase/firestore";class vt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");let Ma="9.23.0";const Bi=new fa("@firebase/firestore");function NE(){return Bi.logLevel}function C(t,...e){if(Bi.logLevel<=le.DEBUG){const n=e.map(kE);Bi.debug(`Firestore (${Ma}): ${t}`,...n)}}function Ye(t,...e){if(Bi.logLevel<=le.ERROR){const n=e.map(kE);Bi.error(`Firestore (${Ma}): ${t}`,...n)}}function sr(t,...e){if(Bi.logLevel<=le.WARN){const n=e.map(kE);Bi.warn(`Firestore (${Ma}): ${t}`,...n)}}function kE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: `+t;throw Ye(e),new Error(e)}function V(t,e){t||O()}function M(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class dV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class Kie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qie{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new lt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(V("string"==typeof r.accessToken),new dV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return V(null===e||"string"==typeof e),new vt(e)}}class Yie{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Xie{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Yie(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jie{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(V("string"==typeof n.token),this.T=n.token,new hV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class fV{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Zie(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function q(t,e){return t<e?-1:t>e?1:0}function Ra(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ve{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ve(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new Ve(0,0))}static max(){return new U(new Ve(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ll{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ll.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ll?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ue extends ll{construct(e,n,r){return new ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const ese=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends ll{construct(e,n,r){return new Xe(e,n,r)}static isValidIdentifier(e){return ese.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(n)}static emptyPath(){return new Xe([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(ue.fromString(e))}static fromName(e){return new x(ue.fromString(e).popFirst(5))}static empty(){return new x(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ue.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new ue(e.slice()))}}function mV(t){return new Rn(t.readTime,t.key,-1)}class Rn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rn(U.min(),x.empty(),-1)}static max(){return new Rn(U.max(),x.empty(),-1)}}function OE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:q(t.largestBatchId,e.largestBatchId))}const yV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rse{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function $i(t){return(w2=w2||_(function*(e){if(e.code!==I.FAILED_PRECONDITION||e.message!==yV)throw e;C("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Hi(t){return"IndexedDbTransactionError"===t.name}let Nn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function fl(t){return null==t}function pl(t){return 0===t&&1/t==-1/0}function CV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Se{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new Se(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Op(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Op(this.root,e,this.comparator,!1)}getReverseIterator(){return new Op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Op(this.root,e,this.comparator,!0)}}class Op{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1,Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Nt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AV(this.data.getIterator())}getIteratorFrom(e){return new AV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xe(this.comparator);return n.data=e,n}}class AV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vn{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new vn([])}unionWith(e){let n=new xe(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class xV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new xV("Invalid base64 string: "+i):i}}(e);return new dt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const Cse=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(t){if(V(!!t),"string"==typeof t){let e=0;const n=Cse.exec(t);if(V(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ui(t){return"string"==typeof t?dt.fromBase64String(t):dt.fromUint8Array(t)}function Lp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fp(t){const e=t.mapValue.fields.__previous_value__;return Lp(e)?Fp(e):e}function gl(t){const e=Gi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ve(e.seconds,e.nanos)}class Sse{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class zs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zs&&e.projectId===this.projectId&&e.database===this.database}}const qi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lp(t)?4:kV(t)?9007199254740991:10:O()}function Mr(t,e){if(t===e)return!0;const n=Wi(t);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gl(t).isEqual(gl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Gi(r.timestampValue),o=Gi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ui(t.bytesValue).isEqual(ui(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ze(r.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(r.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ze(r.integerValue)===ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ze(r.doubleValue),o=ze(i.doubleValue);return s===o?pl(s)===pl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ra(t.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(CV(s)!==CV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Mr(s[a],o[a])))return!1;return!0}(t,e);default:return O()}var i}function ml(t,e){return void 0!==(t.values||[]).find(n=>Mr(n,e))}function Ki(t,e){if(t===e)return 0;const n=Wi(t),r=Wi(e);if(n!==r)return q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return q(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ze(i.integerValue||i.doubleValue),a=ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return MV(t.timestampValue,e.timestampValue);case 4:return MV(gl(t),gl(e));case 5:return q(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ui(i),a=ui(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=q(o[u],a[u]);if(0!==c)return c}return q(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=q(ze(i.latitude),ze(s.latitude));return 0!==o?o:q(ze(i.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ki(o[u],a[u]);if(c)return c}return q(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===qi.mapValue&&s===qi.mapValue)return 0;if(i===qi.mapValue)return 1;if(s===qi.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=q(a[l],c[l]);if(0!==d)return d;const h=Ki(o[a[l]],u[c[l]]);if(0!==h)return h}return q(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function MV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return q(t,e);const n=Gi(t),r=Gi(e),i=q(n.seconds,r.seconds);return 0!==i?i:q(n.nanos,r.nanos)}function ka(t){return VE(t)}function VE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Gi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ui(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=VE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${VE(r.fields[a])}`;return s+"}"}(t.mapValue):O();var e}function Gs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function UE(t){return!!t&&"integerValue"in t}function yl(t){return!!t&&"arrayValue"in t}function RV(t){return!!t&&"nullValue"in t}function NV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jp(t){return!!t&&"mapValue"in t}function vl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(n)}setAll(e){let n=Xe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=vl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new kt(vl(this.value))}}function LV(t){const e=[];return zi(t.fields,(n,r)=>{const i=new Xe([n]);if(jp(r)){const s=LV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new vn(e)}class Me{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Me(e,0,U.min(),U.min(),U.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new Me(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new Me(e,2,n,U.min(),U.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new Me(e,3,n,U.min(),U.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Me&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qi{constructor(e,n){this.position=e,this.inclusive=n}}function FV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):Ki(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function VV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mr(t.position[n],e.position[n]))return!1;return!0}class Pa{constructor(e,n="asc"){this.field=e,this.dir=n}}function Mse(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class UV{}class ie extends UV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Rse(e,n,r):"array-contains"===n?new Pse(e,r):"in"===n?new GV(e,r):"not-in"===n?new Ose(e,r):"array-contains-any"===n?new Lse(e,r):new ie(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Nse(e,r):new kse(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ki(n,this.value)):null!==n&&Wi(this.value)===Wi(n)&&this.matchesComparison(Ki(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _e extends UV{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new _e(e,n)}matches(e){return Oa(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Oa(t){return"and"===t.op}function BE(t){return function jV(t){for(const e of t.filters)if(e instanceof _e)return!1;return!0}(t)&&Oa(t)}function $E(t){if(t instanceof ie)return t.field.canonicalString()+t.op.toString()+ka(t.value);if(BE(t))return t.filters.map(e=>$E(e)).join(",");{const e=t.filters.map(n=>$E(n)).join(",");return`${t.op}(${e})`}}function BV(t,e){return t instanceof ie?(n=t,(r=e)instanceof ie&&n.op===r.op&&n.field.isEqual(r.field)&&Mr(n.value,r.value)):t instanceof _e?function(n,r){return r instanceof _e&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&BV(s,r.filters[o]),!0)}(t,e):void O();var n,r}function HV(t){return t instanceof ie?function(e){return`${e.field.canonicalString()} ${e.op} ${ka(e.value)}`}(t):t instanceof _e?function(e){return e.op.toString()+" {"+e.getFilters().map(HV).join(" ,")+"}"}(t):"Filter"}class Rse extends ie{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nse extends ie{constructor(e,n){super(e,"in",n),this.keys=zV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kse extends ie{constructor(e,n){super(e,"not-in",n),this.keys=zV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class Pse extends ie{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yl(n)&&ml(n.arrayValue,this.value)}}class GV extends ie{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ml(this.value.arrayValue,n)}}class Ose extends ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ml(this.value.arrayValue,n)}}class Lse extends ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ml(this.value.arrayValue,r))}}class Fse{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function HE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Fse(t,e,n,r,i,s,o)}function qs(t){const e=M(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$E(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),fl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ka(r)).join(",")),e.dt=n}return e.dt}function _l(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Mse(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VV(t.startAt,e.startAt)&&VV(t.endAt,e.endAt)}function Bp(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ci{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function La(t){return new ci(t)}function QV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function zE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Hp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function GE(t){return null!==t.collectionGroup}function Ws(t){const e=M(t);if(null===e.wt){e.wt=[];const n=Hp(e),r=zE(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Pa(n)),e.wt.push(new Pa(Xe.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Pa(Xe.keyField(),s))}}}return e.wt}function rn(t){const e=M(t);if(!e._t)if("F"===e.limitType)e._t=HE(e.path,e.collectionGroup,Ws(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ws(e))n.push(new Pa(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Qi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Qi(e.startAt.position,e.startAt.inclusive):null;e._t=HE(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function qE(t,e){e.getFirstInequalityField(),Hp(t);const n=t.filters.concat([e]);return new ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zp(t,e,n){return new ci(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wl(t,e){return _l(rn(t),rn(e))&&t.limitType===e.limitType}function YV(t){return`${qs(rn(t))}|lt:${t.limitType}`}function WE(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>HV(r)).join(", ")}]`),fl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ka(r)).join(",")),`Target(${n})`}(rn(t))}; limitType=${t.limitType})`}function Il(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ws(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=FV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ws(n),r)||n.endAt&&!function(i,s,o){const a=FV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ws(n),r)));var n,r}function JV(t){return(e,n)=>{let r=!1;for(const i of Ws(t)){const s=Vse(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Vse(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ki(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class li{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return SV(this.inner)}size(){return this.innerSize}}const Use=new Se(x.comparator);function _n(){return Use}const ZV=new Se(x.comparator);function El(...t){let e=ZV;for(const n of t)e=e.insert(n.key,n);return e}function eU(t){let e=ZV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Rr(){return Dl()}function tU(){return Dl()}function Dl(){return new li(t=>t.toString(),(t,e)=>t.isEqual(e))}const jse=new Se(x.comparator),Bse=new xe(x.comparator);function Z(...t){let e=Bse;for(const n of t)e=e.add(n);return e}const $se=new xe(q);function nU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pl(e)?"-0":e}}function rU(t){return{integerValue:""+t}}function iU(t,e){return function _V(t){return"number"==typeof t&&Number.isInteger(t)&&!pl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?rU(e):nU(t,e)}class Gp{constructor(){this._=void 0}}function Hse(t,e,n){return t instanceof Fa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Lp(i)&&(i=Fp(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ks?oU(t,e):t instanceof Qs?aU(t,e):function(r,i){const s=sU(r,i),o=uU(s)+uU(r.gt);return UE(s)&&UE(r.gt)?rU(o):nU(r.serializer,o)}(t,e)}function zse(t,e,n){return t instanceof Ks?oU(t,e):t instanceof Qs?aU(t,e):n}function sU(t,e){return t instanceof Va?UE(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Fa extends Gp{}class Ks extends Gp{constructor(e){super(),this.elements=e}}function oU(t,e){const n=cU(e);for(const r of t.elements)n.some(i=>Mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qs extends Gp{constructor(e){super(),this.elements=e}}function aU(t,e){let n=cU(e);for(const r of t.elements)n=n.filter(i=>!Mr(i,r));return{arrayValue:{values:n}}}class Va extends Gp{constructor(e,n){super(),this.serializer=e,this.gt=n}}function uU(t){return ze(t.integerValue||t.doubleValue)}function cU(t){return yl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class qse{constructor(e,n){this.version=e,this.transformResults=n}}class Pe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pe}static exists(e){return new Pe(void 0,e)}static updateTime(e){return new Pe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Wp{}function lU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ja(t.key,Pe.none()):new Ua(t.key,t.data,Pe.none());{const n=t.data,r=kt.empty();let i=new xe(Xe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new di(t.key,r,new vn(i.toArray()),Pe.none())}}function Wse(t,e,n){t instanceof Ua?function(r,i,s){const o=r.value.clone(),a=fU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof di?function(r,i,s){if(!qp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=fU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(hU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function bl(t,e,n,r){return t instanceof Ua?function(i,s,o,a){if(!qp(i.precondition,s))return o;const u=i.value.clone(),c=pU(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof di?function(i,s,o,a){if(!qp(i.precondition,s))return o;const u=pU(i.fieldTransforms,a,s),c=s.data;return c.setAll(hU(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,qp(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Kse(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sU(r.transform,i||null);null!=s&&(null===n&&(n=kt.empty()),n.set(r.field,s))}return n||null}function dU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ra(n,r,(i,s)=>function Gse(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ks&&r instanceof Ks||n instanceof Qs&&r instanceof Qs?Ra(n.elements,r.elements,Mr):n instanceof Va&&r instanceof Va?Mr(n.gt,r.gt):n instanceof Fa&&r instanceof Fa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ua extends Wp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class di extends Wp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fU(t,e,n){const r=new Map;V(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zse(o,a,n[i]))}return r}function pU(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Hse(s,o,e))}return r}class ja extends Wp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QE extends Wp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Wse(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=lU(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(n,r)=>dU(n,r))&&Ra(this.baseMutations,e.baseMutations,(n,r)=>dU(n,r))}}class XE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){V(e.mutations.length===r.length);let i=jse;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new XE(e,n,r,i)}}class JE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yse{constructor(e,n){this.count=e,this.unchangedNames=n}}var rt,ce;function mU(t){if(void 0===t)return Ye("GRPC error has no .code"),I.UNKNOWN;switch(t){case rt.OK:return I.OK;case rt.CANCELLED:return I.CANCELLED;case rt.UNKNOWN:return I.UNKNOWN;case rt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case rt.INTERNAL:return I.INTERNAL;case rt.UNAVAILABLE:return I.UNAVAILABLE;case rt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case rt.NOT_FOUND:return I.NOT_FOUND;case rt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case rt.ABORTED:return I.ABORTED;case rt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case rt.DATA_LOSS:return I.DATA_LOSS;default:return O()}}(ce=rt||(rt={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";class ZE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Kp}static getOrCreateInstance(){return null===Kp&&(Kp=new ZE),Kp}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Kp=null;const Xse=new xa([4294967295,4294967295],0);function vU(t){const e=function yU(){return new TextEncoder}().encode(t),n=new qie;return n.update(e),new Uint8Array(n.digest())}function _U(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xa([n,r],0),new xa([i,s],0)]}class eD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Cl(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=xa.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(xa.fromNumber(r)));return 1===i.compare(Xse)&&(i=new xa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=vU(e),[r,i]=_U(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new eD(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=vU(e),[r,i]=_U(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sl(U.min(),i,new Se(q),_n(),Z())}}class Al{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Al(r,n,Z(),Z(),Z())}}class Qp{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class wU{constructor(e,n){this.targetId=e,this.Vt=n}}class IU{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class EU{constructor(){this.St=0,this.Dt=TU(),this.Ct=dt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Z(),n=Z(),r=Z();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new Al(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=TU()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Jse{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=_n(),this.zt=DU(),this.Wt=new Se(q)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Bp(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Me.newNoDocument(a,U.min()))}else V(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=ZE.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,y;const v={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(v.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(y=null===(m=E?.bits)||void 0===m?void 0:m.padding)&&void 0!==y?y:0}),v}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=ui(s).toUint8Array()}catch(l){if(l instanceof xV)return sr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new eD(u,o,a)}catch(l){return sr(l instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Bp(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Me.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Z();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Sl(e,n,this.Wt,this.jt,r);return this.jt=_n(),this.zt=DU(),this.Wt=new Se(q),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new EU,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new xe(q),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new EU),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function DU(){return new Se(x.comparator)}function TU(){return new Se(x.comparator)}const Zse={asc:"ASCENDING",desc:"DESCENDING"},eoe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},toe={and:"AND",or:"OR"};class noe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tD(t,e){return t.useProto3Json||fl(e)?e:{value:e}}function Ba(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function roe(t,e){return Ba(t,e.toTimestamp())}function Je(t){return V(!!t),U.fromTimestamp(function(e){const n=Gi(e);return new Ve(n.seconds,n.nanos)}(t))}function nD(t,e){return(n=t,new ue(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function CU(t){const e=ue.fromString(t);return V(OU(e)),e}function xl(t,e){return nD(t.databaseId,e.path)}function Nr(t,e){const n=CU(e);if(n.get(1)!==t.databaseId.projectId)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(AU(n))}function rD(t,e){return nD(t.databaseId,e)}function Ml(t){return new ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AU(t){return V(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function xU(t,e,n){return{name:xl(t,e),fields:n.value.mapValue.fields}}function RU(t,e){return{documents:[rD(t,e.path)]}}function sD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=rD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return PU(_e.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Yi((l=c).field),direction:uoe(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=tD(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function NU(t){let e=function SU(t){const e=CU(t);return 4===e.length?ue.emptyPath():AU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){V(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=kU(l);return d instanceof _e&&BE(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Pa($a((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,fl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Qi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Qi(l.values||[],!l.before)}(n.endAt)),function KV(t,e,n,r,i,s,o,a){return new ci(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function kU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=$a(e.unaryFilter.field);return ie.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=$a(e.unaryFilter.field);return ie.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$a(e.unaryFilter.field);return ie.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$a(e.unaryFilter.field);return ie.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?function(e){return ie.create($a(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return _e.create(e.compositeFilter.filters.map(n=>kU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O()}function uoe(t){return Zse[t]}function coe(t){return eoe[t]}function loe(t){return toe[t]}function Yi(t){return{fieldPath:t.canonicalString()}}function $a(t){return Xe.fromServerFormat(t.fieldPath)}function PU(t){return t instanceof ie?function(e){if("=="===e.op){if(NV(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NAN"}};if(RV(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(NV(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NOT_NAN"}};if(RV(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yi(e.field),op:coe(e.op),value:e.value}}}(t):t instanceof _e?function(e){const n=e.getFilters().map(r=>PU(r));return 1===n.length?n[0]:{compositeFilter:{op:loe(e.op),filters:n}}}(t):O()}function doe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class hi{constructor(e,n,r,i,s=U.min(),o=U.min(),a=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class LU{constructor(e){this.fe=e}}function oD(t){const e=NU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?zp(e,e.limit,"L"):e}class Zs{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(ze(e.integerValue));else if("doubleValue"in e){const r=ze(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),pl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ui(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?kV(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):O()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Zs.Ve=new Zs;class woe{constructor(){this.rn=new hD}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(Rn.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(Rn.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class hD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xe(ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(ue.comparator)).toArray()}}new Uint8Array(0);class $t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(41943040,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);class to{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new to(0)}static Mn(){return new to(-1)}}class Coe{constructor(){this.changes=new li(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Me.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xoe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class uj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&bl(r.mutation,i,vn.empty(),Ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Z()){const i=Rr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=El();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Rr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Z()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=_n();const o=Dl(),a=Dl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof di)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),bl(l.mutation,c,l.mutation.getFieldMask(),Ve.now())):o.set(c.key,vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new xoe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dl();let i=new Se((o,a)=>o-a),s=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||vn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||Z()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=tU();l.forEach(h=>{if(!s.has(h)){const f=lU(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):GE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(Rr());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Z())).next(l=>({batchId:a,changes:eU(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=El();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=El();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new ci(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Me.newInvalidDocument(c)))});let o=El();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&bl(c.mutation,u,vn.empty(),Ve.now()),Il(n,u)&&(o=o.insert(a,u))}),o})}}class Moe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Je(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:oD(r.bundledQuery),readTime:Je(r.readTime)}),w.resolve();var r}}class Roe{constructor(){this.overlays=new Se(x.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rr();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=Rr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Se((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Rr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Rr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new JE(n,r));let s=this.ls.get(n);void 0===s&&(s=Z(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class fD{constructor(){this.fs=new xe(wt.ds),this.ws=new xe(wt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new wt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new wt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new ue([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new ue([])),r=new wt(n,e),i=new wt(n,e+1);let s=Z();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||q(e.As,n.As)}static _s(e,n){return q(e.As,n.As)||x.comparator(e.key,n.key)}}class Noe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new xe(wt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new YE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new wt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(q);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new wt(new x(s),0);let a=new xe(q);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){V(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new wt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class koe{constructor(e){this.Ds=e,this.docs=new Se(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Me.newInvalidDocument(n))}getEntries(e,n){let r=_n();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Me.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=_n();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||OE(mV(l),r)<=0||(i.has(l.key)||Il(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){O()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Poe(this)}getSize(e){return w.resolve(this.size)}}class Poe extends Coe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Ooe{constructor(e){this.persistence=e,this.xs=new li(n=>qs(n),_l),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Ns=0,this.ks=new fD,this.targetCount=0,this.Ms=to.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new to(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class pD{constructor(e,n){this.$s={},this.overlays={},this.Os=new Nn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ooe(this),this.indexManager=new woe,this.remoteDocumentCache=new koe(r=>this.referenceDelegate.Ls(r)),this.serializer=new LU(n),this.qs=new Moe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Roe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Noe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new Loe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Loe extends rse{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Qs=new fD,this.js=null}static zs(e){return new ig(e)}get Ws(){if(this.js)return this.js;throw O()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class vD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Z(),i=Z();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vD(e,n.fromCache,r,i)}}class lj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(QV(n))return w.resolve(null);let r=rn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=zp(n,null,"F"),r=rn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Z(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,zp(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return QV(n)||i.isEqual(U.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(NE()<=le.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),WE(n)),this.Wi(e,o,n,function gV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new Ve(n+1,0):new Ve(n,r));return new Rn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new xe(JV(e));return n.forEach((i,s)=>{Il(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return NE()<=le.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",WE(n)),this.Ui.getDocumentsMatchingQuery(e,n,Rn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Voe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Se(q),this.Yi=new li(s=>qs(s),_l),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function hj(t,e){return(I2=I2||_(function*(n,r){const i=M(n);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(a=>(o=a,i.tr(r),i.mutationQueue.getAllMutationBatches(s))).next(a=>{const u=[],c=[];let l=Z();for(const d of o){u.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of a){c.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return i.localDocuments.getDocuments(s,l).next(d=>({er:d,removedBatchIds:u,addedBatchIds:c}))})})})).apply(this,arguments)}function fj(t){const e=M(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Boe(t,e){const n=M(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qa(t,e,n){return(E2=E2||_(function*(r,i,s){const o=M(r),a=o.Ji.get(i),u=s?"readwrite":"readwrite-primary";try{s||(yield o.persistence.runTransaction("Release target",u,c=>o.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Hi(c))throw c;C("LocalStore",`Failed to update sequence numbers for target ${i}: ${c}`)}o.Ji=o.Ji.remove(i),o.Yi.delete(a.target)})).apply(this,arguments)}function ag(t,e,n){const r=M(t);let i=U.min(),s=Z();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=M(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,rn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:Z())).next(a=>(function yj(t,e,n){let r=t.Xi.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function XV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class ID{constructor(){this.activeTargetIds=function KE(){return $se}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wj{constructor(){this.Hr=new ID,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ID,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zoe{Yr(e){}shutdown(){}}class Ij{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lg=null;function DD(){return null===lg?lg=268435456+Math.round(2147483648*Math.random()):lg++,"0x"+lg.toString(16)}const Goe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qoe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ht="WebChannelConnection";class Woe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=DD(),a=this.To(e,n);C("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(C("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw sr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ma,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Goe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=DD();return new Promise((o,a)=>{const u=new Gie;u.setWithCredentials(!0),u.listenOnce($ie.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case RE.NO_ERROR:const l=u.getResponseJson();C(Ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case RE.TIMEOUT:C(Ht,`RPC '${e}' ${s} timed out`),a(new b(I.DEADLINE_EXCEEDED,"Request time out"));break;case RE.HTTP_ERROR:const d=u.getStatus();if(C(Ht,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(I.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{C(Ht,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);C(Ht,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=DD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jie(),a=Bie(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new zie({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");C(Ht,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new qoe({ro:m=>{f?C(Ht,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(C(Ht,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(Ht,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,y,v)=>{m.listen(y,E=>{try{v(E)}catch(D){setTimeout(()=>{throw D},0)}})};return g(d,Mp.EventType.OPEN,()=>{f||C(Ht,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Mp.EventType.CLOSE,()=>{f||(f=!0,C(Ht,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Mp.EventType.ERROR,m=>{f||(f=!0,sr(Ht,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new b(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,Mp.EventType.MESSAGE,m=>{var y;if(!f){const v=m.data[0];V(!!v);const D=v.error||(null===(y=v[0])||void 0===y?void 0:y.error);if(D){C(Ht,`RPC '${e}' stream ${i} received error:`,D);const N=D.status;let W=function(et){const It=rt[et];if(void 0!==It)return mU(It)}(N),he=D.message;void 0===W&&(W=I.INTERNAL,he="Unknown error status: "+N+" with message "+D.message),f=!0,p.wo(new b(W,he)),d.close()}else C(Ht,`RPC '${e}' stream ${i} received:`,v),p._o(v)}}),g(a,Hie.STAT_EVENT,m=>{m.stat===_2.PROXY?C(Ht,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===_2.NOPROXY&&C(Ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function dg(){return typeof document<"u"?document:null}function jl(t){return new noe(t,!0)}class TD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Dj{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new TD(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return _(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return _(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return _(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Ye(n.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(_(function*(){e.state=0,e.start()}))}tu(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Koe extends Dj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function soe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(V(void 0===c||"string"==typeof c),dt.fromBase64String(c||"")):(V(void 0===c||c instanceof Uint8Array),dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:mU(u.code);return new b(c,u.message||"")}(o);n=new IU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Nr(t,r.document.name),s=Je(r.document.updateTime),o=r.document.createTime?Je(r.document.createTime):U.min(),a=new kt({mapValue:{fields:r.document.fields}}),u=Me.newFoundDocument(i,s,o,a);n=new Qp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Nr(t,r.document),s=r.readTime?Je(r.readTime):U.min(),o=Me.newNoDocument(i,s);n=new Qp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Nr(t,r.document);n=new Qp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Yse(i,s);n=new wU(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return U.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?Je(s.readTime):U.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Ml(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Bp(a)?{documents:RU(i,a)}:{query:sD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=bU(i,s.resumeToken);const u=tD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(U.min())>0){o.readTime=Ba(i,s.snapshotVersion.toTimestamp());const u=tD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function aoe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Ml(this.serializer),n.removeTarget=e,this.Wo(n)}}class Qoe extends Dj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(V(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function ooe(t,e){return t&&t.length>0?(V(void 0!==e),t.map(n=>function(r,i){let s=Je(r.updateTime?r.updateTime:i);return s.isEqual(U.min())&&(s=Je(i)),new qse(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Je(e.commitTime);return this.listener.cu(r,n)}return V(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ml(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Rl(t,e){let n;if(e instanceof Ua)n={update:xU(t,e.key,e.value)};else if(e instanceof ja)n={delete:xl(t,e.key)};else if(e instanceof di)n={update:xU(t,e.key,e.data),updateMask:doe(e.fieldMask)};else{if(!(e instanceof QE))return O();n={verify:xl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Fa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ks)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Qs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Va)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:roe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),n;var i}(this.serializer,r))};this.Wo(n)}}class Yoe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Joe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ye(n),this.mu=!1):C("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Zoe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(_(function*(){var u;es(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield function(c){return(u=u||_(function*(l){const d=M(l);d.vu.add(4),yield Wa(d),d.bu.set("Unknown"),d.vu.delete(4),yield Bl(d)})).apply(this,arguments)}(o))}))}),this.bu=new Joe(r,i)}}function Bl(t){return(C2=C2||_(function*(e){if(es(e))for(const n of e.Ru)yield n(!0)})).apply(this,arguments)}function Wa(t){return(S2=S2||_(function*(e){for(const n of e.Ru)yield n(!1)})).apply(this,arguments)}function hg(t,e){const n=M(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),SD(n)?CD(n):Qa(n).Ko()&&bD(n,e))}function $l(t,e){const n=M(t),r=Qa(n);n.Au.delete(e),r.Ko()&&Tj(n,e),0===n.Au.size&&(r.Ko()?r.jo():es(n)&&n.bu.set("Unknown"))}function bD(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(U.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qa(t).su(e)}function Tj(t,e){t.Vu.qt(e),Qa(t).iu(e)}function CD(t){t.Vu=new Jse({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Qa(t).start(),t.bu.gu()}function SD(t){return es(t)&&!Qa(t).Uo()&&t.Au.size>0}function es(t){return 0===M(t).vu.size}function bj(t){t.Vu=void 0}function eae(t){return(A2=A2||_(function*(e){e.Au.forEach((n,r)=>{bD(e,n)})})).apply(this,arguments)}function tae(t,e){return(x2=x2||_(function*(n,r){bj(n),SD(n)?(n.bu.Iu(r),CD(n)):n.bu.set("Unknown")})).apply(this,arguments)}function nae(t,e,n){return(M2=M2||_(function*(r,i,s){if(r.bu.set("Online"),i instanceof IU&&2===i.state&&i.cause)try{var o;yield function(a,u){return(o=o||_(function*(c,l){const d=l.cause;for(const h of l.targetIds)c.Au.has(h)&&(yield c.remoteSyncer.rejectListen(h,d),c.Au.delete(h),c.Vu.removeTarget(h))})).apply(this,arguments)}(r,i)}catch(a){C("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),a),yield fg(r,a)}else if(i instanceof Qp?r.Vu.Ht(i):i instanceof wU?r.Vu.ne(i):r.Vu.Xt(i),!s.isEqual(U.min()))try{const a=yield fj(r.localStore);s.compareTo(a)>=0&&(yield function(u,c){const l=u.Vu.ce(c);return l.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const f=u.Au.get(h);f&&u.Au.set(h,f.withResumeToken(d.resumeToken,c))}}),l.targetMismatches.forEach((d,h)=>{const f=u.Au.get(d);if(!f)return;u.Au.set(d,f.withResumeToken(dt.EMPTY_BYTE_STRING,f.snapshotVersion)),Tj(u,d);const p=new hi(f.target,d,h,f.sequenceNumber);bD(u,p)}),u.remoteSyncer.applyRemoteEvent(l)}(r,s))}catch(a){C("RemoteStore","Failed to raise snapshot:",a),yield fg(r,a)}})).apply(this,arguments)}function fg(t,e,n){return(R2=R2||_(function*(r,i,s){if(!Hi(i))throw i;r.vu.add(1),yield Wa(r),r.bu.set("Offline"),s||(s=()=>fj(r.localStore)),r.asyncQueue.enqueueRetryable(_(function*(){C("RemoteStore","Retrying IndexedDB access"),yield s(),r.vu.delete(1),yield Bl(r)}))})).apply(this,arguments)}function Cj(t,e){return e().catch(n=>fg(t,n,e))}function Ka(t){return(N2=N2||_(function*(e){const n=M(e),r=ts(n);let i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;for(;rae(n);)try{const s=yield Boe(n.localStore,i);if(null===s){0===n.Eu.length&&r.jo();break}i=s.batchId,iae(n,s)}catch(s){yield fg(n,s)}Sj(n)&&Aj(n)})).apply(this,arguments)}function rae(t){return es(t)&&t.Eu.length<10}function iae(t,e){t.Eu.push(e);const n=ts(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Sj(t){return es(t)&&!ts(t).Uo()&&t.Eu.length>0}function Aj(t){ts(t).start()}function sae(t){return(k2=k2||_(function*(e){ts(e).hu()})).apply(this,arguments)}function oae(t){return(P2=P2||_(function*(e){const n=ts(e);for(const r of e.Eu)n.uu(r.mutations)})).apply(this,arguments)}function aae(t,e,n){return(O2=O2||_(function*(r,i,s){const o=r.Eu.shift(),a=XE.from(o,i,s);yield Cj(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Ka(r)})).apply(this,arguments)}function uae(t,e){return(L2=L2||_(function*(n,r){var i;r&&ts(n).ou&&(yield function(s,o){return(i=i||_(function*(a,u){if(function gU(t){switch(t){default:return O();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(c=u.code)&&c!==I.ABORTED){const l=a.Eu.shift();ts(a).Qo(),yield Cj(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,u)),yield Ka(a)}var c})).apply(this,arguments)}(n,r)),Sj(n)&&Aj(n)})).apply(this,arguments)}function xj(t,e){return(F2=F2||_(function*(n,r){const i=M(n);i.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const s=es(i);i.vu.add(3),yield Wa(i),s&&i.bu.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(r),i.vu.delete(3),yield Bl(i)})).apply(this,arguments)}function Qa(t){var e;return t.Su||(t.Su=function(n,r,i){const s=M(n);return s.fu(),new Koe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:eae.bind(null,t),ao:tae.bind(null,t),nu:nae.bind(null,t)}),t.Ru.push(function(n){return(e=e||_(function*(r){r?(t.Su.Qo(),SD(t)?CD(t):t.bu.set("Unknown")):(yield t.Su.stop(),bj(t))})).apply(this,arguments)})),t.Su}function ts(t){var e;return t.Du||(t.Du=function(n,r,i){const s=M(n);return s.fu(),new Qoe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:sae.bind(null,t),ao:uae.bind(null,t),au:oae.bind(null,t),cu:aae.bind(null,t)}),t.Ru.push(function(n){return(e=e||_(function*(r){r?(t.Du.Qo(),yield Ka(t)):(yield t.Du.stop(),t.Eu.length>0&&(C("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})).apply(this,arguments)})),t.Du}class xD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new lt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new xD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ya(t,e){if(Ye("AsyncQueue",`${e}: ${t}`),Hi(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Xa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=El(),this.sortedSet=new Se(this.comparator)}static emptySet(e){return new Xa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Xa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Mj{constructor(){this.Cu=new Se(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):O():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ja{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ja(e,n,Xa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class cae{constructor(){this.Nu=void 0,this.listeners=[]}}class lae{constructor(){this.queries=new li(e=>YV(e),wl),this.onlineState="Unknown",this.ku=new Set}}function dae(t,e){const n=M(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&ND(n)}function hae(t,e,n){const r=M(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ND(t){t.ku.forEach(e=>{e.next()})}class kD{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class kj{constructor(e){this.key=e}}class Pj{constructor(e){this.key=e}}class Oj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Z(),this.mutatedKeys=Z(),this.tc=JV(e),this.ec=new Xa(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Mj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Il(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Ja(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Mj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Z(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Pj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new kj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Z();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ja.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class gae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mae{constructor(e){this.key=e,this.fc=!1}}class yae{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new li(a=>YV(a),wl),this._c=new Map,this.mc=new Set,this.gc=new Se(x.comparator),this.yc=new Map,this.Ic=new fD,this.Tc={},this.Ec=new Map,this.Ac=to.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function vae(t,e){return(B2=B2||_(function*(n,r){const i=function UD(t){const e=M(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Iae.bind(null,e),e.dc.nu=dae.bind(null,e.eventManager),e.dc.Pc=hae.bind(null,e.eventManager),e}(n);let s,o;const a=i.wc.get(r);if(a)s=a.targetId,i.sharedClientState.addLocalQueryTarget(s),o=a.view.lc();else{const u=yield function Ga(t,e){const n=M(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new hi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(i.localStore,rn(r)),c=i.sharedClientState.addLocalQueryTarget(u.targetId);s=u.targetId,o=yield function PD(t,e,n,r,i){return($2=$2||_(function*(s,o,a,u,c){s.Rc=(m,y,v)=>{var E;return function(D,N,W,he){return(E=E||_(function*(et,It,dd,Qg){let Yg=It.view.sc(dd);Yg.zi&&(Yg=yield ag(et.localStore,It.query,!1).then(({documents:$de})=>It.view.sc($de,Yg)));const Bde=Qg&&Qg.targetChanges.get(It.targetId),F$=It.view.applyChanges(Yg,et.isPrimaryClient,Bde);return FD(et,It.targetId,F$.cc),F$.snapshot})).apply(this,arguments)}(s,m,y,v)};const l=yield ag(s.localStore,o,!0),d=new Oj(o,l.ir),h=d.sc(l.documents),f=Al.createSynthesizedTargetChangeForCurrentChange(a,u&&"Offline"!==s.onlineState,c),p=d.applyChanges(h,s.isPrimaryClient,f);FD(s,a,p.cc);const g=new gae(o,a,d);return s.wc.set(o,g),s._c.has(a)?s._c.get(a).push(o):s._c.set(a,[o]),p.snapshot})).apply(this,arguments)}(i,r,s,"current"===c,u.resumeToken),i.isPrimaryClient&&hg(i.remoteStore,u)}return o})).apply(this,arguments)}function _ae(t,e){return(H2=H2||_(function*(n,r){const i=M(n),s=i.wc.get(r),o=i._c.get(s.targetId);if(o.length>1)return i._c.set(s.targetId,o.filter(a=>!wl(a,r))),void i.wc.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||(yield qa(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),$l(i.remoteStore,s.targetId),Za(i,s.targetId)}).catch($i))):(Za(i,s.targetId),yield qa(i.localStore,s.targetId,!0))})).apply(this,arguments)}function Lj(t,e){return(G2=G2||_(function*(n,r){const i=M(n);try{const s=yield function joe(t,e){const n=M(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(dt.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=_n(),c=Z();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function pj(t,e,n){let r=Z(),i=Z();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=_n();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(U.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(U.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(i.localStore,r);r.targetChanges.forEach((o,a)=>{const u=i.yc.get(a);u&&(V(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.fc=!0:o.modifiedDocuments.size>0?V(u.fc):o.removedDocuments.size>0&&(V(u.fc),u.fc=!1))}),yield fi(i,s,r)}catch(s){yield $i(s)}})).apply(this,arguments)}function Fj(t,e,n){const r=M(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=M(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&ND(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Iae(t,e,n){return(q2=q2||_(function*(r,i,s){const o=M(r);o.sharedClientState.updateQueryState(i,"rejected",s);const a=o.yc.get(i),u=a&&a.key;if(u){let c=new Se(x.comparator);c=c.insert(u,Me.newNoDocument(u,U.min()));const l=Z().add(u),d=new Sl(U.min(),new Map,new Se(q),c,l);yield Lj(o,d),o.gc=o.gc.remove(u),o.yc.delete(i),VD(o)}else yield qa(o.localStore,i,!1).then(()=>Za(o,i,s)).catch($i)})).apply(this,arguments)}function Eae(t,e){return(W2=W2||_(function*(n,r){const i=M(n),s=r.batch.batchId;try{const o=yield function Uoe(t,e){const n=M(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);V(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Z();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(i.localStore,r);LD(i,s,null),OD(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield fi(i,o)}catch(o){yield $i(o)}})).apply(this,arguments)}function Dae(t,e,n){return(K2=K2||_(function*(r,i,s){const o=M(r);try{const a=yield function(u,c){const l=M(u);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,c).next(f=>(V(null!==f),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(o.localStore,i);LD(o,i,s),OD(o,i),o.sharedClientState.updateMutationState(i,"rejected",s),yield fi(o,a)}catch(a){yield $i(a)}})).apply(this,arguments)}function OD(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function LD(t,e,n){const r=M(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Za(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Vj(t,r)})}function Vj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&($l(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),VD(t))}function FD(t,e,n){for(const r of n)r instanceof kj?(t.Ic.addReference(r.key,e),bae(t,r)):r instanceof Pj?(C("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Vj(t,r.key)):O()}function bae(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(C("SyncEngine","New document in limbo: "+n),t.mc.add(r),VD(t))}function VD(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(ue.fromString(e)),r=t.Ac.next();t.yc.set(r,new mae(n)),t.gc=t.gc.insert(n,r),hg(t.remoteStore,new hi(rn(La(n.path)),r,"TargetPurposeLimboResolution",Nn.ct))}}function fi(t,e,n){return(Y2=Y2||_(function*(r,i,s){var o;const a=M(r),u=[],c=[],l=[];a.wc.isEmpty()||(a.wc.forEach((d,h)=>{l.push(a.Rc(h,i,s).then(f=>{if((f||s)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(h.targetId,f?.fromCache?"not-current":"current"),f){u.push(f);const p=vD.Li(h.targetId,f);c.push(p)}}))}),yield Promise.all(l),a.dc.nu(u),yield function(d,h){return(o=o||_(function*(f,p){const g=M(f);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>w.forEach(p,y=>w.forEach(y.Fi,v=>g.persistence.referenceDelegate.addReference(m,y.targetId,v)).next(()=>w.forEach(y.Bi,v=>g.persistence.referenceDelegate.removeReference(m,y.targetId,v)))))}catch(m){if(!Hi(m))throw m;C("LocalStore","Failed to update sequence numbers: "+m)}for(const m of p){const y=m.targetId;if(!m.fromCache){const v=g.Ji.get(y),D=v.withLastLimboFreeSnapshotVersion(v.snapshotVersion);g.Ji=g.Ji.insert(y,D)}}})).apply(this,arguments)}(a.localStore,c))})).apply(this,arguments)}function Cae(t,e){return(X2=X2||_(function*(n,r){const i=M(n);if(!i.currentUser.isEqual(r)){C("SyncEngine","User change. New user:",r.toKey());const s=yield hj(i.localStore,r);i.currentUser=r,(o=i).Ec.forEach(u=>{u.forEach(c=>{c.reject(new b(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),i.sharedClientState.handleUserChange(r,s.removedBatchIds,s.addedBatchIds),yield fi(i,s.er)}var o})).apply(this,arguments)}function Sae(t,e){const n=M(t),r=n.yc.get(e);if(r&&r.fc)return Z().add(r.key);{let i=Z();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function jD(t){const e=M(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Eae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dae.bind(null,e),e}class pg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return _(function*(){n.serializer=jl(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function dj(t,e,n,r){return new Voe(t,e,n,r)}(this.persistence,new lj,e.initialUser,this.serializer)}createPersistence(e){return new pD(ig.zs,this.serializer)}createSharedClientState(e){return new wj}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class eu{initialize(e,n){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Fj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Cae.bind(null,r.syncEngine),yield function AD(t,e){return(V2=V2||_(function*(n,r){const i=M(n);r?(i.vu.delete(2),yield Bl(i)):r||(i.vu.add(2),yield Wa(i),i.bu.set("Unknown"))})).apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lae}createDatastore(e){const n=jl(e.databaseInfo.databaseId),r=new Woe(e.databaseInfo);return new Yoe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Fj(this.syncEngine,a,0),o=Ij.D()?new Ij:new zoe,new Zoe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new yae(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e;return function(n){return(e=e||_(function*(r){const i=M(r);C("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Wa(i),i.Pu.shutdown(),i.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}class gg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ye("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class jae{constructor(e,n,r,i){var o,s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=fV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(a){return(o=o||_(function*(u){C("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u})).apply(this,arguments)}),this.appCheckCredentials.start(r,a=>(C("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new lt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ya(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function mg(t,e){return(sV=sV||_(function*(n,r){var i;n.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const s=yield n.getConfiguration();yield r.initialize(s);let o=s.initialUser;n.setCredentialChangeListener(function(a){return(i=i||_(function*(u){o.isEqual(u)||(yield hj(r.localStore,u),o=u)})).apply(this,arguments)}),r.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=r})).apply(this,arguments)}function BD(t,e){return(oV=oV||_(function*(n,r){n.asyncQueue.verifyOperationInProgress();const i=yield function $D(t){return(aV=aV||_(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mg(e,e._uninitializedComponentsProvider._offline)}catch(n){const r=n;if(!function zj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r))throw r;sr("Error using user provided cache. Falling back to memory cache: "+r),yield mg(e,new pg)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield mg(e,new pg);return e._offlineComponents})).apply(this,arguments)}(n);C("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield r.initialize(i,s),n.setCredentialChangeListener(o=>xj(r.remoteStore,o)),n.setAppCheckTokenChangeListener((o,a)=>xj(r.remoteStore,a)),n._onlineComponents=r})).apply(this,arguments)}function yg(t){return(uV=uV||_(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield BD(e,e._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield BD(e,new eu))),e._onlineComponents})).apply(this,arguments)}function tu(t){return(cV=cV||_(function*(e){const n=yield yg(e),r=n.eventManager;return r.onListen=vae.bind(null,n.syncEngine),r.onUnlisten=_ae.bind(null,n.syncEngine),r})).apply(this,arguments)}function Yj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Xj=new Map;function zD(t,e,n){if(!n)throw new b(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Jj(t){if(!x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zj(t){if(x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _g(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function se(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_g(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class tB{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Qae(t,e,n,r){if(!0===e&&!0===r)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Yj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tB(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Wie;switch(n.type){case"firstParty":return new Xie(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Xj.get(e);n&&(C("ComponentProvider","Removing Datastore"),Xj.delete(e),n.terminate())}(this),Promise.resolve()}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}}class Pt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pt(this.firestore,e,this._query)}}class kr extends Pt{constructor(e,n,r){super(e,n,La(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new x(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function Xae(t,e,...n){if(t=xn(t),zD("collection","path",e),t instanceof Hl){const r=ue.fromString(e,...n);return Zj(r),new kr(t,null,r)}{if(!(t instanceof Ze||t instanceof kr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return Zj(r),new kr(t.firestore,null,r)}}class Zae{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new TD(this,"async_queue_retry"),this.Xc=()=>{const n=dg();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=dg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=dg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new lt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Hi(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=xD.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function GD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Re extends Hl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Zae,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||rB(this),this._firestoreClient.terminate()}}function tue(t,e){const r="string"==typeof t?t:e||"(default)",i=Sf("object"==typeof t?t:CN(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Ef())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Yae(t,e,n,r={}){var i;const s=(t=se(t,Hl))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&sr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=vt.MOCK_USER;else{a=function jQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wf(JSON.stringify({alg:"none",type:"JWT"})),wf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new vt(c)}t._authCredentials=new Kie(new dV(a,u))}}(i,...s)}return i}function it(t){return t._firestoreClient||rB(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rB(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Sse(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Yj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new jae(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ro(dt.fromBase64String(e))}catch(n){throw new b(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ro(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oB{constructor(e){this._methodName=e}}class qD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return q(this._lat,e._lat)||q(this._long,e._long)}}const rue=/^__.*__$/;class iue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ua(e,this.data,n,this.fieldTransforms)}}function uB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class wg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Eg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(uB(this.ca)&&rue.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class sue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jl(e)}ya(e,n,r,i=!1){return new wg({ca:e,methodName:n,ga:r,path:Xe.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ru(t){const e=t._freezeSettings(),n=jl(t._databaseId);return new sue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WD(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);QD("Data must be an object, but it was:",o,r);const a=fB(r,o);let u,c;if(s.merge)u=new vn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=ql(e,d,n);if(!o.contains(h))throw new b(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);gB(l,h)||l.push(h)}u=new vn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new iue(new kt(a),u,c)}function io(t,e){if(pB(t=xn(t)))return QD("Unsupported field value:",e,t),fB(t,e);if(t instanceof oB)return function(n,r){if(!uB(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=io(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=xn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return iU(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ve.fromDate(n);return{timestampValue:Ba(r.serializer,i)}}if(n instanceof Ve){const i=new Ve(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ba(r.serializer,i)}}if(n instanceof qD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ro)return{bytesValue:bU(r.serializer,n._byteString)};if(n instanceof Ze){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:nD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${_g(n)}`)}(t,e)}function fB(t,e){const n={};return SV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,(r,i)=>{const s=io(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function pB(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof qD||t instanceof ro||t instanceof Ze||t instanceof oB)}function QD(t,e,n){if(!pB(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=_g(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function ql(t,e,n){if((e=xn(e))instanceof nu)return e._internalPath;if("string"==typeof e)return Ig(t,e);throw Eg("Field path arguments must be of type string or ",t,!1,void 0,n)}const cue=new RegExp("[~\\*/\\[\\]]");function Ig(t,e,n){if(e.search(cue)>=0)throw Eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nu(...e.split("."))._internalPath}catch{throw Eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Eg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(I.INVALID_ARGUMENT,a+t+u)}function gB(t,e){return t.some(n=>n.isEqual(e))}class YD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class lue extends YD{data(){return super.data()}}function Dg(t,e){return"string"==typeof e?Ig(t,e):e instanceof nu?e._internalPath:e._delegate._internalPath}class XD{}class due extends XD{}function hue(t,e,...n){let r=[];e instanceof XD&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof iu).length,o=i.filter(a=>a instanceof Wl).length;if(s>1||s>0&&o>0)throw new b(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Wl extends due{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wl(e,n,r)}_apply(e){const n=this._parse(e);return wB(e._query,n),new Pt(e.firestore,e.converter,qE(e._query,n))}_parse(e){const n=ru(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new b(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){_B(l,c);const h=[];for(const f of l)h.push(vB(a,i,f));d={arrayValue:{values:h}}}else d=vB(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||_B(l,c),d=function hB(t,e,n,r=!1){return io(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return ie.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class iu extends XD{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new iu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:_e.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)wB(s,a),s=qE(s,a)}(e._query,n),new Pt(e.firestore,e.converter,qE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function vB(t,e,n){if("string"==typeof(n=xn(n))){if(""===n)throw new b(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GE(e)&&-1!==n.indexOf("/"))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ue.fromString(n));if(!x.isDocumentKey(r))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gs(t,new x(r))}if(n instanceof Ze)return Gs(t,n._key);throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_g(n)}.`)}function _B(t,e){if(!Array.isArray(t)||0===t.length)throw new b(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wB(t,e){if(e.isInequality()){const r=Hp(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new b(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=zE(t);null!==s&&function IB(t,e,n){if(!n.isEqual(e))throw new b(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new b(I.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fue{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new qD(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fp(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gl(e));default:return null}}convertTimestamp(e){const n=Gi(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ue.fromString(e);V(OU(r));const i=new zs(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||Ye(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class so{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class su extends YD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sg extends su{data(e={}){return super.data(e)}}class ou{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new so(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sg(this._firestore,this._userDataWriter,r.key,r,new so(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Sg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new so(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Sg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new so(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:gue(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gue(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class ns extends fue{constructor(e){super(),this.firestore=e}convertBytes(e){return new ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function mue(t,e){const n=se(t.firestore,Re),r=function Jae(t,e,...n){if(t=xn(t),1===arguments.length&&(e=fV.A()),zD("doc","path",e),t instanceof Hl){const r=ue.fromString(e,...n);return Jj(r),new Ze(t,null,new x(r))}{if(!(t instanceof Ze||t instanceof kr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return Jj(r),new Ze(t.firestore,t instanceof kr?t.converter:null,new x(r))}}(t),i=function ZD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function Kl(t,e){return function(n,r){const i=new lt;return n.asyncQueue.enqueueAndForget(_(function*(){return function wae(t,e,n){return(z2=z2||_(function*(r,i,s){const o=jD(r);try{const a=yield function(u,c){const l=M(u),d=Ve.now(),h=c.reduce((g,m)=>g.add(m.key),Z());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=_n(),y=Z();return l.Zi.getEntries(g,h).next(v=>{m=v,m.forEach((E,D)=>{D.isValidDocument()||(y=y.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,m)).next(v=>{f=v;const E=[];for(const D of c){const N=Kse(D,f.get(D.key).overlayedDocument);null!=N&&E.push(new di(D.key,N,LV(N.value.mapValue),Pe.exists(!0)))}return l.mutationQueue.addMutationBatch(g,d,E,c)}).next(v=>{p=v;const E=v.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,v.batchId,E)})}).then(()=>({batchId:p.batchId,changes:eU(f)}))}(o.localStore,i);o.sharedClientState.addPendingMutation(a.batchId),function(u,c,l){let d=u.Tc[u.currentUser.toKey()];d||(d=new Se(q)),d=d.insert(c,l),u.Tc[u.currentUser.toKey()]=d}(o,a.batchId,s),yield fi(o,a.changes),yield Ka(o.remoteStore)}catch(a){const u=Ya(a,"Failed to persist write");s.reject(u)}})).apply(this,arguments)}(yield function HD(t){return yg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(it(t),e)}(n,[WD(ru(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Pe.exists(!1))]).then(()=>r)}!function(t,e=!0){Ma=Cc,en(new Vt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Re(new Qie(n.getProvider("auth-internal")),new Jie(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Qe(lV,"3.13.0",t),Qe(lV,"3.13.0","esm2017")}();var xue={includeMetadataChanges:!1};function tT(t,e){return void 0===e&&(e=xue),new Oe(function(n){var r=function yue(t,...e){var n,r,i;t=xn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||GD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(GD(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Ze)c=se(t.firestore,Re),l=La(t._key.path),u={next:d=>{e[o]&&e[o](function eT(t,e,n){const r=n.docs.get(e._key),i=new ns(t);return new su(t,i,e._key,r,new so(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=se(t,Pt);c=se(d.firestore,Re),l=d._query;const h=new ns(c);u={next:f=>{e[o]&&e[o](new ou(c,h,d,f))},error:e[o+1],complete:e[o+2]},function mB(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new gg(p),m=new kD(h,g,f);return d.asyncQueue.enqueueAndForget(_(function*(){return function MD(t,e){return(U2=U2||_(function*(n,r){const i=M(n),s=r.query;let o=!1,a=i.queries.get(s);if(a||(o=!0,a=new cae),o)try{a.Nu=yield i.onListen(s)}catch(u){const c=Ya(u,`Initialization of query '${WE(r.query)}' failed`);return void r.onError(c)}i.queries.set(s,a),a.listeners.push(r),r.Mu(i.onlineState),a.Nu&&r.$u(a.Nu)&&ND(i)})).apply(this,arguments)}(yield tu(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(_(function*(){return function RD(t,e){return(j2=j2||_(function*(n,r){const i=M(n),s=r.query;let o=!1;const a=i.queries.get(s);if(a){const u=a.listeners.indexOf(r);u>=0&&(a.listeners.splice(u,1),o=0===a.listeners.length)}if(o)return i.queries.delete(s),i.onUnlisten(s)})).apply(this,arguments)}(yield tu(d),m)}))}}(it(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Lue(t,e){return void 0===e&&(e={}),function Oue(t){return tT(t,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}(t).pipe(re(function(n){return n.map(function(r){return function TB(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class xg{constructor(e){return e}}const AB="firestore",iT=new L("angularfire2.firestore-instances");function Uue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new xg(r)}}const jue={provide:class Fue{constructor(){return Zw(AB)}},deps:[[new ln,iT]]},Bue={provide:xg,useFactory:function Vue(t,e){const n=function Jw(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(AB,t,e);return n&&new xg(n)},deps:[[new ln,iT],va]};let $ue=(()=>{class t{constructor(){Qe("angularfire",zw.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=lr({type:t}),t.\u0275inj=qn({providers:[Bue,jue]}),t})();function Hue(t,...e){return{ngModule:$ue,providers:[{provide:iT,useFactory:Uue(t),multi:!0,deps:[ye,hn,q1,W1,[new ln,bL],[new ln,rF],...e]}]}}const zue=ya(Lue,!0),Gue=ya(mue,!0),que=ya(Xae,!0),Wue=ya(tue,!0),Kue=ya(hue,!0),{isArray:Yue}=Array,{getPrototypeOf:Xue,prototype:Jue,keys:Zue}=Object;const{isArray:nce}=Array;function sT(...t){const e=vu(t),n=function SH(t){return Ie(um(t))?t.pop():void 0}(t),{args:r,keys:i}=function ece(t){if(1===t.length){const e=t[0];if(Yue(e))return{args:e,keys:null};if(function tce(t){return t&&"object"==typeof t&&Xue(t)===Jue}(e)){const n=Zue(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return ht([],e);const s=new Oe(function oce(t,e,n=mi){return r=>{xB(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)xB(e,()=>{const c=ht(t[u],e);let l=!1;c.subscribe(ot(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function sce(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):mi));return n?s.pipe(function ice(t){return re(e=>function rce(t,e){return nce(e)?t(...e):t(e)}(t,e))}(n)):s}function xB(t,e,n){t?Lr(n,t,e):e()}const Mg=mu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oT(...t){return function ace(){return fo(1)}()(ht(t,vu(t)))}function MB(t){return new Oe(e=>{kn(t()).subscribe(e)})}function Ql(t,e){const n=Ie(t)?t:()=>t,r=i=>i.error(n());return new Oe(e?i=>e.schedule(r,0,i):r)}function aT(){return st((t,e)=>{let n=null;t._refCount++;const r=ot(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class RB extends Oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,FT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new sn;const n=this.getSubject();e.add(this.source.subscribe(ot(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=sn.EMPTY)}return e}refCount(){return aT()(this)}}function au(t){return t<=0?()=>ur:st((e,n)=>{let r=0;e.subscribe(ot(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Rg(t){return st((e,n)=>{let r=!1;e.subscribe(ot(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function NB(t=cce){return st((e,n)=>{let r=!1;e.subscribe(ot(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function cce(){return new Mg}function oo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xr((i,s)=>t(i,s,r)):mi,au(1),n?Rg(e):NB(()=>new Mg))}function ao(t){return st((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ot(n,void 0,void 0,o=>{s=kn(t(o,ao(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function uT(t){return t<=0?()=>ur:st((e,n)=>{let r=[];e.subscribe(ot(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}const ee="primary",Yl=Symbol("RouteTitle");class gce{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function uu(t){return new gce(t)}function mce(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Pr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!kB(t[i],e[i]))return!1;return!0}function kB(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function PB(t){return t.length>0?t[t.length-1]:null}function rs(t){return function Que(t){return!!t&&(t instanceof Oe||Ie(t.lift)&&Ie(t.subscribe))}(t)?t:Oh(t)?ht(Promise.resolve(t)):$(t)}const vce={exact:function FB(t,e,n){if(!uo(t.segments,e.segments)||!Ng(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!FB(t.children[r],e.children[r],n))return!1;return!0},subset:VB},OB={exact:function _ce(t,e){return Pr(t,e)},subset:function wce(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kB(t[n],e[n]))},ignored:()=>!0};function LB(t,e,n){return vce[n.paths](t.root,e.root,n.matrixParams)&&OB[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function VB(t,e,n){return UB(t,e,e.segments,n)}function UB(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!uo(i,n)||e.hasChildren()||!Ng(i,n,r))}if(t.segments.length===n.length){if(!uo(t.segments,n)||!Ng(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!VB(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(uo(t.segments,i)&&Ng(t.segments,i,r)&&t.children[ee])&&UB(t.children[ee],e,s,r)}}function Ng(t,e,n){return e.every((r,i)=>OB[n](t[i].parameters,r.parameters))}class cu{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uu(this.queryParams)),this._queryParamMap}toString(){return Dce.serialize(this)}}class we{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kg(this)}}class Xl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=uu(this.parameters)),this._parameterMap}toString(){return $B(this)}}function uo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Jl=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return new cT},providedIn:"root"}),e})();class cT{parse(e){const n=new Pce(e);return new cu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Zl(e.root,!0)}`,r=function Cce(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Pg(n)}=${Pg(i)}`).join("&"):`${Pg(n)}=${Pg(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Tce(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const Dce=new cT;function kg(t){return t.segments.map(e=>$B(e)).join("/")}function Zl(t,e){if(!t.hasChildren())return kg(t);if(e){const n=t.children[ee]?Zl(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ee&&r.push(`${i}:${Zl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Ece(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ee?[Zl(t.children[ee],!1)]:[`${i}:${Zl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ee]?`${kg(t)}/${n[0]}`:`${kg(t)}/(${n.join("//")})`}}function jB(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pg(t){return jB(t).replace(/%3B/gi,";")}function lT(t){return jB(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Og(t){return decodeURIComponent(t)}function BB(t){return Og(t.replace(/\+/g,"%20"))}function $B(t){return`${lT(t.path)}${function bce(t){return Object.keys(t).map(e=>`;${lT(e)}=${lT(t[e])}`).join("")}(t.parameters)}`}const Sce=/^[^\/()?;#]+/;function dT(t){const e=t.match(Sce);return e?e[0]:""}const Ace=/^[^\/()?;=#]+/,Mce=/^[^=?&#]+/,Nce=/^[^&#]+/;class Pce{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new we(e,n)),r}parseSegment(){const e=dT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Xl(Og(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function xce(t){const e=t.match(Ace);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=dT(this.remaining);i&&(r=i,this.capture(r))}e[Og(n)]=Og(r)}parseQueryParam(e){const n=function Rce(t){const e=t.match(Mce);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function kce(t){const e=t.match(Nce);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=BB(n),s=BB(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=dT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ee]:new we([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}}function HB(t){return t.segments.length>0?new we([],{[ee]:t}):t}function zB(t){const e={};for(const r of Object.keys(t.children)){const s=zB(t.children[r]);if(r===ee&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Oce(t){if(1===t.numberOfChildren&&t.children[ee]){const e=t.children[ee];return new we(t.segments.concat(e.segments),e.children)}return t}(new we(t.segments,e))}function co(t){return t instanceof cu}function GB(t){let e;const i=HB(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new we(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function qB(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return hT(i,i,i,n,r);const s=function Fce(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new KB(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new KB(n,e,r)}(e);if(s.toRoot())return hT(i,i,new we([],{}),n,r);const o=function Vce(t,e,n){if(t.isAbsolute)return new Fg(e,!0,0);if(!n)return new Fg(e,!1,NaN);if(null===n.parent)return new Fg(n,!0,0);const r=Lg(t.commands[0])?0:1;return function Uce(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Fg(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?td(o.segmentGroup,o.index,s.commands):QB(o.segmentGroup,o.index,s.commands);return hT(i,o.segmentGroup,a,n,r)}function Lg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ed(t){return"object"==typeof t&&null!=t&&t.outlets}function hT(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:WB(t,e,n);const a=HB(zB(o));return new cu(a,s,i)}function WB(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:WB(s,e,n)}),new we(t.segments,r)}class KB{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Lg(r[0]))throw new S(4003,!1);const i=r.find(ed);if(i&&i!==PB(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fg{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function QB(t,e,n){if(t||(t=new we([],{})),0===t.segments.length&&t.hasChildren())return td(t,e,n);const r=function Bce(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(ed(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!XB(u,c,o))return s;r+=2}else{if(!XB(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new we(t.segments.slice(0,r.pathIndex),{});return s.children[ee]=new we(t.segments.slice(r.pathIndex),t.children),td(s,0,i)}return r.match&&0===i.length?new we(t.segments,{}):r.match&&!t.hasChildren()?fT(t,e,n):r.match?td(t,0,i):fT(t,e,n)}function td(t,e,n){if(0===n.length)return new we(t.segments,{});{const r=function jce(t){return ed(t[0])?t[0].outlets:{[ee]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ee)&&t.children[ee]&&1===t.numberOfChildren&&0===t.children[ee].segments.length){const s=td(t.children[ee],e,n);return new we(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=QB(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new we(t.segments,i)}}function fT(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ed(s)){const u=$ce(s.outlets);return new we(r,u)}if(0===i&&Lg(n[0])){r.push(new Xl(t.segments[e].path,YB(n[0]))),i++;continue}const o=ed(s)?s.outlets[ee]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Lg(a)?(r.push(new Xl(o,YB(a))),i+=2):(r.push(new Xl(o,{})),i++)}return new we(r,{})}function $ce(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=fT(new we([],{}),0,r))}),e}function YB(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function XB(t,e,n){return t==n.path&&Pr(e,n.parameters)}const nd="imperative";class Or{constructor(e,n){this.id=e,this.url=n}}class Vg extends Or{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class is extends Or{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rd extends Or{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lu extends Or{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Ug extends Or{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class JB extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hce extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zce extends Or{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gce extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qce extends Or{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wce{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kce{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qce{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yce{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xce{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jce{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZB{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pT{}class gT{constructor(e){this.url=e}}class Zce{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new id,this.attachRef=null}}let id=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Zce,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class e${constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=mT(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=mT(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=yT(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yT(e,this._root).map(n=>n.value)}}function mT(t,e){if(t===e.value)return e;for(const n of e.children){const r=mT(t,n);if(r)return r}return null}function yT(t,e){if(t===e.value)return[e];for(const n of e.children){const r=yT(t,n);if(r.length)return r.unshift(e),r}return[]}class pi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function du(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class t$ extends e${constructor(e,n){super(e),this.snapshot=n,vT(this,e)}toString(){return this.snapshot.toString()}}function n$(t,e){const n=function ele(t,e){const o=new jg([],{},{},"",{},ee,e,null,{});return new i$("",new pi(o,[]))}(0,e),r=new Pn([new Xl("",{})]),i=new Pn({}),s=new Pn({}),o=new Pn({}),a=new Pn(""),u=new lo(r,i,o,a,s,ee,e,n.root);return u.snapshot=n.root,new t$(new pi(u,[]),n)}class lo{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(c=>c[Yl]))??$(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>uu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>uu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function r$(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function tle(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class jg{get title(){return this.data?.[Yl]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class i$ extends e${constructor(e,n){super(n),this.url=e,vT(this,n)}toString(){return s$(this._root)}}function vT(t,e){e.value._routerState=t,e.children.forEach(n=>vT(t,n))}function s$(t){const e=t.children.length>0?` { ${t.children.map(s$).join(", ")} } `:"";return`${t.value}${e}`}function _T(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Pr(e.params,n.params)||t.paramsSubject.next(n.params),function yce(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Pr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function wT(t,e){const n=Pr(t.params,e.params)&&function Ice(t,e){return uo(t,e)&&t.every((n,r)=>Pr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||wT(t.parent,e.parent))}let IT=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new Yt,this.deactivateEvents=new Yt,this.attachEvents=new Yt,this.detachEvents=new Yt,this.parentContexts=P(id),this.location=P(Zn),this.changeDetector=P(n_),this.environmentInjector=P(Tn),this.inputBinder=P(Bg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new nle(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=zt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ls]}),e})();class nle{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===lo?this.route:e===id?this.childContexts:this.parent.get(e,n)}}const Bg=new L("");let o$=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=sT([i.queryParams,i.params,i.data]).pipe(Gn(([o,a,u],c)=>(u={...o,...a,...u},0===c?$(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function M7(t){const e=oe(t);if(!e)return null;const n=new ec(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();function sd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function ile(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return sd(t,r,i);return sd(t,r)})}(t,e,n);return new pi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>sd(t,a)),o}}const r=function sle(t){return new lo(new Pn(t.url),new Pn(t.params),new Pn(t.queryParams),new Pn(t.fragment),new Pn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>sd(t,s));return new pi(r,i)}}const ET="ngNavigationCancelingError";function a$(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=u$(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function u$(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[ET]=!0,r.cancellationCode=e,n&&(r.url=n),r}function c$(t){return t&&t[ET]}let l$=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=go({type:t,selectors:[["ng-component"]],standalone:!0,features:[bx],decls:1,vars:0,template:function(r,i){1&r&&Si(0,"router-outlet")},dependencies:[IT],encapsulation:2}),e})();function DT(t){const e=t.children&&t.children.map(DT),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=l$),n}function ar(t){return t.outlet||ee}function od(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class fle{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),_T(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=du(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=du(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=du(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=du(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Jce(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Yce(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(_T(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),_T(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=od(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class d${constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class $g{constructor(e,n){this.component=e,this.route=n}}function ple(t,e,n){const r=t._root;return ad(r,e?e._root:null,n,[r.value])}function hu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function zH(t){return null!==wd(t)}(t)?e.get(t):t:r}function ad(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=du(e);return t.children.forEach(o=>{(function mle(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function yle(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!uo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!uo(t.url,e.url)||!Pr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wT(t,e)||!Pr(t.queryParams,e.queryParams);default:return!wT(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new d$(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ad(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $g(a.outlet.component,o))}else o&&ud(e,a,i),i.canActivateChecks.push(new d$(r)),ad(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ud(a,n.getContext(o),i)),i}function ud(t,e,n){const r=du(t),i=t.value;Object.entries(r).forEach(([s,o])=>{ud(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new $g(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function cd(t){return"function"==typeof t}function h$(t){return t instanceof Mg||"EmptyError"===t?.name}const Hg=Symbol("INITIAL_VALUE");function fu(){return Gn(t=>sT(t.map(e=>e.pipe(au(1),function uce(...t){const e=vu(t);return st((n,r)=>{(e?oT(t,n,e):oT(t,n)).subscribe(r)})}(Hg)))).pipe(re(e=>{for(const n of e)if(!0!==n){if(n===Hg)return Hg;if(!1===n||n instanceof cu)return n}return!0}),Xr(e=>e!==Hg),au(1)))}function f$(t){return function q$(...t){return PT(t)}(At(e=>{if(co(e))throw a$(0,e)}),re(e=>!0===e))}class zg{constructor(e){this.segmentGroup=e||null}}class p${constructor(e){this.urlTree=e}}function pu(t){return Ql(new zg(t))}function g$(t){return Ql(new p$(t))}class Fle{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new S(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $(r);if(i.numberOfChildren>1||!i.children[ee])return Ql(new S(4e3,!1));i=i.children[ee]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new cu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new we(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const TT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vle(t,e,n,r,i){const s=bT(t,e,n);return s.matched?(r=function ale(t,e){return t.providers&&!t._injector&&(t._injector=Mv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Ple(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?$(i.map(o=>{const a=hu(o,t);return rs(function Dle(t){return t&&cd(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(fu(),f$()):$(!0)}(r,e,n).pipe(re(o=>!0===o?s:{...TT}))):$(s)}function bT(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...TT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||mce)(n,t,e);if(!i)return{...TT};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function m$(t,e,n,r){return n.length>0&&function Ble(t,e,n){return n.some(r=>Gg(t,e,r)&&ar(r)!==ee)}(t,n,r)?{segmentGroup:new we(e,jle(r,new we(n,t.children))),slicedSegments:[]}:0===n.length&&function $le(t,e,n){return n.some(r=>Gg(t,e,r))}(t,n,r)?{segmentGroup:new we(t.segments,Ule(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function Ule(t,e,n,r,i){const s={};for(const o of r)if(Gg(t,n,o)&&!i[ar(o)]){const a=new we([],{});s[ar(o)]=a}return{...i,...s}}function jle(t,e){const n={};n[ee]=e;for(const r of t)if(""===r.path&&ar(r)!==ee){const i=new we([],{});n[ar(r)]=i}return n}function Gg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class qle{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Fle(this.urlSerializer,this.urlTree)}noMatchError(e){return new S(4002,!1)}recognize(){const e=m$(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(ao(n=>{if(n instanceof p$)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof zg?this.noMatchError(n):n}),re(n=>{const r=new jg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),i=new pi(r,n),s=new i$("",i),o=function Lce(t,e,n=null,r=null){return qB(GB(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ee).pipe(ao(r=>{throw r instanceof zg?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=r$(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ht(i).pipe(la(s=>{const o=r.children[s],a=function dle(t,e){const n=t.filter(r=>ar(r)===e);return n.push(...t.filter(r=>ar(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function dce(t,e){return st(function lce(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ot(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Rg(null),function hce(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xr((i,s)=>t(i,s,r)):mi,uT(1),n?Rg(e):NB(()=>new Mg))}(),Et(s=>{if(null===s)return pu(r);const o=y$(s);return function Wle(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}(o),$(o)}))}processSegment(e,n,r,i,s,o){return ht(n).pipe(la(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ao(u=>{if(u instanceof zg)return $(null);throw u}))),oo(a=>!!a),ao(a=>{if(h$(a))return function zle(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?$([]):pu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Hle(t,e,n,r){return!!(ar(t)===r||r!==ee&&Gg(e,n,t))&&("**"===t.path||bT(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):pu(i):pu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?g$(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Et(o=>{const a=new we(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=bT(n,i,s);if(!a)return pu(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?g$(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Et(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?PB(i).parameters:{};a=$({snapshot:new jg(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,v$(r),ar(r),r.component??r._loadedComponent??null,r,_$(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Vle(n,r,i,e).pipe(re(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new jg(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,v$(r),ar(r),r.component??r._loadedComponent??null,r,_$(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Gn(u=>null===u?pu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Gn(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=m$(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(re(y=>null===y?null:[new pi(d,y)]));if(0===c.length&&0===g.length)return $([new pi(d,[])]);const m=ar(r)===s;return this.processSegment(l,c,p,g,m?ee:s,!0).pipe(re(y=>[new pi(d,y)]))}))))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?$({routes:n._loadedRoutes,injector:n._loadedInjector}):function kle(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?$(!0):$(i.map(o=>{const a=hu(o,t);return rs(function _le(t){return t&&cd(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(fu(),f$())}(e,n,r).pipe(Et(i=>i?this.configLoader.loadChildren(e,n).pipe(At(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Lle(t){return Ql(u$(!1,3))}())):$({routes:[],injector:e})}}function Kle(t){const e=t.value.routeConfig;return e&&""===e.path}function y$(t){const e=[],n=new Set;for(const r of t){if(!Kle(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=y$(r.children);e.push(new pi(r.value,i))}return e.filter(r=>!n.has(r))}function v$(t){return t.data||{}}function _$(t){return t.resolve||{}}function w$(t){return"string"==typeof t.title||null===t.title}function CT(t){return Gn(e=>{const n=t(e);return n?ht(n).pipe(re(()=>e)):$(e)})}const gu=new L("ROUTES");let ST=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(_M)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return $(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=rs(r.loadComponent()).pipe(re(I$),At(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ec(()=>{this.componentLoaders.delete(r)})),s=new RB(i,()=>new zn).pipe(aT());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(re(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,l;return Array.isArray(u)?l=u:(c=u.create(r).injector,l=c.get(gu,[],te.Self|te.Optional).flat()),{routes:l.map(DT),injector:c}}),Ec(()=>{this.childrenLoaders.delete(i)})),a=new RB(o,()=>new zn).pipe(aT());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(r){return rs(r()).pipe(re(I$),Et(i=>i instanceof Dx||Array.isArray(i)?$(i):ht(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function I$(t){return function tde(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let qg=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new zn,this.transitionAbortSubject=new zn,this.configLoader=P(ST),this.environmentInjector=P(Tn),this.urlSerializer=P(Jl),this.rootContexts=P(id),this.inputBindingEnabled=null!==P(Bg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Kce(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Wce(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new Pn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nd,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xr(o=>0!==o.id),re(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),Gn(o=>{this.currentTransition=o;let a=!1,u=!1;return $(o).pipe(At(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Gn(c=>{const l=c.currentBrowserUrl.toString(),d=!r.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const f="";return this.events.next(new lu(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),ur}if(r.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return $(c).pipe(Gn(f=>{const p=this.transitions?.getValue();return this.events.next(new Vg(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?ur:Promise.resolve(f)}),function Qle(t,e,n,r,i,s){return Et(o=>function Gle(t,e,n,r,i,s,o="emptyOnly"){return new qle(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(re(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),At(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const p=new JB(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:p,source:g,restoredState:m,extras:y}=c,v=new Vg(f,this.urlSerializer.serialize(p),g,m);this.events.next(v);const E=n$(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:E,urlAfterRedirects:p,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},$(o)}{const f="";return this.events.next(new lu(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),ur}}),At(c=>{const l=new Hce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),re(c=>(this.currentTransition=o={...c,guards:ple(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function ble(t,e){return Et(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?$({...n,guardsResult:!0}):function Cle(t,e,n,r){return ht(t).pipe(Et(i=>function Nle(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?$(s.map(a=>{const u=od(e)??i,c=hu(a,u);return rs(function Ele(t){return t&&cd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(oo())})).pipe(fu()):$(!0)}(i.component,i.route,n,e,r)),oo(i=>!0!==i,!0))}(o,r,i,t).pipe(Et(a=>a&&function vle(t){return"boolean"==typeof t}(a)?function Sle(t,e,n,r){return ht(e).pipe(la(i=>oT(function xle(t,e){return null!==t&&e&&e(new Qce(t)),$(!0)}(i.route.parent,r),function Ale(t,e){return null!==t&&e&&e(new Xce(t)),$(!0)}(i.route,r),function Rle(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function gle(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>MB(()=>$(o.guards.map(u=>{const c=od(o.node)??n,l=hu(u,c);return rs(function Ile(t){return t&&cd(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(oo())})).pipe(fu())));return $(s).pipe(fu())}(t,i.path,n),function Mle(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return $(!0);const i=r.map(s=>MB(()=>{const o=od(e)??n,a=hu(s,o);return rs(function wle(t){return t&&cd(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(oo())}));return $(i).pipe(fu())}(t,i.route,n))),oo(i=>!0!==i,!0))}(r,s,t,e):$(a)),re(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),At(c=>{if(o.guardsResult=c.guardsResult,co(c.guardsResult))throw a$(0,c.guardsResult);const l=new zce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Xr(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),CT(c=>{if(c.guards.canActivateChecks.length)return $(c).pipe(At(l=>{const d=new Gce(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Gn(l=>{let d=!1;return $(l).pipe(function Yle(t,e){return Et(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=0;return ht(i).pipe(la(o=>function Xle(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!w$(i)&&(s[Yl]=i.title),function Jle(t,e,n,r){const i=function Zle(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return $({});const s={};return ht(i).pipe(Et(o=>function ede(t,e,n,r){const i=od(e)??r,s=hu(t,i);return rs(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(oo(),At(a=>{s[o]=a}))),uT(1),function fce(t){return re(()=>t)}(s),ao(o=>h$(o)?ur:Ql(o)))}(s,t,e,r).pipe(re(o=>(t._resolvedData=o,t.data=r$(t,n).resolve,i&&w$(i)&&(t.data[Yl]=i.title),null)))}(o.route,r,t,e)),At(()=>s++),uT(1),Et(o=>s===i.length?$(n):ur))})}(r.paramsInheritanceStrategy,this.environmentInjector),At({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),At(l=>{const d=new qce(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),CT(c=>{const l=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(At(f=>{d.component=f}),re(()=>{})));for(const f of d.children)h.push(...l(f));return h};return sT(l(c.targetSnapshot.root)).pipe(Rg(),au(1))}),CT(()=>this.afterPreactivation()),re(c=>{const l=function rle(t,e,n){const r=sd(t,e._root,n?n._root:void 0);return new t$(r,e)}(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),At(()=>{this.events.next(new pT)}),((t,e,n,r)=>re(i=>(new fle(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),au(1),At({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new is(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),r.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),function pce(t){return st((e,n)=>{kn(t).subscribe(ot(n,()=>n.complete(),Xg)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(At(c=>{throw c}))),Ec(()=>{a||u||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ao(c=>{if(u=!0,c$(c))this.events.next(new rd(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function ole(t){return c$(t)&&co(t.url)}(c)?this.events.next(new gT(c.url)):o.resolve(!1);else{this.events.next(new Ug(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(l){o.reject(l)}}return ur}))}))}cancelNavigationTransition(r,i,s){const o=new rd(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function E$(t){return t!==nd}let D$=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ee);return i}getResolvedTitleForRoute(r){return r.data[Yl]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(nde)},providedIn:"root"}),e})(),nde=(()=>{var t;class e extends D${constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(F(BR))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),rde=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(sde)},providedIn:"root"}),e})();class ide{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let sde=(()=>{var t;class e extends ide{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=function TC(t){return Fr(()=>{const e=t.prototype.constructor,n=e[Vr]||Qm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Vr]||Qm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Wg=new L("",{providedIn:"root",factory:()=>({})});let ode=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:function(){return P(ade)},providedIn:"root"}),e})(),ade=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var ld=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ld||{});function T$(t,e){t.events.pipe(Xr(n=>n instanceof is||n instanceof rd||n instanceof Ug||n instanceof lu),re(n=>n instanceof is||n instanceof lu?ld.COMPLETE:n instanceof rd&&(0===n.code||1===n.code)?ld.REDIRECTING:ld.FAILED),Xr(n=>n!==ld.REDIRECTING),au(1)).subscribe(()=>{e()})}function ude(t){throw t}function cde(t,e,n){return e.parse("/")}const lde={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dde={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hn=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=P(vM),this.isNgZoneEnabled=!1,this._events=new zn,this.options=P(Wg,{optional:!0})||{},this.pendingTasks=P(Wh),this.errorHandler=this.options.errorHandler||ude,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||cde,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=P(ode),this.routeReuseStrategy=P(rde),this.titleStrategy=P(D$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=P(gu,{optional:!0})?.flat()??[],this.navigationTransitions=P(qg),this.urlSerializer=P(Jl),this.location=P(h_),this.componentInputBindingEnabled=!!P(Bg,{optional:!0}),this.eventsSubscription=new sn,this.isNgZoneEnabled=P(ye)instanceof ye&&ye.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new cu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=n$(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(b$(i)&&this._events.next(i));if(i instanceof Vg)E$(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof lu)this.rawUrlTree=s.rawUrl;else if(i instanceof JB){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof pT)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof rd)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof gT){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||E$(s.source)};this.scheduleNavigation(o,nd,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof Ug&&this.restoreHistory(s,!0),i instanceof is&&(this.navigated=!0),b$(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),nd,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(DT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a;let h,d=null;switch(u){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=GB(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return qB(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=co(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,nd,null,i)}navigate(r,i={skipLocationChange:!1}){return function hde(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new S(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...lde}:!1===i?{...dde}:i,co(r))return LB(this.currentUrlTree,r,s);const o=this.parseUrl(r);return LB(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,f)=>{u=h,c=f});const d=this.pendingTasks.add();return T$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function b$(t){return!(t instanceof pT||t instanceof gT)}let Kg=(()=>{var t;class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new zn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof is&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||s||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function D0(t,e,n){return function KG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?E0:lh}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const s=this.renderer,o=this.el.nativeElement;null!==i?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(B(Hn),B(lo),function Gd(t){return function pz(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(db(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Ct(),t)}("tabindex"),B(Eh),B(Ci),B(Es))},t.\u0275dir=zt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Lh("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&sv("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",u_],skipLocationChange:["skipLocationChange","skipLocationChange",u_],replaceUrl:["replaceUrl","replaceUrl",u_],routerLink:"routerLink"},standalone:!0,features:[FS,ls]}),e})();class C${}let gde=(()=>{var t;class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Xr(r=>r instanceof is),la(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Mv(o.providers,r,`Route: ${o.path}`));const a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return ht(s).pipe(fo())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):$(null);const o=s.pipe(Et(a=>null===a?$(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?ht([o,this.loader.loadComponent(i)]).pipe(fo()):o})}}return(t=e).\u0275fac=function(r){return new(r||t)(F(Hn),F(_M),F(Tn),F(C$),F(ST))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const AT=new L("");let S$=(()=>{var t;class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Vg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof is?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof lu&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ZB&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ZB(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function cS(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),e})();function gi(t,e){return{\u0275kind:t,\u0275providers:e}}function x$(){const t=P(hn);return e=>{const n=t.get(aa);if(e!==n.components[0])return;const r=t.get(Hn),i=t.get(M$);1===t.get(xT)&&r.initialNavigation(),t.get(R$,null,te.Optional)?.setUpPreloading(),t.get(AT,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const M$=new L("",{factory:()=>new zn}),xT=new L("",{providedIn:"root",factory:()=>1}),R$=new L("");function _de(t){return gi(0,[{provide:R$,useExisting:gde},{provide:C$,useExisting:t}])}const N$=new L("ROUTER_FORROOT_GUARD"),Ide=[h_,{provide:Jl,useClass:cT},Hn,id,{provide:lo,useFactory:function A$(t){return t.routerState.root},deps:[Hn]},ST,[]];function Ede(){return new CM("Router",Hn)}let k$=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Ide,[],{provide:gu,multi:!0,useValue:r},{provide:N$,useFactory:Cde,deps:[[Hn,new ln,new Kd]]},{provide:Wg,useValue:i||{}},i?.useHash?{provide:Es,useClass:O7}:{provide:Es,useClass:nR},{provide:AT,useFactory:()=>{const t=P(J8),e=P(ye),n=P(Wg),r=P(qg),i=P(Jl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new S$(i,r,t,e,n)}},i?.preloadingStrategy?_de(i.preloadingStrategy).\u0275providers:[],{provide:CM,multi:!0,useFactory:Ede},i?.initialNavigation?Sde(i):[],i?.bindToComponentInputs?gi(8,[o$,{provide:Bg,useExisting:o$}]).\u0275providers:[],[{provide:P$,useFactory:x$},{provide:e_,multi:!0,useExisting:P$}]]}}static forChild(r){return{ngModule:e,providers:[{provide:gu,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(F(N$,8))},t.\u0275mod=lr({type:t}),t.\u0275inj=qn({}),e})();function Cde(t){return"guarded"}function Sde(t){return["disabled"===t.initialNavigation?gi(3,[{provide:qv,multi:!0,useFactory:()=>{const e=P(Hn);return()=>{e.setUpLocationChangeListener()}}},{provide:xT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?gi(2,[{provide:xT,useValue:0},{provide:qv,multi:!0,deps:[hn],useFactory:e=>{const n=e.get(k7,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Hn),s=e.get(M$);T$(i,()=>{r(!0)}),e.get(qg).afterPreactivation=()=>(r(!0),s.closed?$(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const P$=new L("");let xde=(()=>{var t;class e{constructor(){this.title="watchlist-app"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=go({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&(ke(0,"body"),Si(1,"router-outlet"),We())},dependencies:[IT]}),e})();const Mde=function(t){return["movie-details/",t]};let Rde=(()=>{var t;class e{ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=go({type:t,selectors:[["app-movie"]],inputs:{movie:"movie"},decls:5,vars:6,consts:[[3,"routerLink"],[3,"src","alt"]],template:function(r,i){1&r&&(ke(0,"section")(1,"a",0),Si(2,"img",1),ke(3,"span"),ft(4),We()()()),2&r&&(fn(1),ys("routerLink",function Nx(t,e,n,r){return kx(T(),Wt(),t,e,n,r)}(4,Mde,i.movie.id)),fn(1),Fh("src",i.movie.imagePath,lh),oc("alt","",i.movie.title," Poster"),fn(2),xi(i.movie.title))},dependencies:[Kg],styles:["section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}a[_ngcontent-%COMP%]{text-decoration:none;text-align:center}section[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}img[_ngcontent-%COMP%]{object-fit:contain;max-width:150px;padding:0 5px;margin-bottom:10px}"]}),e})(),O$=(()=>{var t;class e{constructor(r){this.http=r,this.singleMovies=new Map,this.getAllMovies()}getAllMovies(){if(void 0!==this.movies)return this.movies;const r=this.http.get("assets/data/movies.json",{responseType:"json"});return this.movies=r.pipe(re(i=>i.results.map(s=>this.mapToMovie(s)))),this.movies}mapToMovie(r){return{id:r.id,title:r.title,overview:r.overview,imagePath:`https://image.tmdb.org/t/p/w220_and_h330_face${r.poster_path}`,releaseDate:r.release_date,genreIds:r.genre_ids}}getMovieById(r){if(this.singleMovies.has(r))return this.singleMovies.get(r);const i=this.getAllMovies().pipe(re(s=>s.filter(a=>a.id===r)[0]));return this.singleMovies.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(F(YR))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Nde(t,e){if(1&t&&(ke(0,"li"),Si(1,"app-movie",1),We()),2&t){const n=e.$implicit;fn(1),ys("movie",n)}}let L$=(()=>{var t;class e{constructor(r){this.movieService=r}ngOnInit(){this.movies=this.movieService.getAllMovies()}}return(t=e).\u0275fac=function(r){return new(r||t)(B(O$))},t.\u0275cmp=go({type:t,selectors:[["app-movie-list"]],decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"movie"]],template:function(r,i){1&r&&(ke(0,"ul"),sc(1,Nde,2,1,"li",0),Nv(2,"async"),We()),2&r&&(fn(1),ys("ngForOf",kv(2,1,i.movies)))},styles:["ul[_ngcontent-%COMP%]{display:flex;overflow:auto;list-style-type:none;margin:0;margin-block:0;padding-inline:0}li[_ngcontent-%COMP%]{flex-direction:row}"]}),e})(),kde=(()=>{var t;class e{constructor(r){this.firestore=r,this.reviewCollection=que(this.firestore,"reviews")}getAllReviews(){const r=Kue(this.reviewCollection);return this.reviews=zue(r).pipe(re(i=>i.map(s=>this.mapToReview(s)))),this.reviews}getReviewsForMovie(r){return this.getAllReviews(),this.reviews.pipe(re(i=>i.filter(s=>s.movieId===r)))}mapToReview(r){return{content:r.content,rating:r.rating,movieId:r.movieId,date:r.date}}addReview(r){var i=this;return _(function*(){console.log(`Adding review from: ${r}`);const s=yield Gue(i.reviewCollection,r);return console.log(s),s})()}}return(t=e).\u0275fac=function(r){return new(r||t)(F(xg))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Pde(t,e){if(1&t&&(ke(0,"div",14)(1,"span"),ft(2),We(),ke(3,"p"),ft(4),We()()),2&t){const n=e.$implicit;fn(2),Iv("Rating: ",n.rating,", Posted On: ",n.date,""),fn(2),xi(n.content)}}function Ode(t,e){if(1&t){const n=function tA(){return T()}();ke(0,"div"),Si(1,"img",2),ke(2,"div"),ft(3),We(),ke(4,"div"),ft(5),We(),ke(6,"div"),ft(7),We(),ke(8,"div"),ft(9),We(),ke(10,"div",3)(11,"h3"),ft(12,"Reviews"),We(),sc(13,Pde,5,3,"div",4),Nv(14,"async"),ke(15,"h4"),ft(16,"Leave a Review:"),We(),ke(17,"span"),ft(18,"Select a Rating: "),ke(19,"select",null,5)(21,"option",6),ft(22,"1"),We(),ke(23,"option",7),ft(24,"2"),We(),ke(25,"option",8),ft(26,"3"),We(),ke(27,"option",9),ft(28,"4"),We(),ke(29,"option",10),ft(30,"5"),We()()(),Si(31,"textarea",11,12),ke(33,"button",13),Lh("click",function(){!function Zb(t){return z.lFrame.contextLView=t,t[Ge]}(n);const i=dv(20),s=dv(32);return function eC(t){return z.lFrame.contextLView=null,t}(gv().postReview(i.value,s.value))}),ft(34,"Post Review"),We()()()}if(2&t){const n=gv();fn(1),Fh("src",n.movie.imagePath,lh),oc("alt","",n.movie.title," Poster"),fn(2),xi(n.movie.title),fn(2),xi(n.movie.overview),fn(2),xi(n.movie.releaseDate),fn(2),xi(n.movie.genreIds),fn(4),ys("ngForOf",kv(14,7,n.reviews))}}function Lde(t,e){1&t&&ft(0,"Looking for movie...")}const Fde=[{path:"",component:L$,title:"Watchlist Homepage"},{path:"movie-details/:id",component:(()=>{var t;class e{constructor(r,i){this.movieService=r,this.reviewService=i,this.route=P(lo),this.movieId=Number(this.route.snapshot.params.id)}postReview(r,i){const s=Number(r),o=new Date,a=`${o.getUTCMonth()+1}/${o.getUTCDate()}/${o.getUTCFullYear()}`,u={content:i,rating:s,movieId:this.movieId,date:a};console.log("Review To Be Posted:"),console.log(u),this.reviewService.addReview(u)}ngOnInit(){this.movieService.getMovieById(this.movieId).subscribe(r=>{this.movie=r}),this.reviews=this.reviewService.getReviewsForMovie(this.movieId)}}return(t=e).\u0275fac=function(r){return new(r||t)(B(O$),B(kde))},t.\u0275cmp=go({type:t,selectors:[["app-movie-details"]],decls:3,vars:1,consts:[[4,"ngIfElseBlock","ngIf"],["elseBlock",""],[3,"src","alt"],["id","reviewSection"],["class","review",4,"ngFor","ngForOf"],["rating",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["id","reviewText","placeholder","Type your review here...","rows","5","cols","60"],["content",""],[3,"click"],[1,"review"]],template:function(r,i){1&r&&(sc(0,Ode,35,9,"div",0),sc(1,Lde,1,0,"ng-template",null,1,tM)),2&r&&ys("ngIf",i.movie)},dependencies:[D_,mR,C_],styles:["#rating[_ngcontent-%COMP%], #reviewText[_ngcontent-%COMP%]{display:block}.review[_ngcontent-%COMP%]{max-width:30%;border-top:1px solid black;padding:10px;background-color:#f5f5f5}.review[_ngcontent-%COMP%]:last-of-type{border-bottom:1px solid black}"]}),e})()}];let Vde=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=lr({type:t}),t.\u0275inj=qn({imports:[wR,k$.forRoot(Fde,{useHash:!0}),k$]}),e})();const Ude_firebase={apiKey:"AIzaSyDDpux_ld3EHARIZoCKIxVLI0L1MHe3LpA",authDomain:"donnelly-senior-project.firebaseapp.com",projectId:"donnelly-senior-project",storageBucket:"donnelly-senior-project.appspot.com",messagingSenderId:"234151376055",appId:"1:234151376055:web:eb279755d5f655bbcd0932",measurementId:"G-DR4DWEXXFM"};let jde=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=lr({type:t,bootstrap:[xde]}),t.\u0275inj=qn({imports:[GK,IQ,Vde,Dee(()=>Tee(Ude_firebase)),Hue(()=>Wue())]}),e})();(function vb(t,e,n){const r=t.\u0275cmp;r.directiveDefs=Sd(e,!1),r.pipeDefs=Sd(n,!0)})(L$,function(){return[D_,Rde]},function(){return[C_]}),HK().bootstrapModule(jde).catch(t=>console.error(t))}},Ie=>{Ie(Ie.s=38)}]);