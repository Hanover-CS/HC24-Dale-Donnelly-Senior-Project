"use strict";(self.webpackChunkwatchlist_app=self.webpackChunkwatchlist_app||[]).push([[179],{657:()=>{function Ae(t){return"function"==typeof t}function zu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Wd=zu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Lo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class In{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(s){e=s instanceof Wd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Lb(s)}catch(o){e=e??[],o instanceof Wd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Wd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Lb(e);else{if(e instanceof In){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Lo(n,e)}remove(e){const{_finalizers:n}=this;n&&Lo(n,e),e instanceof In&&e._removeParent(this)}}In.EMPTY=(()=>{const t=new In;return t.closed=!0,t})();const Ob=In.EMPTY;function Fb(t){return t instanceof In||t&&"closed"in t&&Ae(t.remove)&&Ae(t.add)&&Ae(t.unsubscribe)}function Lb(t){Ae(t)?t():t.unsubscribe()}const Ss={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Kd={setTimeout(t,e,...n){const{delegate:r}=Kd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Kd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Vb(t){Kd.setTimeout(()=>{const{onUnhandledError:e}=Ss;if(!e)throw t;e(t)})}function Hm(){}const W4=Gm("C",void 0,void 0);function Gm(t,e,n){return{kind:t,value:e,error:n}}let As=null;function Qd(t){if(Ss.useDeprecatedSynchronousErrorHandling){const e=!As;if(e&&(As={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=As;if(As=null,n)throw r}}else t()}class zm extends In{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fb(e)&&e.add(this)):this.destination=eG}static create(e,n,r){return new qu(e,n,r)}next(e){this.isStopped?Wm(function Q4(t){return Gm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Wm(function K4(t){return Gm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wm(W4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const X4=Function.prototype.bind;function qm(t,e){return X4.call(t,e)}class J4{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Yd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Yd(r)}else Yd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Yd(n)}}}class qu extends zm{constructor(e,n,r){let i;if(super(),Ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ss.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qm(e.next,s),error:e.error&&qm(e.error,s),complete:e.complete&&qm(e.complete,s)}):i=e}this.destination=new J4(i)}}function Yd(t){Ss.useDeprecatedSynchronousErrorHandling?function Y4(t){Ss.useDeprecatedSynchronousErrorHandling&&As&&(As.errorThrown=!0,As.error=t)}(t):Vb(t)}function Wm(t,e){const{onStoppedNotification:n}=Ss;n&&Kd.setTimeout(()=>n(t,e))}const eG={closed:!0,next:Hm,error:function Z4(t){throw t},complete:Hm},Km="function"==typeof Symbol&&Symbol.observable||"@@observable";function Li(t){return t}function Ub(t){return 0===t.length?Li:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ge=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function rG(t){return t&&t instanceof zm||function nG(t){return t&&Ae(t.next)&&Ae(t.error)&&Ae(t.complete)}(t)&&Fb(t)}(n)?n:new qu(n,r,i);return Qd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Bb(r))((i,s)=>{const o=new qu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Km](){return this}pipe(...n){return Ub(n)(this)}toPromise(n){return new(n=Bb(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Bb(t){var e;return null!==(e=t??Ss.Promise)&&void 0!==e?e:Promise}const iG=zu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ur=(()=>{class t extends Ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new jb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new iG}next(n){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Ob:(this.currentObservers=null,s.push(n),new In(()=>{this.currentObservers=null,Lo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ge;return n.source=this,n}}return t.create=(e,n)=>new jb(e,n),t})();class jb extends ur{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Ob}}function $b(t){return Ae(t?.lift)}function _t(t){return e=>{if($b(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(t,e,n,r,i){return new sG(t,e,n,r,i)}class sG extends zm{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function se(t,e){return _t((n,r)=>{let i=0;n.subscribe(ft(r,s=>{r.next(t.call(e,s,i++))}))})}function Xm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Vi(t){return this instanceof Vi?(this.v=t,this):new Vi(t)}function qb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Zm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Wb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Kb(t){return Ae(t?.then)}function Qb(t){return Ae(t[Km])}function Yb(t){return Symbol.asyncIterator&&Ae(t?.[Symbol.asyncIterator])}function Xb(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Jb=function TG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Zb(t){return Ae(t?.[Jb])}function eT(t){return function zb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Vi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Vi(n.read());if(i)return yield Vi(void 0);yield yield Vi(r)}}finally{n.releaseLock()}})}function tT(t){return Ae(t?.getReader)}function Pn(t){if(t instanceof Ge)return t;if(null!=t){if(Qb(t))return function SG(t){return new Ge(e=>{const n=t[Km]();if(Ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Wb(t))return function AG(t){return new Ge(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Kb(t))return function MG(t){return new Ge(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Vb)})}(t);if(Yb(t))return nT(t);if(Zb(t))return function xG(t){return new Ge(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(tT(t))return function RG(t){return nT(eT(t))}(t)}throw Xb(t)}function nT(t){return new Ge(e=>{(function NG(t,e){var n,r,i,s;return function Hb(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=qb(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ti(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function kt(t,e,n=1/0){return Ae(e)?kt((r,i)=>se((s,o)=>e(r,s,i,o))(Pn(t(r,i))),n):("number"==typeof e&&(n=e),_t((r,i)=>function kG(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Pn(n(g,l++)).subscribe(ft(e,y=>{i?.(y),s?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const y=u.shift();o?ti(e,o,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(ft(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Vo(t=1/0){return kt(Li,t)}const Sr=new Ge(t=>t.complete());function ey(t){return t[t.length-1]}function Wu(t){return function OG(t){return t&&Ae(t.schedule)}(ey(t))?t.pop():void 0}function Xd(t,e=0){return _t((n,r)=>{n.subscribe(ft(r,i=>ti(r,t,()=>r.next(i),e),()=>ti(r,t,()=>r.complete(),e),i=>ti(r,t,()=>r.error(i),e)))})}function Jd(t,e=0){return _t((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function iT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ge(n=>{ti(n,e,()=>{const r=t[Symbol.asyncIterator]();ti(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vt(t,e){return e?function $G(t,e){if(null!=t){if(Qb(t))return function LG(t,e){return Pn(t).pipe(Jd(e),Xd(e))}(t,e);if(Wb(t))return function UG(t,e){return new Ge(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Kb(t))return function VG(t,e){return Pn(t).pipe(Jd(e),Xd(e))}(t,e);if(Yb(t))return iT(t,e);if(Zb(t))return function BG(t,e){return new Ge(n=>{let r;return ti(n,e,()=>{r=t[Jb](),ti(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(t,e);if(tT(t))return function jG(t,e){return iT(eT(t),e)}(t,e)}throw Xb(t)}(t,e):Pn(t)}class Yn extends ur{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function H(...t){return vt(t,Wu(t))}function sT(t={}){const{connector:e=(()=>new ur),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return _t((g,m)=>{c++,!d&&!l&&h();const y=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=ty(p,i))}),y.subscribe(m),!o&&c>0&&(o=new qu({next:_=>y.next(_),error:_=>{d=!0,h(),a=ty(f,n,_),y.error(_)},complete:()=>{l=!0,h(),a=ty(f,r),y.complete()}}),Pn(g).subscribe(o))})(s)}}function ty(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new qu({next:()=>{r.unsubscribe(),t()}});return Pn(e(...n)).subscribe(r)}function cr(t,e){return _t((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ft(r,u=>{i?.unsubscribe();let c=0;const l=s++;Pn(t(u,l)).subscribe(i=ft(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function zG(t,e){return t===e}function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function Zd(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ny(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const qG=Ce({__forward_ref__:Ce});function xe(t){return t.__forward_ref__=xe,t.toString=function(){return wt(this())},t}function q(t){return ry(t)?t():t}function ry(t){return"function"==typeof t&&t.hasOwnProperty(qG)&&t.__forward_ref__===xe}function iy(t){return t&&!!t.\u0275providers}const oT="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function eh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Y(t){return"string"==typeof t?t:null==t?"":String(t)}function sy(t,e){throw new S(-201,!1)}function Xn(t,e){null==t&&function G(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Fn(t){return{providers:t.providers||[],imports:t.imports||[]}}function th(t){return aT(t,rh)||aT(t,uT)}function aT(t,e){return t.hasOwnProperty(e)?t[e]:null}function nh(t){return t&&(t.hasOwnProperty(oy)||t.hasOwnProperty(e3))?t[oy]:null}const rh=Ce({\u0275prov:Ce}),oy=Ce({\u0275inj:Ce}),uT=Ce({ngInjectableDef:Ce}),e3=Ce({ngInjectorDef:Ce});var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{});let ay;function En(t){const e=ay;return ay=t,e}function lT(t,e,n){const r=th(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ie.Optional?null:void 0!==e?e:void sy(wt(t))}const Ne=globalThis,Ku={},hy="__NG_DI_FLAG__",ih="ngTempTokenPath",r3=/\n/gm,hT="__source";let Uo;function Ui(t){const e=Uo;return Uo=t,e}function o3(t,e=ie.Default){if(void 0===Uo)throw new S(-203,!1);return null===Uo?lT(t,void 0,e):Uo.get(t,e&ie.Optional?null:void 0,e)}function U(t,e=ie.Default){return(function cT(){return ay}()||o3)(q(t),e)}function F(t,e=ie.Default){return U(t,sh(e))}function sh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fy(t){const e=[];for(let n=0;n<t.length;n++){const r=q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=ie.Default;for(let o=0;o<r.length;o++){const a=r[o],u=a3(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function Qu(t,e){return t[hy]=e,t.prototype[hy]=e,t}function a3(t){return t[hy]}function ni(t){return{toString:t}.toString()}var oh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(oh||{}),lr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(lr||{});const Ar={},me=[],ah=Ce({\u0275cmp:Ce}),py=Ce({\u0275dir:Ce}),gy=Ce({\u0275pipe:Ce}),pT=Ce({\u0275mod:Ce}),ri=Ce({\u0275fac:Ce}),Yu=Ce({__NG_ELEMENT_ID__:Ce}),gT=Ce({__NG_ENV_ID__:Ce});function mT(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function my(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];_T(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function yT(t){return 3===t||4===t||6===t}function _T(t){return 64===t.charCodeAt(0)}function Xu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||vT(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function vT(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const wT="ng-template";function l3(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==mT(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function IT(t){return 4===t.type&&t.value!==wT}function d3(t,e,n){return e===(4!==t.type||n?t.value:wT)}function h3(t,e,n){let r=4;const i=t.attrs||[],s=function g3(t){for(let e=0;e<t.length;e++)if(yT(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!d3(t,u,n)||""===u&&1===e.length){if(dr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!l3(t.attrs,c,n)){if(dr(r))return!1;o=!0}continue}const d=f3(8&r?"class":u,i,IT(t),n);if(-1===d){if(dr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==mT(f,c,0)||2&r&&c!==h){if(dr(r))return!1;o=!0}}}}else{if(!o&&!dr(r)&&!dr(u))return!1;if(o&&dr(u))continue;o=!1,r=u|1&r}}return dr(r)||o}function dr(t){return 0==(1&t)}function f3(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function m3(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ET(t,e,n=!1){for(let r=0;r<e.length;r++)if(h3(t,e[r],n))return!0;return!1}function CT(t,e){return t?":not("+e.trim()+")":e}function _3(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!dr(o)&&(e+=CT(s,i),i=""),r=o,s=s||!dr(r);n++}return""!==i&&(e+=CT(s,i)),e}function Mr(t){return ni(()=>{const e=bT(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===oh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||lr.Emulated,styles:t.styles||me,_:null,schemas:t.schemas||null,tView:null,id:""};TT(n);const r=t.dependencies;return n.directiveDefs=uh(r,!1),n.pipeDefs=uh(r,!0),n.id=function T3(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function E3(t){return le(t)||Pt(t)}function C3(t){return null!==t}function Jn(t){return ni(()=>({type:t.type,bootstrap:t.bootstrap||me,declarations:t.declarations||me,imports:t.imports||me,exports:t.exports||me,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function DT(t,e){if(null==t)return Ar;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function W(t){return ni(()=>{const e=bT(t);return TT(e),e})}function Cn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function le(t){return t[ah]||null}function Pt(t){return t[py]||null}function an(t){return t[gy]||null}function Ln(t,e){const n=t[pT]||null;if(!n&&!0===e)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function bT(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ar,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||me,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DT(t.inputs,e),outputs:DT(t.outputs)}}function TT(t){t.features?.forEach(e=>e(t))}function uh(t,e){if(!t)return null;const n=e?an:E3;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(C3)}const Ye=0,P=1,te=2,ze=3,hr=4,Ju=5,Kt=6,jo=7,rt=8,Bi=9,$o=10,X=11,Zu=12,ST=13,Ho=14,it=15,ec=16,Go=17,xr=18,tc=19,AT=20,ji=21,ii=22,nc=23,rc=24,oe=25,yy=1,MT=2,Rr=7,zo=9,Ot=11;function Dn(t){return Array.isArray(t)&&"object"==typeof t[yy]}function un(t){return Array.isArray(t)&&!0===t[yy]}function _y(t){return 0!=(4&t.flags)}function xs(t){return t.componentOffset>-1}function lh(t){return 1==(1&t.flags)}function fr(t){return!!t.template}function vy(t){return 0!=(512&t[te])}function Rs(t,e){return t.hasOwnProperty(ri)?t[ri]:null}let Ft=null,dh=!1;function Zn(t){const e=Ft;return Ft=t,e}const hh={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function PT(t){if(!sc(t)||t.dirty){if(!t.producerMustRecompute(t)&&!LT(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function FT(t){t.dirty=!0,function OT(t){if(void 0===t.liveConsumerNode)return;const e=dh;dh=!0;try{for(const n of t.liveConsumerNode)n.dirty||FT(n)}finally{dh=e}}(t),t.consumerMarkedDirty?.(t)}function fh(t){return t&&(t.nextProducerIndex=0),Zn(t)}function ph(t,e){if(Zn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(sc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)gh(t.producerNode[n],t.producerIndexOfThis[n]);for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function LT(t){qo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(PT(n),r!==n.version))return!0}return!1}function VT(t){if(qo(t),sc(t))for(let e=0;e<t.producerNode.length;e++)gh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function gh(t,e){if(function BT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),qo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)gh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];qo(i),i.producerIndexOfThis[r]=e}}function sc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function qo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let jT=null;function GT(t){const e=Zn(null);try{return t()}finally{Zn(e)}}const zT=()=>{},V3={...hh,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:zT};class U3{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function er(){return qT}function qT(t){return t.type.prototype.ngOnChanges&&(t.setInput=j3),B3}function B3(){const t=KT(this),e=t?.current;if(e){const n=t.previous;if(n===Ar)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function j3(t,e,n,r){const i=this.declaredInputs[n],s=KT(t)||function $3(t,e){return t[WT]=e}(t,{previous:Ar,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new U3(u&&u.currentValue,e,a===Ar),t[r]=e}er.ngInherit=!0;const WT="__ngSimpleChanges__";function KT(t){return t[WT]||null}const Nr=function(t,e,n){},QT="svg";function ke(t){for(;Array.isArray(t);)t=t[Ye];return t}function yh(t,e){return ke(e[t])}function bn(t,e){return ke(e[t.index])}function XT(t,e){return t.data[e]}function Wo(t,e){return t[e]}function Vn(t,e){const n=e[t];return Dn(n)?n:n[Ye]}function Hi(t,e){return null==e?null:t[e]}function JT(t){t[Go]=0}function K3(t){1024&t[te]||(t[te]|=1024,e0(t,1))}function ZT(t){1024&t[te]&&(t[te]&=-1025,e0(t,-1))}function e0(t,e){let n=t[ze];if(null===n)return;n[Ju]+=e;let r=n;for(n=n[ze];null!==n&&(1===e&&1===r[Ju]||-1===e&&0===r[Ju]);)n[Ju]+=e,r=n,n=n[ze]}const z={lFrame:h0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function r0(){return z.bindingsEnabled}function D(){return z.lFrame.lView}function de(){return z.lFrame.tView}function Qo(t){return z.lFrame.contextLView=t,t[rt]}function Yo(t){return z.lFrame.contextLView=null,t}function Lt(){let t=s0();for(;null!==t&&64===t.type;)t=t.parent;return t}function s0(){return z.lFrame.currentTNode}function kr(t,e){const n=z.lFrame;n.currentTNode=t,n.isParent=e}function Sy(){return z.lFrame.isParent}function cn(){const t=z.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xo(){return z.lFrame.bindingIndex++}function oz(t,e){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,My(e)}function My(t){z.lFrame.currentDirectiveIndex=t}function Ry(t){z.lFrame.currentQueryIndex=t}function uz(t){const e=t[P];return 2===e.type?e.declTNode:1===e.type?t[Kt]:null}function l0(t,e,n){if(n&ie.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ie.Host||(i=uz(s),null===i||(s=s[Ho],10&i.type))););if(null===i)return!1;e=i,t=s}const r=z.lFrame=d0();return r.currentTNode=e,r.lView=t,!0}function Ny(t){const e=d0(),n=t[P];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function d0(){const t=z.lFrame,e=null===t?null:t.child;return null===e?h0(t):e}function h0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function f0(){const t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const p0=f0;function ky(){const t=f0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ln(){return z.lFrame.selectedIndex}function Ns(t){z.lFrame.selectedIndex=t}function We(){const t=z.lFrame;return XT(t.tView,t.selectedIndex)}function ks(){z.lFrame.currentNamespace=QT}let m0=!0;function _h(){return m0}function Gi(t){m0=t}function vh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function wh(t,e,n){y0(t,e,3,n)}function Ih(t,e,n,r){(3&t[te])===n&&y0(t,e,n,r)}function Py(t,e){let n=t[te];(3&n)===e&&(n&=8191,n+=1,t[te]=n)}function y0(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Go]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Go]+=65536),(a<s||-1==s)&&(gz(t,n,e,u),t[Go]=(4294901760&t[Go])+u+2),u++}function _0(t,e){Nr(4,t,e);const n=Zn(null);try{e.call(t)}finally{Zn(n),Nr(5,t,e)}}function gz(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[te]>>13<t[Go]>>16&&(3&t[te])===e&&(t[te]+=8192,_0(a,s)):_0(a,s)}const Jo=-1;class ac{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Fy(t){return t!==Jo}function uc(t){return 32767&t}function cc(t,e){let n=function vz(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ho],n--;return r}let Ly=!0;function Eh(t){const e=Ly;return Ly=t,e}const v0=255,w0=5;let wz=0;const Pr={};function Ch(t,e){const n=I0(t,e);if(-1!==n)return n;const r=e[P];r.firstCreatePass&&(t.injectorIndex=e.length,Vy(r.data,t),Vy(e,null),Vy(r.blueprint,null));const i=Dh(t,e),s=t.injectorIndex;if(Fy(i)){const o=uc(i),a=cc(i,e),u=a[P].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Vy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function I0(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Dh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=A0(i),null===r)return Jo;if(n++,i=i[Ho],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Jo}function Uy(t,e,n){!function Iz(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Yu)&&(r=n[Yu]),null==r&&(r=n[Yu]=wz++);const i=r&v0;e.data[t+(i>>w0)]|=1<<i}(t,e,n)}function E0(t,e,n){if(n&ie.Optional||void 0!==t)return t;sy()}function C0(t,e,n,r){if(n&ie.Optional&&void 0===r&&(r=null),!(n&(ie.Self|ie.Host))){const i=t[Bi],s=En(void 0);try{return i?i.get(e,r,n&ie.Optional):lT(e,r,n&ie.Optional)}finally{En(s)}}return E0(r,0,n)}function D0(t,e,n,r=ie.Default,i){if(null!==t){if(2048&e[te]&&!(r&ie.Self)){const o=function Sz(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[te]&&!(512&o[te]);){const a=b0(s,o,n,r|ie.Self,Pr);if(a!==Pr)return a;let u=s.parent;if(!u){const c=o[AT];if(c){const l=c.get(n,Pr,r);if(l!==Pr)return l}u=A0(o),o=o[Ho]}s=u}return i}(t,e,n,r,Pr);if(o!==Pr)return o}const s=b0(t,e,n,r,Pr);if(s!==Pr)return s}return C0(e,n,r,i)}function b0(t,e,n,r,i){const s=function Dz(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Yu)?t[Yu]:void 0;return"number"==typeof e?e>=0?e&v0:Tz:e}(n);if("function"==typeof s){if(!l0(e,t,r))return r&ie.Host?E0(i,0,r):C0(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ie.Optional)return o;sy()}finally{p0()}}else if("number"==typeof s){let o=null,a=I0(t,e),u=Jo,c=r&ie.Host?e[it][Kt]:null;for((-1===a||r&ie.SkipSelf)&&(u=-1===a?Dh(t,e):e[a+8],u!==Jo&&S0(r,!1)?(o=e[P],a=uc(u),e=cc(u,e)):a=-1);-1!==a;){const l=e[P];if(T0(s,a,l.data)){const d=Cz(a,e,n,o,r,c);if(d!==Pr)return d}u=e[a+8],u!==Jo&&S0(r,e[P].data[a+8]===c)&&T0(s,a,e)?(o=l,a=uc(u),e=cc(u,e)):a=-1}}return i}function Cz(t,e,n,r,i,s){const o=e[P],a=o.data[t+8],l=function bh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&fr(f)&&f.type===n)return u}return null}(a,o,n,null==r?xs(a)&&Ly:r!=o&&0!=(3&a.type),i&ie.Host&&s===a);return null!==l?Ps(e,o,l,a):Pr}function Ps(t,e,n,r){let i=t[n];const s=e.data;if(function mz(t){return t instanceof ac}(i)){const o=i;o.resolving&&function WG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Y(t)}(s[n]));const a=Eh(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?En(o.injectImpl):null;l0(t,r,ie.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function pz(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=qT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&En(c),Eh(a),o.resolving=!1,p0()}}return i}function T0(t,e,n){return!!(n[e+(t>>w0)]&1<<t)}function S0(t,e){return!(t&ie.Self||t&ie.Host&&e)}class dn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return D0(this._tNode,this._lView,e,sh(r),n)}}function Tz(){return new dn(Lt(),D())}function By(t){return ry(t)?()=>{const e=By(q(t));return e&&e()}:Rs(t)}function A0(t){const e=t[P],n=e.type;return 2===n?e.declTNode:1===n?t[Kt]:null}const ea="__parameters__";function na(t,e,n){return ni(()=>{const r=function jy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ea)?u[ea]:Object.defineProperty(u,ea,{value:[]})[ea];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ia(t,e){t.forEach(n=>Array.isArray(n)?ia(n,e):e(n))}function x0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Sh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Un(t,e,n){let r=sa(t,e);return r>=0?t[1|r]=n:(r=~r,function Pz(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function $y(t,e){const n=sa(t,e);if(n>=0)return t[1|n]}function sa(t,e){return function R0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Tn=Qu(na("Optional"),8),Mh=Qu(na("SkipSelf"),4);function Ph(t){return 128==(128&t.flags)}var zi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(zi||{});const Wy=new Map;let iq=0;const Qy="__ngContext__";function Qt(t,e){Dn(e)?(t[Qy]=e[tc],function oq(t){Wy.set(t[tc],t)}(e)):t[Qy]=e}let Yy;function Xy(t,e){return Yy(t,e)}function gc(t){const e=t[ze];return un(e)?e[ze]:e}function X0(t){return Z0(t[Zu])}function J0(t){return Z0(t[hr])}function Z0(t){for(;null!==t&&!un(t);)t=t[hr];return t}function ua(t,e,n,r,i){if(null!=r){let s,o=!1;un(r)?s=r:Dn(r)&&(o=!0,r=r[Ye]);const a=ke(r);0===t&&null!==n?null==i?rS(e,n,a):Os(e,n,a,i||null,!0):1===t&&null!==n?Os(e,n,a,i||null,!0):2===t?function jh(t,e,n){const r=Uh(t,e);r&&function bq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Aq(t,e,n,r,i){const s=n[Rr];s!==ke(n)&&ua(e,t,r,s,i);for(let a=Ot;a<n.length;a++){const u=n[a];yc(u[P],u,t,e,r,s)}}(e,t,s,n,i)}}function Lh(t,e,n){return t.createElement(e,n)}function tS(t,e){const n=t[zo],r=n.indexOf(e);ZT(e),n.splice(r,1)}function Vh(t,e){if(t.length<=Ot)return;const n=Ot+e,r=t[n];if(r){const i=r[ec];null!==i&&i!==t&&tS(i,r),e>0&&(t[n-1][hr]=r[hr]);const s=Sh(t,Ot+e);!function yq(t,e){yc(t,e,e[X],2,null,null),e[Ye]=null,e[Kt]=null}(r[P],r);const o=s[xr];null!==o&&o.detachView(s[P]),r[ze]=null,r[hr]=null,r[te]&=-129}return r}function Zy(t,e){if(!(256&e[te])){const n=e[X];e[nc]&&VT(e[nc]),e[rc]&&VT(e[rc]),n.destroyNode&&yc(t,e,n,3,null,null),function wq(t){let e=t[Zu];if(!e)return e_(t[P],t);for(;e;){let n=null;if(Dn(e))n=e[Zu];else{const r=e[Ot];r&&(n=r)}if(!n){for(;e&&!e[hr]&&e!==t;)Dn(e)&&e_(e[P],e),e=e[ze];null===e&&(e=t),Dn(e)&&e_(e[P],e),n=e&&e[hr]}e=n}}(e)}}function e_(t,e){if(!(256&e[te])){e[te]&=-129,e[te]|=256,function Dq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ac)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Nr(4,a,u);try{u.call(a)}finally{Nr(5,a,u)}}else{Nr(4,i,s);try{s.call(i)}finally{Nr(5,i,s)}}}}}(t,e),function Cq(t,e){const n=t.cleanup,r=e[jo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[jo]=null);const i=e[ji];if(null!==i){e[ji]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[P].type&&e[X].destroy();const n=e[ec];if(null!==n&&un(e[ze])){n!==e[ze]&&tS(n,e);const r=e[xr];null!==r&&r.detachView(t)}!function aq(t){Wy.delete(t[tc])}(e)}}function t_(t,e,n){return function nS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ye];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===lr.None||s===lr.Emulated)return null}return bn(r,n)}}(t,e.parent,n)}function Os(t,e,n,r,i){t.insertBefore(e,n,r,i)}function rS(t,e,n){t.appendChild(e,n)}function iS(t,e,n,r,i){null!==r?Os(t,e,n,r,i):rS(t,e,n)}function Uh(t,e){return t.parentNode(e)}let n_,o_,Hh,aS=function oS(t,e,n){return 40&t.type?bn(t,n):null};function Bh(t,e,n,r){const i=t_(t,r,e),s=e[X],a=function sS(t,e,n){return aS(t,e,n)}(r.parent||e[Kt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)iS(s,i,n[u],a,!1);else iS(s,i,n,a,!1);void 0!==n_&&n_(s,r,e,n,i)}function mc(t,e){if(null!==e){const n=e.type;if(3&n)return bn(e,t);if(4&n)return r_(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return mc(t,r);{const i=t[e.index];return un(i)?r_(-1,i):ke(i)}}if(32&n)return Xy(e,t)()||ke(t[e.index]);{const r=cS(t,e);return null!==r?Array.isArray(r)?r[0]:mc(gc(t[it]),r):mc(t,e.next)}}return null}function cS(t,e){return null!==e?t[it][Kt].projection[e.projection]:null}function r_(t,e){const n=Ot+t+1;if(n<e.length){const r=e[n],i=r[P].firstChild;if(null!==i)return mc(r,i)}return e[Rr]}function i_(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Qt(ke(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)i_(t,e,n.child,r,i,s,!1),ua(e,t,i,a,s);else if(32&u){const c=Xy(n,r);let l;for(;l=c();)ua(e,t,i,l,s);ua(e,t,i,a,s)}else 16&u?dS(t,e,r,n,i,s):ua(e,t,i,a,s);n=o?n.projectionNext:n.next}}function yc(t,e,n,r,i,s){i_(n,r,t.firstChild,e,i,s,!1)}function dS(t,e,n,r,i,s){const o=n[it],u=o[Kt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ua(e,t,i,u[c],s);else{let c=u;const l=o[ze];Ph(r)&&(c.flags|=128),i_(t,e,c,l,i,s,!0)}}function hS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function fS(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&my(t,e,r),null!==i&&hS(t,e,i),null!==s&&function xq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function mS(t){return function a_(){if(void 0===Hh&&(Hh=null,Ne.trustedTypes))try{Hh=Ne.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hh}()?.createScriptURL(t)||t}class yS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oT})`}}function qi(t){return t instanceof yS?t.changingThisBreaksApplicationSecurity:t}function _c(t,e){const n=function Bq(t){return t instanceof yS&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${oT})`)}return n===e}const Gq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var da=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(da||{});function zh(t){const e=wc();return e?e.sanitize(da.URL,t)||"":_c(t,"URL")?qi(t):function u_(t){return(t=String(t)).match(Gq)?t:"unsafe:"+t}(Y(t))}function DS(t){const e=wc();if(e)return mS(e.sanitize(da.RESOURCE_URL,t)||"");if(_c(t,"ResourceURL"))return mS(qi(t));throw new S(904,!1)}function wc(){const t=D();return t&&t[$o].sanitizer}class O{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ic=new O("ENVIRONMENT_INITIALIZER"),TS=new O("INJECTOR",-1),SS=new O("INJECTOR_DEF_TYPES");class h_{get(e,n=Ku){if(n===Ku){const r=new Error(`NullInjectorError: No provider for ${wt(e)}!`);throw r.name="NullInjectorError",r}return n}}function r6(...t){return{\u0275providers:AS(0,t),\u0275fromNgModule:!0}}function AS(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return ia(e,o=>{const a=o;qh(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&MS(i,s),n}function MS(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];p_(i,s=>{e(s,r)})}}function qh(t,e,n,r){if(!(t=q(t)))return!1;let i=null,s=nh(t);const o=!s&&le(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=nh(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)qh(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ia(s.imports,l=>{qh(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&MS(c,e)}if(!a){const c=Rs(i)||(()=>new i);e({provide:i,useFactory:c,deps:me},i),e({provide:SS,useValue:i,multi:!0},i),e({provide:Ic,useValue:()=>U(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;p_(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function p_(t,e){for(let n of t)iy(n)&&(n=n.\u0275providers),Array.isArray(n)?p_(n,e):e(n)}const i6=Ce({provide:String,useValue:Ce});function g_(t){return null!==t&&"object"==typeof t&&i6 in t}function Fs(t){return"function"==typeof t}const m_=new O("Set Injector scope."),Wh={},o6={};let y_;function Kh(){return void 0===y_&&(y_=new h_),y_}class Bn{}class Qh extends Bn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,v_(e,o=>this.processProvider(o)),this.records.set(TS,ha(void 0,this)),i.has("environment")&&this.records.set(Bn,ha(void 0,this));const s=this.records.get(m_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(SS.multi,me,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ui(this),r=En(void 0);try{return e()}finally{Ui(n),En(r)}}get(e,n=Ku,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(gT))return e[gT](this);r=sh(r);const s=Ui(this),o=En(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function d6(t){return"function"==typeof t||"object"==typeof t&&t instanceof O}(e)&&th(e);u=c&&this.injectableDefInScope(c)?ha(__(e),Wh):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&ie.Self?Kh():this.parent).get(e,n=r&ie.Optional&&n===Ku?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[ih]=a[ih]||[]).unshift(wt(e)),s)throw a;return function u3(t,e,n,r){const i=t[ih];throw e[hT]&&i.unshift(e[hT]),t.message=function c3(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):wt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(r3,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ih]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{En(o),Ui(s)}}resolveInjectorInitializers(){const e=Ui(this),n=En(void 0);try{const i=this.get(Ic.multi,me,ie.Self);for(const s of i)s()}finally{Ui(e),En(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=Fs(e=q(e))?e:q(e&&e.provide);const r=function u6(t){return g_(t)?ha(void 0,t.useValue):ha(NS(t),Wh)}(e);if(Fs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ha(void 0,Wh,!0),i.factory=()=>fy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Wh&&(n.value=o6,n.value=n.factory()),"object"==typeof n.value&&n.value&&function l6(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function __(t){const e=th(t),n=null!==e?e.factory:Rs(t);if(null!==n)return n;if(t instanceof O)throw new S(204,!1);if(t instanceof Function)return function a6(t){const e=t.length;if(e>0)throw function hc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function ZG(t){return t&&(t[rh]||t[uT])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function NS(t,e,n){let r;if(Fs(t)){const i=q(t);return Rs(i)||__(i)}if(g_(t))r=()=>q(t.useValue);else if(function RS(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...fy(t.deps||[]));else if(function xS(t){return!(!t||!t.useExisting)}(t))r=()=>U(q(t.useExisting));else{const i=q(t&&(t.useClass||t.provide));if(!function c6(t){return!!t.deps}(t))return Rs(i)||__(i);r=()=>new i(...fy(t.deps))}return r}function ha(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function v_(t,e){for(const n of t)Array.isArray(n)?v_(n,e):n&&iy(n)?v_(n.\u0275providers,e):e(n)}const Yh=new O("AppId",{providedIn:"root",factory:()=>h6}),h6="ng",kS=new O("Platform Initializer"),ui=new O("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),PS=new O("CSP nonce",{providedIn:"root",factory:()=>function la(){if(void 0!==o_)return o_;if(typeof document<"u")return document;throw new S(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let OS=(t,e,n)=>null;function S_(t,e,n=!1){return OS(t,e,n)}class E6{}class VS{}class D6{resolveComponentFactory(e){throw function C6(t){const e=Error(`No component factory found for ${wt(t)}.`);return e.ngComponent=t,e}(e)}}let nf=(()=>{class e{}return e.NULL=new D6,e})();function b6(){return ga(Lt(),D())}function ga(t,e){return new jn(bn(t,e))}let jn=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=b6,e})();class BS{}let ci=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function S6(){const t=D(),n=Vn(Lt().index,t);return(Dn(n)?n:t)[X]}(),e})(),A6=(()=>{var t;class e{}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:()=>null}),e})();class ma{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const jS=new ma("16.2.4"),x_={};function zS(t,e=null,n=null,r){const i=qS(t,e,n,r);return i.resolveInjectorInitializers(),i}function qS(t,e=null,n=null,r,i=new Set){const s=[n||me,r6(t)];return r=r||("object"==typeof t?void 0:wt(t)),new Qh(s,e||Kh(),r||null,i)}let hn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return zS({name:""},i,r,"");{const s=r.name??"";return zS({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=Ku,t.NULL=new h_,t.\u0275prov=$({token:t,providedIn:"any",factory:()=>U(TS)}),t.__NG_ELEMENT_ID__=-1,e})();function k_(t){return e=>{setTimeout(t,void 0,e)}}const Me=class O6 extends ur{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=k_(s),i&&(i=k_(i)),o&&(o=k_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof In&&e.add(a),a}};function WS(...t){}class De{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Me(!1),this.onMicrotaskEmpty=new Me(!1),this.onStable=new Me(!1),this.onError=new Me(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function F6(){const t="function"==typeof Ne.requestAnimationFrame;let e=Ne[t?"requestAnimationFrame":"setTimeout"],n=Ne[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function U6(t){const e=()=>{!function V6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ne,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,O_(t),t.isCheckStableRunning=!0,P_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),O_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function j6(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return KS(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),QS(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return KS(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),QS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,O_(t),P_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!De.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(De.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,L6,WS,WS);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const L6={};function P_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function O_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function KS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function QS(t){t._nesting--,P_(t)}class B6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Me,this.onMicrotaskEmpty=new Me,this.onStable=new Me,this.onError=new Me}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const YS=new O("",{providedIn:"root",factory:XS});function XS(){const t=F(De);let e=!0;return function HG(...t){const e=Wu(t),n=function FG(t,e){return"number"==typeof ey(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Pn(r[0]):Vo(n)(vt(r,e)):Sr}(new Ge(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ge(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{De.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(sT()))}function li(t){return t instanceof Function?t():t}let F_=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new S(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:()=>new t}),e})();function Dc(t){for(;t;){t[te]|=64;const e=gc(t);if(vy(t)&&!e)return t;t=e}return null}function L_(t){return t.ngOriginalError}class Ls{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&L_(e);for(;n&&L_(n);)n=L_(n);return n||null}}const nA=new O("",{providedIn:"root",factory:()=>!1});let sf=null;function oA(t,e){return t[e]??cA()}function aA(t,e){const n=cA();n.producerNode?.length&&(t[e]=sf,n.lView=t,sf=uA())}const X6={...hh,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Dc(t.lView)},lView:null};function uA(){return Object.create(X6)}function cA(){return sf??=uA(),sf}const Z={};function ee(t){lA(de(),D(),ln()+t,!1)}function lA(t,e,n,r){if(!r)if(3==(3&e[te])){const s=t.preOrderCheckHooks;null!==s&&wh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Ih(e,s,0,n)}Ns(n)}function T(t,e=ie.Default){const n=D();return null===n?U(t,e):D0(Lt(),n,q(t),e)}function af(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Ye]=i,d[te]=140|r,(null!==c||t&&2048&t[te])&&(d[te]|=2048),JT(d),d[ze]=d[Ho]=t,d[rt]=n,d[$o]=o||t&&t[$o],d[X]=a||t&&t[X],d[Bi]=u||t&&t[Bi]||null,d[Kt]=s,d[tc]=function sq(){return iq++}(),d[ii]=l,d[AT]=c,d[it]=2==e.type?t[it]:d,d}function va(t,e,n,r,i){let s=t.data[e];if(null===s)s=function V_(t,e,n,r,i){const s=s0(),o=Sy(),u=t.data[e]=function s5(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Ko(){return null!==z.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function sz(){return z.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function oc(){const t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return kr(s,!0),s}function bc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function hA(t,e,n,r,i){const s=oA(e,nc),o=ln(),a=2&r;try{Ns(-1),a&&e.length>oe&&lA(t,e,oe,!1),Nr(a?2:0,i);const c=a?s:null,l=fh(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{ph(c,l)}}finally{a&&null===e[nc]&&aA(e,nc),Ns(o),Nr(a?3:1,i)}}function U_(t,e,n){if(_y(e)){const r=Zn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Zn(r)}}}function B_(t,e,n){r0()&&(function h5(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;xs(n)&&function v5(t,e,n){const r=bn(e,t),i=fA(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=uf(t,af(t,i,null,o,r,e,null,t[$o].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ch(n,e),Qt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ps(e,t,a,n);Qt(c,e),null!==o&&w5(0,a-i,c,u,0,o),fr(u)&&(Vn(n.index,e)[rt]=Ps(e,t,a,n))}}(t,e,n,bn(n,e)),64==(64&n.flags)&&_A(t,e,n))}function j_(t,e,n=bn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function fA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=$_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function $_(t,e,n,r,i,s,o,a,u,c,l){const d=oe+r,h=d+i,f=function Z6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Z);return n}(d,h),p="function"==typeof c?c():c;return f[P]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let pA=t=>null;function gA(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?mA(n,e,i,s):r.hasOwnProperty(i)&&mA(n,e,r[i],s)}return n}function mA(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function $n(t,e,n,r,i,s,o,a){const u=bn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(W_(t,n,l,r,i),xs(e)&&function u5(t,e){const n=Vn(e,t);16&n[te]||(n[te]|=64)}(n,e.index)):3&e.type&&(r=function a5(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function H_(t,e,n,r){if(r0()){const i=null===r?null:{"":-1},s=function p5(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(ET(e,o.selectors,!1))if(r||(r=[]),fr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),G_(t,e,a.length)}else r.unshift(o),G_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&yA(t,e,n,o,i,a),i&&function g5(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Xu(n.mergedAttrs,n.attrs)}function yA(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Uy(Ch(n,e),t,r[c].type);!function y5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=bc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Xu(n.mergedAttrs,l.hostAttrs),_5(t,n,e,u,l),m5(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function o5(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=gA(d.inputs,l,u,h?h.inputs:null),c=gA(d.outputs,l,c,p);const g=null===u||null===o||IT(e)?null:I5(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function _A(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function az(){return z.lFrame.currentDirectiveIndex}();try{Ns(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];My(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&f5(u,c)}}finally{Ns(-1),My(o)}}function f5(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function G_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function m5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fr(e)&&(n[""]=t)}}function _5(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Rs(i.type)),o=new ac(s,fr(i),T);t.blueprint[r]=o,n[r]=o,function l5(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function d5(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,bc(t,n,i.hostVars,Z),i)}function Or(t,e,n,r,i,s){const o=bn(t,e);!function z_(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Y(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[X],o,s,t.value,n,r,i)}function w5(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)vA(r,n,o[a++],o[a++],o[a++])}function vA(t,e,n,r,i){const s=Zn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Zn(s)}}function I5(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function wA(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function IA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Ry(n[r]),o.contentQueries(2,e[s],s)}}}function uf(t,e){return t[Zu]?t[ST][hr]=e:t[Zu]=e,t[ST]=e,e}function q_(t,e,n){Ry(0);const r=Zn(null);try{e(t,n)}finally{Zn(r)}}function bA(t,e){const n=t[Bi],r=n?n.get(Ls,null):null;r&&r.handleError(e)}function W_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];vA(t.data[o],e[o],r,a,i)}}function E5(t,e){const n=Vn(e,t),r=n[P];!function C5(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ye];null!==i&&null===n[ii]&&(n[ii]=S_(i,n[Bi])),K_(r,n,n[rt])}function K_(t,e,n){Ny(e);try{const r=t.viewQuery;null!==r&&q_(1,r,n);const i=t.template;null!==i&&hA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&IA(t,e),t.staticViewQueries&&q_(2,t.viewQuery,n);const s=t.components;null!==s&&function D5(t,e){for(let n=0;n<e.length;n++)E5(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,ky()}}let TA=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function L3(t,e,n){const r=Object.create(V3);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>FT(r),run:()=>{if(r.dirty=!1,r.hasRun&&!LT(r))return;r.hasRun=!0;const o=fh(r);try{r.cleanupFn(),r.cleanupFn=zT,r.fn(i)}finally{ph(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,l=>{this.all.has(l)&&this.queue.set(l,o)},s);let u;this.all.add(a),a.notify();const c=()=>{a.cleanup(),u?.(),this.all.delete(a),this.queue.delete(a)};return u=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:()=>new t}),e})();function cf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=ny(i,a):2==s&&(r=ny(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Tc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(ke(s)),un(s)&&SA(s,r);const o=n.type;if(8&o)Tc(t,e,n.child,r);else if(32&o){const a=Xy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=cS(e,n);if(Array.isArray(a))r.push(...a);else{const u=gc(e[it]);Tc(u[P],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function SA(t,e){for(let n=Ot;n<t.length;n++){const r=t[n],i=r[P].firstChild;null!==i&&Tc(r[P],r,i,e)}t[Rr]!==t[Ye]&&e.push(t[Rr])}function lf(t,e,n,r=!0){const i=e[$o],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{AA(t,e,t.template,n)}catch(u){throw r&&bA(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function AA(t,e,n,r){const i=e[te];if(256!=(256&i)){e[$o].effectManager?.flush(),Ny(e);try{JT(e),function a0(t){return z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&hA(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&wh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Ih(e,c,0,null),Py(e,0)}if(function S5(t){for(let e=X0(t);null!==e;e=J0(e)){if(!e[MT])continue;const n=e[zo];for(let r=0;r<n.length;r++){K3(n[r])}}}(e),MA(e,2),null!==t.contentQueries&&IA(t,e),o){const c=t.contentCheckHooks;null!==c&&wh(e,c)}else{const c=t.contentHooks;null!==c&&Ih(e,c,1),Py(e,1)}!function J6(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=oA(e,rc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ns(~s);else{const o=s,a=n[++i],u=n[++i];oz(a,o),r.dirty=!1;const c=fh(r);try{u(2,e[o])}finally{ph(r,c)}}}}finally{null===e[rc]&&aA(e,rc),Ns(-1)}}(t,e);const a=t.components;null!==a&&RA(e,a,0);const u=t.viewQuery;if(null!==u&&q_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&wh(e,c)}else{const c=t.viewHooks;null!==c&&Ih(e,c,2),Py(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[te]&=-73,ZT(e)}finally{ky()}}}function MA(t,e){for(let n=X0(t);null!==n;n=J0(n))for(let r=Ot;r<n.length;r++)xA(n[r],e)}function A5(t,e,n){xA(Vn(e,t),n)}function xA(t,e){if(!function q3(t){return 128==(128&t[te])}(t))return;const n=t[P],r=t[te];if(80&r&&0===e||1024&r||2===e)AA(n,t,n.template,t[rt]);else if(t[Ju]>0){MA(t,1);const i=n.components;null!==i&&RA(t,i,1)}}function RA(t,e,n){for(let r=0;r<e.length;r++)A5(t,e[r],n)}class Sc{get rootNodes(){const e=this._lView,n=e[P];return Tc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rt]}set context(e){this._lView[rt]=e}get destroyed(){return 256==(256&this._lView[te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ze];if(un(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Vh(e,r),Sh(n,r))}this._attachedToViewContainer=!1}Zy(this._lView[P],this._lView)}onDestroy(e){!function t0(t,e){if(256==(256&t[te]))throw new S(911,!1);null===t[ji]&&(t[ji]=[]),t[ji].push(e)}(this._lView,e)}markForCheck(){Dc(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-129}reattach(){this._lView[te]|=128}detectChanges(){lf(this._lView[P],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vq(t,e){yc(t,e,e[X],2,null,null)}(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class M5 extends Sc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;lf(e[P],e,e[rt],!1)}checkNoChanges(){}get context(){return null}}class NA extends nf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=le(e);return new Ac(n,this.ngModule)}}function kA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class R5{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=sh(r);const i=this.injector.get(e,x_,r);return i!==x_||n===x_?i:this.parentInjector.get(e,n,r)}}class Ac extends VS{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=kA(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return kA(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function v3(t){return t.map(_3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Bn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new R5(e,s):e,a=o.get(BS,null);if(null===a)throw new S(407,!1);const d={rendererFactory:a,sanitizer:o.get(A6,null),effectManager:o.get(TA,null),afterRenderEventManager:o.get(F_,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function e5(t,e,n,r){const s=r.get(nA,!1)||n===lr.ShadowDom,o=t.selectRootElement(e,s);return function t5(t){pA(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Lh(h,f,function x5(t){const e=t.toLowerCase();return"svg"===e?QT:"math"===e?"math":null}(f)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=S_(p,o,!0));const E=$_(0,null,null,1,0,null,null,null,null,null,null),C=af(null,E,null,y,null,null,d,h,o,null,_);let k,Q;Ny(C);try{const ye=this.componentDef;let ht,Nt=null;ye.findHostDirectiveDefs?(ht=[],Nt=new Map,ye.findHostDirectiveDefs(ye,ht,Nt),ht.push(ye)):ht=[ye];const qd=function k5(t,e){const n=t[P],r=oe;return t[r]=e,va(n,r,2,"#host",null)}(C,p),jm=function P5(t,e,n,r,i,s,o){const a=i[P];!function O5(t,e,n,r){for(const i of t)e.mergedAttrs=Xu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(cf(e,e.mergedAttrs,!0),null!==n&&fS(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=S_(e,i[Bi]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=af(i,fA(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&G_(a,t,r.length-1),uf(i,d),i[t.index]=d}(qd,p,ye,ht,C,d,h);Q=XT(E,oe),p&&function L5(t,e,n,r){if(r)my(t,n,["ng-version",jS.full]);else{const{attrs:i,classes:s}=function w3(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!dr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&my(t,n,i),s&&s.length>0&&hS(t,n,s.join(" "))}}(h,ye,p,r),void 0!==n&&function V5(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Q,this.ngContentSelectors,n),k=function F5(t,e,n,r,i,s){const o=Lt(),a=i[P],u=bn(o,i);yA(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Qt(Ps(i,a,o.directiveStart+l,o),i);_A(a,i,o),u&&Qt(u,i);const c=Ps(i,a,o.directiveStart+o.componentOffset,o);if(t[rt]=i[rt]=c,null!==s)for(const l of s)l(c,e);return U_(a,o,t),c}(jm,ye,ht,Nt,C,[U5]),K_(E,C,null)}finally{ky()}return new N5(this.componentType,k,ga(Q,C),C,Q)}}class N5 extends E6{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new M5(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;W_(s[P],s,i,e,n),this.previousInputValues.set(e,n),Dc(Vn(this._tNode.index,s))}}get injector(){return new dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function U5(){const t=Lt();vh(D()[P],t)}function _e(t){let e=function PA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(fr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=df(t.inputs),o.inputTransforms=df(t.inputTransforms),o.declaredInputs=df(t.declaredInputs),o.outputs=df(t.outputs);const a=i.hostBindings;a&&H5(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&j5(t,u),c&&$5(t,c),Zd(t.inputs,i.inputs),Zd(t.declaredInputs,i.declaredInputs),Zd(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Zd(o.inputTransforms,i.inputTransforms)),fr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===_e&&(n=!1)}}e=Object.getPrototypeOf(e)}!function B5(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xu(i.hostAttrs,n=Xu(n,i.hostAttrs))}}(r)}function df(t){return t===Ar?{}:t===me?[]:t}function j5(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function $5(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function H5(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function VA(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function hf(t){return!!function Q_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Yt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Xt(t,e,n,r){const i=D();return Yt(i,Xo(),e)&&(de(),Or(We(),i,t,e,n,r)),Xt}function Ia(t,e,n,r){return Yt(t,Xo(),n)?e+Y(n)+r:Z}function Pe(t,e,n,r,i,s,o,a){const u=D(),c=de(),l=t+oe,d=c.firstCreatePass?function p9(t,e,n,r,i,s,o,a,u){const c=e.consts,l=va(e,t,4,o||null,Hi(c,a));H_(e,n,l,Hi(c,u)),vh(e,l);const d=l.tView=$_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];kr(d,!1);const h=XA(c,u,d,t);_h()&&Bh(c,u,h,d),Qt(h,u),uf(u,u[l]=wA(h,u,h,d)),lh(d)&&B_(c,u,d),null!=o&&j_(u,d,a)}let XA=function JA(t,e,n,r){return Gi(!0),e[X].createComment("")};function yf(t){return Wo(function iz(){return z.lFrame.contextLView}(),oe+t)}function Ee(t,e,n){const r=D();return Yt(r,Xo(),e)&&$n(de(),We(),r,t,e,r[X],n,!1),Ee}function tv(t,e,n,r,i){const o=i?"class":"style";W_(t,n,e.inputs[o],o,r)}function ae(t,e,n,r){const i=D(),s=de(),o=oe+t,a=i[X],u=s.firstCreatePass?function _9(t,e,n,r,i,s){const o=e.consts,u=va(e,t,2,r,Hi(o,i));return H_(e,n,u,Hi(o,s)),null!==u.attrs&&cf(u,u.attrs,!1),null!==u.mergedAttrs&&cf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=ZA(s,i,u,a,e,t);i[o]=c;const l=lh(u);return kr(u,!0),fS(a,c,u),32!=(32&u.flags)&&_h()&&Bh(s,i,c,u),0===function Y3(){return z.lFrame.elementDepthCount}()&&Qt(c,i),function X3(){z.lFrame.elementDepthCount++}(),l&&(B_(s,i,u),U_(s,u,i)),null!==r&&j_(i,u),ae}function pe(){let t=Lt();Sy()?function Ay(){z.lFrame.isParent=!1}():(t=t.parent,kr(t,!1));const e=t;(function Z3(t){return z.skipHydrationRootTNode===t})(e)&&function rz(){z.skipHydrationRootTNode=null}(),function J3(){z.lFrame.elementDepthCount--}();const n=de();return n.firstCreatePass&&(vh(n,t),_y(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function yz(t){return 0!=(8&t.flags)}(e)&&tv(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function _z(t){return 0!=(16&t.flags)}(e)&&tv(n,e,D(),e.stylesWithoutHost,!1),pe}function Xe(t,e,n,r){return ae(t,e,n,r),pe(),Xe}let ZA=(t,e,n,r,i,s)=>(Gi(!0),Lh(r,i,function g0(){return z.lFrame.currentNamespace}()));function _f(){return D()}function kc(t){return!!t&&"function"==typeof t.then}function nM(t){return!!t&&"function"==typeof t.subscribe}function Ut(t,e,n,r){const i=D(),s=de(),o=Lt();return function iM(t,e,n,r,i,s,o){const a=lh(r),c=t.firstCreatePass&&function CA(t){return t.cleanup||(t.cleanup=[])}(t),l=e[rt],d=function EA(t){return t[jo]||(t[jo]=[])}(e);let h=!0;if(3&r.type||o){const g=bn(r,e),m=o?o(g):g,y=d.length,_=o?C=>o(ke(C[r.index])):r.index;let E=null;if(!o&&a&&(E=function D9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[jo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=oM(r,e,l,s,!1);const C=n.listen(m,i,s);d.push(s,C),c&&c.push(i,_,y,y+1)}}else s=oM(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const k=e[p[m]][p[m+1]].subscribe(s),Q=d.length;d.push(s,k),c&&c.push(i,r.index,Q,-(Q+1))}}}(s,i,i[X],o,t,e,r),Ut}function sM(t,e,n,r){try{return Nr(6,e,n),!1!==n(r)}catch(i){return bA(t,i),!1}finally{Nr(7,e,n)}}function oM(t,e,n,r,i){return function s(o){if(o===Function)return r;Dc(t.componentOffset>-1?Vn(t.index,e):e);let u=sM(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=sM(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Oe(t=1){return function cz(t){return(z.lFrame.contextLView=function lz(t,e){for(;t>0;)e=e[Ho],t--;return e}(t,z.lFrame.contextLView))[rt]}(t)}function Ma(t,e,n){return Pc(t,"",e,"",n),Ma}function Pc(t,e,n,r,i){const s=D(),o=Ia(s,e,n,r);return o!==Z&&$n(de(),We(),s,t,o,s[X],i,!1),Pc}function vf(t,e){return t<<17|e<<2}function Wi(t){return t>>17&32767}function iv(t){return 2|t}function Us(t){return(131068&t)>>2}function sv(t,e){return-131069&t|e<<2}function ov(t){return 1|t}function gM(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Wi(s):Us(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];k9(t[a],e)&&(u=!0,t[a+1]=r?ov(l):iv(l)),a=r?Wi(l):Us(l)}u&&(t[n+1]=r?iv(s):ov(s))}function k9(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&sa(t,e)>=0}const Et={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mM(t){return t.substring(Et.key,Et.keyEnd)}function yM(t,e){const n=Et.textEnd;return n===e?-1:(e=Et.keyEnd=function L9(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Et.key=e,n),xa(t,e,n))}function xa(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Vr(t,e){for(let n=function O9(t){return function vM(t){Et.key=0,Et.keyEnd=0,Et.value=0,Et.valueEnd=0,Et.textEnd=t.length}(t),yM(t,xa(t,0,Et.textEnd))}(e);n>=0;n=yM(e,n))Un(t,mM(e),!0)}function gr(t,e,n,r){const i=de(),s=function oi(t){const e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);i.firstUpdatePass&&function DM(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ln()],o=CM(t,n);AM(s,r)&&null===e&&!o&&(e=!1),e=function $9(t,e,n,r){const i=function xy(t){const e=z.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Oc(n=av(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=av(i,t,e,n,r),null===s){let u=function H9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Us(r))return t[Wi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=av(null,t,e,u[1],r),u=Oc(u,e.attrs,r),function G9(t,e,n,r){t[Wi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function z9(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Oc(r,t[s].hostAttrs,n);return Oc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function R9(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Wi(o),u=Us(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||sa(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Wi(t[a+1]);t[r+1]=vf(h,a),0!==h&&(t[h+1]=sv(t[h+1],r)),t[a+1]=function M9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=vf(a,0),0!==a&&(t[a+1]=sv(t[a+1],r)),a=r;else t[r+1]=vf(u,0),0===a?a=r:t[u+1]=sv(t[u+1],r),u=r;c&&(t[r+1]=iv(t[r+1])),gM(t,l,r,!0),gM(t,l,r,!1),function N9(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&sa(s,e)>=0&&(n[r+1]=ov(n[r+1]))}(e,l,t,r,s),o=vf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(i,null,s,r);const o=D();if(n!==Z&&Yt(o,s,n)){const a=i.data[ln()];if(AM(a,r)&&!CM(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=ny(u,n||"")),tv(i,a,o,n,r)}else!function K9(t,e,n,r,i,s,o,a){i===Z&&(i=me);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,g=f),null!==p&&TM(t,e,n,r,p,g,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[X],o[s+1],o[s+1]=function q9(t,e,n){if(null==n||""===n)return me;const r=[],i=qi(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function CM(t,e){return e>=t.expandoStartIndex}function av(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Oc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Oc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Un(t,o,!!n||e[++s]))}return void 0===t?null:t}function TM(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function x9(t){return 1==(1&t)}(c)?SM(u,e,n,i,Us(c),o):void 0;If(l)||(If(s)||function A9(t){return 2==(2&t)}(c)&&(s=SM(u,null,n,i,a,o)),function Mq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:zi.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=zi.Important),t.setStyle(n,r,i,s))}}(r,o,yh(ln(),n),i,s))}function SM(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===Z&&(h=d?me:void 0);let f=d?$y(h,r):l===r?h:void 0;if(c&&!If(f)&&(f=$y(u,r)),If(f)&&(a=f,o))return a;const p=t[i+1];i=o?Wi(p):Us(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=$y(u,r))}return a}function If(t){return void 0!==t}function AM(t,e){return 0!=(t.flags&(e?8:16))}function Jt(t,e=""){const n=D(),r=de(),i=t+oe,s=r.firstCreatePass?va(r,i,1,e,null):r.data[i],o=MM(r,n,s,e,t);n[i]=o,_h()&&Bh(r,n,o,s),kr(s,!1)}let MM=(t,e,n,r,i)=>(Gi(!0),function Fh(t,e){return t.createText(e)}(e[X],r));function mr(t){return Ef("",t,""),mr}function Ef(t,e,n){const r=D(),i=Ia(r,t,e,n);return i!==Z&&function di(t,e,n){const r=yh(e,t);!function eS(t,e,n){t.setValue(e,n)}(t[X],r,n)}(r,ln(),i),Ef}function hi(t,e,n){gr(Un,Vr,Ia(D(),t,e,n),!0)}const Na="en-US";let XM=Na;function lv(t,e,n,r,i){if(t=q(t),Array.isArray(t))for(let s=0;s<t.length;s++)lv(t[s],e,n,r,i);else{const s=de(),o=D(),a=Lt();let u=Fs(t)?t:q(t.provide);const c=NS(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Fs(t)||!t.multi){const f=new ac(c,i,T),p=hv(u,e,i?l:l+h,d);-1===p?(Uy(Ch(a,o),s,u),dv(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=hv(u,e,l+h,d),p=hv(u,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){Uy(Ch(a,o),s,u);const y=function g7(t,e,n,r,i){const s=new ac(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,Ex(s,i,r&&!n),s}(i?p7:f7,n.length,i,r,c);!i&&m&&(n[p].providerFactory=y),dv(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)}else dv(s,t,f>-1?f:p,Ex(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function dv(t,e,n,r){const i=Fs(e),s=function s6(t){return!!t.useClass}(e);if(i||s){const u=(s?q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Ex(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function f7(t,e,n,r){return fv(this.multi,[])}function p7(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ps(n,n[P],this.providerFactory.index,r);s=a.slice(0,o),fv(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],fv(i,s);return s}function fv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ue(t,e=[]){return n=>{n.providersResolver=(r,i)=>function h7(t,e,n){const r=de();if(r.firstCreatePass){const i=fr(t);lv(n,r.data,r.blueprint,i,!0),lv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class js{}class Cx{}class pv extends js{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new NA(this);const i=Ln(e);this._bootstrapComponents=li(i.bootstrap),this._r3Injector=qS(e,n,[{provide:js,useValue:this},{provide:nf,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class gv extends Cx{constructor(e){super(),this.moduleType=e}create(e){return new pv(this.moduleType,e,[])}}class Dx extends js{constructor(e){super(),this.componentFactoryResolver=new NA(this),this.instance=null;const n=new Qh([...e.providers,{provide:js,useValue:this},{provide:nf,useValue:this.componentFactoryResolver}],e.parent||Kh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function mv(t,e,n=null){return new Dx({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let _7=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=AS(0,r.type),s=i.length>0?mv([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(U(Bn))}),e})();function bx(t){t.getStandaloneInjector=e=>e.get(_7).getOrCreateStandaloneInjector(t)}function kx(t,e,n,r,i,s){const o=e+n;return Yt(t,o,i)?function Fr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function jc(t,e){const n=t[e];return n===Z?void 0:n}(t,o+1)}function _v(t,e){const n=de();let r;const i=t+oe;n.firstCreatePass?(r=function F7(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Rs(r.type)),a=En(T);try{const u=Eh(!1),c=s();return Eh(u),function y9(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,D(),i,c),c}finally{En(a)}}function vv(t,e,n){const r=t+oe,i=D(),s=Wo(i,r);return function $c(t,e){return t[P].data[e].pure}(i,r)?kx(i,cn(),e,s.transform,n,s):s.transform(n)}function H7(t,e,n,r=!0){const i=e[P];if(function Iq(t,e,n,r){const i=Ot+r,s=n.length;r>0&&(n[i-1][hr]=e),r<s-Ot?(e[hr]=n[i],x0(n,Ot+r,e)):(n.push(e),e[hr]=null),e[ze]=n;const o=e[ec];null!==o&&n!==o&&function Eq(t,e){const n=t[zo];e[it]!==e[ze][ze][it]&&(t[MT]=!0),null===n?t[zo]=[e]:n.push(e)}(o,e);const a=e[xr];null!==a&&a.insertView(t),e[te]|=128}(i,e,t,n),r){const s=r_(n,t),o=e[X],a=Uh(o,t[Rr]);null!==a&&function _q(t,e,n,r,i,s){r[Ye]=i,r[Kt]=e,yc(t,r,n,1,i,s)}(i,t[Kt],o,e,a,s)}}let fi=(()=>{class e{}return e.__NG_ELEMENT_ID__=q7,e})();const G7=fi,z7=class extends G7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function $7(t,e,n,r){const i=e.tView,a=af(t,i,n,4096&t[te]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[ec]=t[e.index];const c=t[xr];return null!==c&&(a[xr]=c.createEmbeddedView(i)),K_(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Sc(i)}};function q7(){return Sf(Lt(),D())}function Sf(t,e){return 4&t.type?new z7(e,t,ga(t,e)):null}let yr=(()=>{class e{}return e.__NG_ELEMENT_ID__=J7,e})();function J7(){return function Gx(t,e){let n;const r=e[t.index];return un(r)?n=r:(n=wA(r,e,null,t),e[t.index]=n,uf(e,n)),zx(n,e,t,r),new $x(n,t,e)}(Lt(),D())}const Z7=yr,$x=class extends Z7{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ga(this._hostTNode,this._hostLView)}get injector(){return new dn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Dh(this._hostTNode,this._hostLView);if(Fy(e)){const n=cc(e,this._hostLView),r=uc(e);return new dn(n[P].data[r+8],n)}return new dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Hx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ot}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function dc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new Ac(le(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(Bn,null);m&&(s=m)}le(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function W3(t){return un(t[ze])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[ze],l=new $x(c,c[Kt],c[ze]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return H7(a,i,o,!r),e.attachToViewContainerRef(),x0(Iv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Hx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Vh(this._lContainer,n);r&&(Sh(Iv(this._lContainer),n),Zy(r[P],r))}detach(e){const n=this._adjustIndex(e,-1),r=Vh(this._lContainer,n);return r&&null!=Sh(Iv(this._lContainer),n)?new Sc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Hx(t){return t[8]}function Iv(t){return t[8]||(t[8]=[])}let zx=function qx(t,e,n,r){if(t[Rr])return;let i;i=8&n.type?ke(r):function e8(t,e){const n=t[X],r=n.createComment(""),i=bn(e,t);return Os(n,Uh(n,i),r,function Tq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Rr]=i};function Sv(t,e){return Sf(t,e)}const kv=new O("Application Initializer");let Pv=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=F(kv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(kc(o))r.push(o);else if(nM(o)){const a=new Promise((u,c)=>{o.subscribe({complete:u,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),y1=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const pi=new O("LocaleId",{providedIn:"root",factory:()=>F(pi,ie.Optional|ie.SkipSelf)||function x8(){return typeof $localize<"u"&&$localize.locale||Na}()});let xf=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Yn(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class k8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let _1=(()=>{var t;class e{compileModuleSync(r){return new gv(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=li(Ln(r).declarations).reduce((a,u)=>{const c=le(u);return c&&a.push(new Ac(c)),a},[]);return new k8(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const E1=new O(""),Nf=new O("");let Uv,Lv=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Uv||(function Z8(t){Uv=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(U(De),U(Vv),U(Nf))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})(),Vv=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Uv?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Ki=null;const C1=new O("AllowMultipleToken"),Bv=new O("PlatformDestroyListeners"),jv=new O("appBootstrapListener");class b1{constructor(e,n){this.name=e,this.token=n}}function S1(t,e,n=[]){const r=`Platform: ${e}`,i=new O(r);return(s=[])=>{let o=$v();if(!o||o.injector.get(C1,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function nK(t){if(Ki&&!Ki.get(C1,!1))throw new S(400,!1);(function D1(){!function N3(t){jT=t}(()=>{throw new S(600,!1)})})(),Ki=t;const e=t.get(M1);(function T1(t){t.get(kS,null)?.forEach(n=>n())})(t)}(function A1(t=[],e){return hn.create({name:e,providers:[{provide:m_,useValue:"platform"},{provide:Bv,useValue:new Set([()=>Ki=null])},...t]})}(a,r))}return function iK(t){const e=$v();if(!e)throw new S(401,!1);return e}()}}function $v(){return Ki?.get(M1)??null}let M1=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function sK(t="zone.js",e){return"noop"===t?new B6:"zone.js"===t?new De(e):t}(i?.ngZone,function x1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function y7(t,e,n){return new pv(t,e,n)}(r.moduleType,this.injector,function O1(t){return[{provide:De,useFactory:t},{provide:Ic,multi:!0,useFactory:()=>{const e=F(aK,{optional:!0});return()=>e.initialize()}},{provide:P1,useFactory:oK},{provide:YS,useFactory:XS}]}(()=>s)),a=o.injector.get(Ls,null);return s.runOutsideAngular(()=>{const u=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{kf(this._modules,o),u.unsubscribe()})}),function R1(t,e,n){try{const r=n();return kc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const u=o.injector.get(Pv);return u.runInitializers(),u.donePromise.then(()=>(function JM(t){Xn(t,"Expected localeId to be defined"),"string"==typeof t&&(XM=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(pi,Na)||Na),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=N1({},i);return function eK(t,e,n){const r=new gv(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(Oa);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new S(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Bv,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(U(hn))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function N1(t,e){return Array.isArray(e)?e.reduce(N1,t):{...t,...e}}let Oa=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(P1),this.zoneIsStable=F(YS),this.componentTypes=[],this.components=[],this.isStable=F(xf).hasPendingTasks.pipe(cr(r=>r?H(!1):this.zoneIsStable),function GG(t,e=Li){return t=t??zG,_t((n,r)=>{let i,s=!0;n.subscribe(ft(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),sT()),this._injector=F(Bn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof VS;if(!this._injector.get(Pv).done)throw!s&&function Bo(t){const e=le(t)||Pt(t)||an(t);return null!==e&&e.standalone}(r),new S(405,!1);let a;a=s?r:this._injector.get(nf).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const u=function tK(t){return t.isBoundToModule}(a)?void 0:this._injector.get(js),l=a.create(hn.NULL,[],i||a.selector,u),d=l.location.nativeElement,h=l.injector.get(E1,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),kf(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;kf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(jv,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>kf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function kf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const P1=new O("",{providedIn:"root",factory:()=>F(Ls).handleError.bind(void 0)});function oK(){const t=F(De),e=F(Ls);return n=>t.runOutsideAngular(()=>e.handleError(n))}let aK=(()=>{var t;class e{constructor(){this.zone=F(De),this.applicationRef=F(Oa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Pf=(()=>{class e{}return e.__NG_ELEMENT_ID__=cK,e})();function cK(t){return function lK(t,e,n){if(xs(t)&&!n){const r=Vn(t.index,e);return new Sc(r,r)}return 47&t.type?new Sc(e[it],e):null}(Lt(),D(),16==(16&t))}class U1{constructor(){}supports(e){return hf(e)}create(e){return new mK(e)}}const gK=(t,e)=>e;class mK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gK}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<j1(r,i,s)?n:r,a=j1(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!hf(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Y5(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new yK(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new B1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new B1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class yK{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _K{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class B1{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new _K,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function j1(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function H1(){return new Lf([new U1])}let Lf=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||H1()),deps:[[e,new Mh,new Tn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:H1}),e})();const CK=S1(null,"core",[]);let DK=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Oa))},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({}),e})();function Fa(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Kv=null;function Qi(){return Kv}class VK{}const Hn=new O("DocumentToken");let Qv=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return F(BK)},providedIn:"platform"}),e})();const UK=new O("Location Initialized");let BK=(()=>{var t;class e extends Qv{constructor(){super(),this._doc=F(Hn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qi().getBaseHref(this._doc)}onPopState(r){const i=Qi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Qi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function Yv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Z1(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function gi(t){return t&&"?"!==t[0]?"?"+t:t}let Hs=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return F(tR)},providedIn:"root"}),e})();const eR=new O("appBaseHref");let tR=(()=>{var t;class e extends Hs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(Hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Yv(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+gi(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+gi(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+gi(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Qv),U(eR,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),jK=(()=>{var t;class e extends Hs{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=Yv(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+gi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+gi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Qv),U(eR,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})(),Xv=(()=>{var t;class e{constructor(r){this._subject=new Me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function GK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Z1(nR(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+gi(i))}normalize(r){return e.stripTrailingSlash(function HK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,nR(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+gi(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+gi(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=gi,t.joinWithSlash=Yv,t.stripTrailingSlash=Z1,t.\u0275fac=function(r){return new(r||t)(U(Hs))},t.\u0275prov=$({token:t,factory:function(){return function $K(){return new Xv(U(Hs))}()},providedIn:"root"}),e})();function nR(t){return t.replace(/\/index.html$/,"")}function dR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class xQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Va=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new xQ(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,a),pR(u,s)}});for(let s=0,o=i.length;s<o;s++){const u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{pR(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(T(yr),T(fi),T(Lf))},t.\u0275dir=W({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function pR(t,e){t.context.$implicit=e.item}let Kc=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new RQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){gR("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){gR("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(T(yr),T(fi))},t.\u0275dir=W({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class RQ{constructor(){this.$implicit=null,this.ngIf=null}}function gR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}class PQ{createSubscription(e,n){return GT(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){GT(()=>e.unsubscribe())}}class OQ{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const FQ=new OQ,LQ=new PQ;let yR=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(kc(r))return FQ;if(nM(r))return LQ;throw function vr(t,e){return new S(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Pf,16))},t.\u0275pipe=Cn({name:"async",type:t,pure:!1,standalone:!0}),e})(),hw=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({}),e})();function wR(t){return"server"===t}let iY=(()=>{var t;class e{}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:()=>new sY(U(Hn),window)}),e})();class sY{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function oY(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class IR{}class MY extends VK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class gw extends MY{static makeCurrent(){!function LK(t){Kv||(Kv=t)}(new gw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function xY(){return Yc=Yc||document.querySelector("base"),Yc?Yc.getAttribute("href"):null}();return null==n?null:function RY(t){Xf=Xf||document.createElement("a"),Xf.setAttribute("href",t);const e=Xf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Yc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return dR(document.cookie,e)}}let Xf,Yc=null,kY=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const mw=new O("EventManagerPlugins");let TR=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(U(mw),U(De))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();class SR{constructor(e){this._doc=e}}const yw="ng-app-id";let AR=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=wR(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${yw}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(yw),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(yw,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Hn),U(Yh),U(PS,8),U(ui))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const _w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vw=/%COMP%/g,LY=new O("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function xR(t,e){return e.map(n=>n.replace(vw,t))}let RR=(()=>{var t;class e{constructor(r,i,s,o,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=wR(u),this.defaultRenderer=new ww(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===lr.ShadowDom&&(i={...i,encapsulation:lr.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof kR?s.applyToHost(r):s instanceof Iw&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case lr.Emulated:o=new kR(c,l,i,this.appId,d,a,u,h);break;case lr.ShadowDom:return new jY(c,l,r,i,a,u,this.nonce,h);default:o=new Iw(c,l,i,d,a,u,h)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(U(TR),U(AR),U(Yh),U(LY),U(Hn),U(ui),U(De),U(PS))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();class ww{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_w[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(NR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(NR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=_w[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=_w[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(zi.DashCase|zi.Important)?e.style.setProperty(n,r,i&zi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&zi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Qi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function NR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class jY extends ww{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=xR(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Iw extends ww{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?xR(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class kR extends Iw{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function VY(t){return"_ngcontent-%COMP%".replace(vw,t)}(c),this.hostAttr=function UY(t){return"_nghost-%COMP%".replace(vw,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let $Y=(()=>{var t;class e extends SR{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Hn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const PR=["alt","control","meta","shift"],HY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let zY=(()=>{var t;class e extends SR{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qi().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),PR.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=HY[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),PR.forEach(a=>{a!==s&&(0,GY[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Hn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const FR=[{provide:ui,useValue:"browser"},{provide:kS,useValue:function qY(){gw.makeCurrent()},multi:!0},{provide:Hn,useFactory:function KY(){return function Pq(t){o_=t}(document),document},deps:[]}],QY=S1(CK,"browser",FR),YY=new O(""),LR=[{provide:Nf,useClass:class NY{addToWindow(e){Ne.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},Ne.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ne.getAllAngularRootElements=()=>e.getAllRootElements(),Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(r=>{const i=Ne.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Qi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:E1,useClass:Lv,deps:[De,Vv,Nf]},{provide:Lv,useClass:Lv,deps:[De,Vv,Nf]}],VR=[{provide:m_,useValue:"root"},{provide:Ls,useFactory:function WY(){return new Ls},deps:[]},{provide:mw,useClass:$Y,multi:!0,deps:[Hn,De,ui]},{provide:mw,useClass:zY,multi:!0,deps:[Hn]},RR,AR,TR,{provide:BS,useExisting:RR},{provide:IR,useClass:kY,deps:[]},[]];let XY=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Yh,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(U(YY,12))},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({providers:[...VR,...LR],imports:[hw,DK]}),e})(),UR=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Hn))},t.\u0275prov=$({token:t,factory:function(r){let i=null;return i=r?new r:function ZY(){return new UR(U(Hn))}(),i},providedIn:"root"}),e})();function Ua(t,e){return Ae(e)?kt(t,e,1):kt(t,1)}function _i(t,e){return _t((n,r)=>{let i=0;n.subscribe(ft(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Xc(t){return _t((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}typeof window<"u"&&window;class Jf{}class Zf{}class Ur{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ur?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ur;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ur?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class iX{encodeKey(e){return HR(e)}encodeValue(e){return HR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const oX=/%(\d[a-f0-9])/gi,aX={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function HR(t){return encodeURIComponent(t).replace(oX,(e,n)=>aX[n]??e)}function ep(t){return`${t}`}class Xi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new iX,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function sX(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(ep):[ep(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Xi({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(ep(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ep(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class uX{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function GR(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function zR(t){return typeof Blob<"u"&&t instanceof Blob}function qR(t){return typeof FormData<"u"&&t instanceof FormData}class Jc{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function cX(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ur),this.context||(this.context=new uX),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Xi,this.urlWithParams=n}serializeBody(){return null===this.body?null:GR(this.body)||zR(this.body)||qR(this.body)||function lX(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qR(this.body)?null:zR(this.body)?this.body.type||null:GR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Jc(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var Ba=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ba||{});class Cw{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ur,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Dw extends Cw{constructor(e={}){super(e),this.type=Ba.ResponseHeader}clone(e={}){return new Dw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ja extends Cw{constructor(e={}){super(e),this.type=Ba.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ja({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class WR extends Cw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function bw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let KR=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Jc)o=r;else{let c,l;c=s.headers instanceof Ur?s.headers:new Ur(s.headers),s.params&&(l=s.params instanceof Xi?s.params:new Xi({fromObject:s.params})),o=new Jc(r,i,void 0!==s.body?s.body:null,{headers:c,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=H(o).pipe(Ua(c=>this.handler.handle(c)));if(r instanceof Jc||"events"===s.observe)return a;const u=a.pipe(_i(c=>c instanceof ja));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(se(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return u.pipe(se(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return u.pipe(se(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return u.pipe(se(c=>c.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Xi).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,bw(s,i))}post(r,i,s={}){return this.request("POST",r,bw(s,i))}put(r,i,s={}){return this.request("PUT",r,bw(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Jf))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();function XR(t,e){return e(t)}function hX(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const pX=new O(""),Zc=new O(""),JR=new O("");function gX(){let t=null;return(e,n)=>{null===t&&(t=(F(pX,{optional:!0})??[]).reduceRight(hX,XR));const r=F(xf),i=r.add();return t(e,n).pipe(Xc(()=>r.remove(i)))}}let ZR=(()=>{var t;class e extends Jf{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=F(xf)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Zc),...this.injector.get(JR,[])]));this.chain=s.reduceRight((o,a)=>function fX(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),XR)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Xc(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Zf),U(Bn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const vX=/^\)\]\}',?\n/;let tN=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new S(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?vt(i.\u0275loadImpl()):H(null)).pipe(cr(()=>new Ge(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,y)=>a.setRequestHeader(m,y.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const m=r.detectContentTypeHeader();null!==m&&a.setRequestHeader("Content-Type",m)}if(r.responseType){const m=r.responseType.toLowerCase();a.responseType="json"!==m?m:"text"}const u=r.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=a.statusText||"OK",y=new Ur(a.getAllResponseHeaders()),_=function wX(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return c=new Dw({headers:y,status:a.status,statusText:m,url:_}),c},d=()=>{let{headers:m,status:y,statusText:_,url:E}=l(),C=null;204!==y&&(C=typeof a.response>"u"?a.responseText:a.response),0===y&&(y=C?200:0);let k=y>=200&&y<300;if("json"===r.responseType&&"string"==typeof C){const Q=C;C=C.replace(vX,"");try{C=""!==C?JSON.parse(C):null}catch(ye){C=Q,k&&(k=!1,C={error:ye,text:C})}}k?(o.next(new ja({body:C,headers:m,status:y,statusText:_,url:E||void 0})),o.complete()):o.error(new WR({error:C,headers:m,status:y,statusText:_,url:E||void 0}))},h=m=>{const{url:y}=l(),_=new WR({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});o.error(_)};let f=!1;const p=m=>{f||(o.next(l()),f=!0);let y={type:Ba.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===r.responseType&&a.responseText&&(y.partialText=a.responseText),o.next(y)},g=m=>{let y={type:Ba.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",p),null!==u&&a.upload&&a.upload.addEventListener("progress",g)),a.send(u),o.next({type:Ba.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",p),null!==u&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(U(IR))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const Tw=new O("XSRF_ENABLED"),nN=new O("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),rN=new O("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class iN{}let CX=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=dR(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Hn),U(ui),U(nN))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();function DX(t,e){const n=t.url.toLowerCase();if(!F(Tw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=F(iN).getToken(),i=F(rN);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Ji=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Ji||{});function Gs(t,e){return{\u0275kind:t,\u0275providers:e}}function bX(...t){const e=[KR,tN,ZR,{provide:Jf,useExisting:ZR},{provide:Zf,useExisting:tN},{provide:Zc,useValue:DX,multi:!0},{provide:Tw,useValue:!0},{provide:iN,useClass:CX}];for(const n of t)e.push(...n.\u0275providers);return function f_(t){return{\u0275providers:t}}(e)}const sN=new O("LEGACY_INTERCEPTOR_FN");let SX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({providers:[bX(Gs(Ji.LegacyInterceptors,[{provide:sN,useFactory:gX},{provide:Zc,useExisting:sN,multi:!0}]))]}),e})();function oN(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){oN(s,r,i,o,a,"next",u)}function a(u){oN(s,r,i,o,a,"throw",u)}o(void 0)})}}const aN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Aw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new FX;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const np=function(t){return function(t){const e=aN(t);return Aw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},rp=function(t){try{return Aw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ip=()=>{try{return function UX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},cN=()=>{var t;return null===(t=ip())||void 0===t?void 0:t.config};class sp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function zn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function zs(){try{return"object"==typeof indexedDB}catch{return!1}}function el(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function xw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Br.prototype.create)}}class Br{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function XX(t,e){return t.replace(JX,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new wr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const JX=/\{\$([^}]+)}/g;function Rw(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(dN(s)&&dN(o)){if(!Rw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dN(t){return null!==t&&"object"==typeof t}function hN(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class eJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function tJ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Nw),void 0===i.error&&(i.error=Nw),void 0===i.complete&&(i.complete=Nw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nw(){}const nJ=1e3,rJ=2,iJ=144e5,sJ=.5;function Pw(t,e=nJ,n=rJ){const r=e*Math.pow(n,t),i=Math.round(sJ*r*(Math.random()-.5)*2);return Math.min(iJ,r+i)}function qn(t){return t&&t._delegate?t._delegate:t}class Zt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qs="[DEFAULT]";class aJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function cJ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===qs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class lJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Ow=[];var ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{});const fN={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},dJ=ge.INFO,hJ={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},fJ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=hJ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class $a{constructor(e){this.name=e,this._logLevel=dJ,this._logHandler=fJ,this._userLogHandler=null,Ow.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?fN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const pJ=(t,e)=>e.some(n=>t instanceof n);let pN,gN;const mN=new WeakMap,Fw=new WeakMap,yN=new WeakMap,Lw=new WeakMap,Vw=new WeakMap;let Uw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Fw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||yN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function IJ(t){return"function"==typeof t?function wJ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mJ(){return gN||(gN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Bw(this),e),Zi(mN.get(this))}:function(...e){return Zi(t.apply(Bw(this),e))}:function(e,...n){const r=t.call(Bw(this),e,...n);return yN.set(r,e.sort?e.sort():[e]),Zi(r)}}(t):(t instanceof IDBTransaction&&function _J(t){if(Fw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fw.set(t,e)}(t),pJ(t,function gJ(){return pN||(pN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Uw):t)}function Zi(t){if(t instanceof IDBRequest)return function yJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mN.set(n,t)}).catch(()=>{}),Vw.set(e,t),e}(t);if(Lw.has(t))return Lw.get(t);const e=IJ(t);return e!==t&&(Lw.set(t,e),Vw.set(e,t)),e}const Bw=t=>Vw.get(t),CJ=["get","getKey","getAll","getAllKeys","count"],DJ=["put","add","delete","clear"],jw=new Map;function _N(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(jw.get(e))return jw.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=DJ.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!CJ.includes(r))return;const o=function(u){return(n=n||v(function*(c,...l){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[r](...l),s&&d.done]))[0]})).apply(this,arguments)};return jw.set(e,o),o}var wN,IN;!function vJ(t){Uw=t(Uw)}(t=>({...t,get:(e,n,r)=>_N(e,n)||t.get(e,n,r),has:(e,n)=>!!_N(e,n)||t.has(e,n)}));class bJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function TJ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const $w="@firebase/app",Ws=new $a("@firebase/app"),ap="[DEFAULT]",JJ={[$w]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ks=new Map,up=new Map;function ZJ(t,e){try{t.container.addComponent(e)}catch(n){Ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mn(t){const e=t.name;if(up.has(e))return Ws.debug(`There were multiple attempts to register component ${e}.`),!1;up.set(e,t);for(const n of Ks.values())ZJ(n,t);return!0}function cp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const vi=new Br("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}const tl="9.23.0";function CN(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:ap,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw vi.create("bad-app-name",{appName:String(i)});if(n||(n=cN()),!n)throw vi.create("no-options");const s=Ks.get(i);if(s){if(Rw(n,s.options)&&Rw(r,s.config))return s;throw vi.create("duplicate-app",{appName:i})}const o=new lJ(i);for(const u of up.values())o.addComponent(u);const a=new tZ(n,r,o);return Ks.set(i,a),a}function DN(t=ap){const e=Ks.get(t);if(!e&&t===ap&&cN())return CN();if(!e)throw vi.create("no-app",{appName:t});return e}function bN(){return Array.from(Ks.values())}function ot(t,e,n){var r;let i=null!==(r=JJ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ws.warn(a.join(" "))}mn(new Zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const nZ="firebase-heartbeat-database",rZ=1,nl="firebase-heartbeat-store";let Hw=null;function TN(){return Hw||(Hw=function EJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Zi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Zi(o.result),u.oldVersion,u.newVersion,Zi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(nZ,rZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(nl)}}).catch(t=>{throw vi.create("idb-open",{originalErrorMessage:t.message})})),Hw}function SN(t,e){return(IN=IN||v(function*(n,r){try{const s=(yield TN()).transaction(nl,"readwrite");yield s.objectStore(nl).put(r,AN(n)),yield s.done}catch(i){if(i instanceof wr)Ws.warn(i.message);else{const s=vi.create("idb-set",{originalErrorMessage:i?.message});Ws.warn(s.message)}}})).apply(this,arguments)}function AN(t){return`${t.name}!${t.options.appId}`}class aZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=MN();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=MN(),{heartbeatsToSend:r,unsentEntries:i}=function uZ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=np(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function MN(){return(new Date).toISOString().substring(0,10)}class cZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!zs()&&el().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function iZ(t){return(wN=wN||v(function*(e){try{return yield(yield TN()).transaction(nl).objectStore(nl).get(AN(e))}catch(n){if(n instanceof wr)Ws.warn(n.message);else{const r=vi.create("idb-get",{originalErrorMessage:n?.message});Ws.warn(r.message)}}})).apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return SN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return SN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function xN(t){return np(JSON.stringify({version:2,heartbeats:t})).length}!function lZ(t){mn(new Zt("platform-logger",e=>new bJ(e),"PRIVATE")),mn(new Zt("heartbeat",e=>new aZ(e),"PRIVATE")),ot($w,"0.9.13",t),ot($w,"0.9.13","esm2017"),ot("fire-js","")}(""),ot("firebase","9.23.0","app");const fZ=(t,e)=>e.some(n=>t instanceof n);let RN,NN;const kN=new WeakMap,Gw=new WeakMap,PN=new WeakMap,zw=new WeakMap,qw=new WeakMap;let Ww={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Gw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||PN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function wZ(t){return"function"==typeof t?function vZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gZ(){return NN||(NN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Kw(this),e),es(kN.get(this))}:function(...e){return es(t.apply(Kw(this),e))}:function(e,...n){const r=t.call(Kw(this),e,...n);return PN.set(r,e.sort?e.sort():[e]),es(r)}}(t):(t instanceof IDBTransaction&&function yZ(t){if(Gw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Gw.set(t,e)}(t),fZ(t,function pZ(){return RN||(RN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Ww):t)}function es(t){if(t instanceof IDBRequest)return function mZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(es(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kN.set(n,t)}).catch(()=>{}),qw.set(e,t),e}(t);if(zw.has(t))return zw.get(t);const e=wZ(t);return e!==t&&(zw.set(t,e),qw.set(e,t)),e}const Kw=t=>qw.get(t),EZ=["get","getKey","getAll","getAllKeys","count"],CZ=["put","add","delete","clear"],Qw=new Map;function ON(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Qw.get(e))return Qw.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=CZ.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!EZ.includes(r))return;const o=function(u){return(n=n||v(function*(c,...l){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[r](...l),s&&d.done]))[0]})).apply(this,arguments)};return Qw.set(e,o),o}var FN,LN,VN,UN,BN,jN,$N,HN,GN,zN,qN,WN,KN,QN,YN,XN;!function _Z(t){Ww=t(Ww)}(t=>({...t,get:(e,n,r)=>ON(e,n)||t.get(e,n,r),has:(e,n)=>!!ON(e,n)||t.has(e,n)}));const ek="@firebase/installations",Yw="0.6.4",tk=1e4,nk=`w:${Yw}`,rk="FIS_v2",DZ="https://firebaseinstallations.googleapis.com/v1",bZ=36e5,wi=new Br("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ik(t){return t instanceof wr&&t.code.includes("request-failed")}function Xw({projectId:t}){return`${DZ}/projects/${t}/installations`}function sk(t){return{token:t.token,requestStatus:2,expiresIn:MZ(t.expiresIn),creationTime:Date.now()}}function Jw(t,e){return(FN=FN||v(function*(n,r){const s=(yield r.json()).error;return wi.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})})).apply(this,arguments)}function ok({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Zw(t){return(LN=LN||v(function*(e){const n=yield e();return n.status>=500&&n.status<600?e():n})).apply(this,arguments)}function MZ(t){return Number(t.replace("s","000"))}function uk(t){return new Promise(e=>{setTimeout(e,t)})}const kZ=/^[cdef][\w-]{21}$/,eI="";function PZ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function OZ(t){return function NZ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return kZ.test(n)?n:eI}catch{return eI}}function Ha(t){return`${t.appName}!${t.appId}`}const Ga=new Map;function ck(t,e){const n=Ha(t);lk(n,e),function VZ(t,e){const n=function dk(){return!Qs&&"BroadcastChannel"in self&&(Qs=new BroadcastChannel("[Firebase] FID Change"),Qs.onmessage=t=>{lk(t.data.key,t.data.fid)}),Qs}();n&&n.postMessage({key:t,fid:e}),function hk(){0===Ga.size&&Qs&&(Qs.close(),Qs=null)}()}(n,e)}function lk(t,e){const n=Ga.get(t);if(n)for(const r of n)r(e)}let Qs=null;const UZ="firebase-installations-database",BZ=1,Ys="firebase-installations-store";let tI=null;function nI(){return tI||(tI=function IZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=es(o);return r&&o.addEventListener("upgradeneeded",u=>{r(es(o.result),u.oldVersion,u.newVersion,es(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(UZ,BZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ys)}})),tI}function lp(t,e){return(UN=UN||v(function*(n,r){const i=Ha(n),o=(yield nI()).transaction(Ys,"readwrite"),a=o.objectStore(Ys),u=yield a.get(i);return yield a.put(r,i),yield o.done,(!u||u.fid!==r.fid)&&ck(n,r.fid),r})).apply(this,arguments)}function rI(t){return(BN=BN||v(function*(e){const n=Ha(e),i=(yield nI()).transaction(Ys,"readwrite");yield i.objectStore(Ys).delete(n),yield i.done})).apply(this,arguments)}function rl(t,e){return(jN=jN||v(function*(n,r){const i=Ha(n),o=(yield nI()).transaction(Ys,"readwrite"),a=o.objectStore(Ys),u=yield a.get(i),c=r(u);return void 0===c?yield a.delete(i):yield a.put(c,i),yield o.done,c&&(!u||u.fid!==c.fid)&&ck(n,c.fid),c})).apply(this,arguments)}function iI(t){return($N=$N||v(function*(e){let n;const r=yield rl(e.appConfig,i=>{const s=function jZ(t){return pk(t||{fid:PZ(),registrationStatus:0})}(i),o=function $Z(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(wi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function HZ(t,e){return(HN=HN||v(function*(n,r){try{const i=yield function RZ(t,e){return(VN=VN||v(function*({appConfig:n,heartbeatServiceProvider:r},{fid:i}){const s=Xw(n),o=ok(n),a=r.getImmediate({optional:!0});if(a){const d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const c={method:"POST",headers:o,body:JSON.stringify({fid:i,authVersion:rk,appId:n.appId,sdkVersion:nk})},l=yield Zw(()=>fetch(s,c));if(l.ok){const d=yield l.json();return{fid:d.fid||i,registrationStatus:2,refreshToken:d.refreshToken,authToken:sk(d.authToken)}}throw yield Jw("Create Installation",l)})).apply(this,arguments)}(n,r);return lp(n.appConfig,i)}catch(i){throw ik(i)&&409===i.customData.serverCode?yield rI(n.appConfig):yield lp(n.appConfig,{fid:r.fid,registrationStatus:0}),i}})).apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:GZ(t)}:{installationEntry:e}}(e,s);return n=o.registrationPromise,o.installationEntry});return r.fid===eI?{installationEntry:yield n}:{installationEntry:r,registrationPromise:n}})).apply(this,arguments)}function GZ(t){return(GN=GN||v(function*(e){let n=yield fk(e.appConfig);for(;1===n.registrationStatus;)yield uk(100),n=yield fk(e.appConfig);if(0===n.registrationStatus){const{installationEntry:r,registrationPromise:i}=yield iI(e);return i||r}return n})).apply(this,arguments)}function fk(t){return rl(t,e=>{if(!e)throw wi.create("installation-not-found");return pk(e)})}function pk(t){return function zZ(t){return 1===t.registrationStatus&&t.registrationTime+tk<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function qZ(t,e){return(zN=zN||v(function*({appConfig:n,heartbeatServiceProvider:r},i){const s=function WZ(t,{fid:e}){return`${Xw(t)}/${e}/authTokens:generate`}(n,i),o=function ak(t,{refreshToken:e}){const n=ok(t);return n.append("Authorization",function xZ(t){return`${rk} ${t}`}(e)),n}(n,i),a=r.getImmediate({optional:!0});if(a){const d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const c={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:nk,appId:n.appId}})},l=yield Zw(()=>fetch(s,c));if(l.ok)return sk(yield l.json());throw yield Jw("Generate Auth Token",l)})).apply(this,arguments)}function sI(t){return(qN=qN||v(function*(e,n=!1){let r;const i=yield rl(e.appConfig,o=>{if(!mk(o))throw wi.create("not-registered");const a=o.authToken;if(!n&&function YZ(t){return 2===t.requestStatus&&!function XZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+bZ}(t)}(a))return o;if(1===a.requestStatus)return r=function KZ(t,e){return(WN=WN||v(function*(n,r){let i=yield gk(n.appConfig);for(;1===i.authToken.requestStatus;)yield uk(100),i=yield gk(n.appConfig);const s=i.authToken;return 0===s.requestStatus?sI(n,r):s})).apply(this,arguments)}(e,n),o;{if(!navigator.onLine)throw wi.create("app-offline");const u=function JZ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return r=function QZ(t,e){return(KN=KN||v(function*(n,r){try{const i=yield qZ(n,r),s=Object.assign(Object.assign({},r),{authToken:i});return yield lp(n.appConfig,s),i}catch(i){if(!ik(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode){const s=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}});yield lp(n.appConfig,s)}else yield rI(n.appConfig);throw i}})).apply(this,arguments)}(e,u),u}});return r?yield r:i.authToken})).apply(this,arguments)}function gk(t){return rl(t,e=>{if(!mk(e))throw wi.create("not-registered");return function ZZ(t){return 1===t.requestStatus&&t.requestTime+tk<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function mk(t){return void 0!==t&&2===t.registrationStatus}function oI(t){return wi.create("missing-app-config-values",{valueName:t})}const yk="installations",aee=t=>{const e=t.getProvider("app").getImmediate(),n=function see(t){if(!t||!t.options)throw oI("App Configuration");if(!t.name)throw oI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw oI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:cp(e,"heartbeat"),_delete:()=>Promise.resolve()}},uee=t=>{const n=cp(t.getProvider("app").getImmediate(),yk).getImmediate();return{getId:()=>function eee(t){return(QN=QN||v(function*(e){const n=e,{installationEntry:r,registrationPromise:i}=yield iI(n);return i?i.catch(console.error):sI(n).catch(console.error),r.fid})).apply(this,arguments)}(n),getToken:i=>function tee(t){return(YN=YN||v(function*(e,n=!1){const r=e;return yield function nee(t){return(XN=XN||v(function*(e){const{registrationPromise:n}=yield iI(e);n&&(yield n)})).apply(this,arguments)}(r),(yield sI(r,n)).token})).apply(this,arguments)}(n,i)}};var Ik;(function cee(){mn(new Zt(yk,aee,"PUBLIC")),mn(new Zt("installations-internal",uee,"PRIVATE"))})(),ot(ek,Yw),ot(ek,Yw,"esm2017");const aI="@firebase/remote-config",xn=new Br("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wee{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Iee(t=navigator){return t.languages&&t.languages[0]||t.language}class Eee{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Iee()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((y,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(y){let _="fetch-client-network";throw"AbortError"===y?.name&&(_="fetch-timeout"),xn.create(_,{originalErrorMessage:y?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let y;try{y=yield h.json()}catch(_){throw xn.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=y.entries,m=y.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw xn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class bee{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return v(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return v(function*(){yield function Cee(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Dee(t){if(!(t instanceof wr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Pw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Aee{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function hp(t,e){const n=t.target.error||void 0;return xn.create(e,{originalErrorMessage:n&&n?.message})}const Xs="app_namespace_store";class Nee{constructor(e,n,r,i=function Ree(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(hp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Xs,{keyPath:"compositeKey"})}}catch(n){e(xn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Xs],"readonly").objectStore(Xs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(hp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(xn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Xs],"readwrite").objectStore(Xs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(hp(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(xn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Xs],"readwrite").objectStore(Xs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(hp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(xn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class kee{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Oee(){return(Ik=Ik||v(function*(){if(!zs())return!1;try{return yield el()}catch{return!1}})).apply(this,arguments)}!function Pee(){mn(new Zt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xn.create("registration-window");if(!zs())throw xn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw xn.create("registration-project-id");if(!o)throw xn.create("registration-api-key");if(!a)throw xn.create("registration-app-id");const u=new Nee(a,r.name,n=n||"firebase"),c=new kee(u),l=new $a(aI);l.logLevel=ge.ERROR;const d=new Eee(i,tl,n,s,o,a),h=new bee(d,u),f=new wee(h,u,c,l),p=new Aee(r,f,c,u,l);return function yee(t){const e=qn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ot(aI,"0.4.4"),ot(aI,"0.4.4","esm2017")}();const Fee=(t,e)=>e.some(n=>t instanceof n);let bk,Tk;const Sk=new WeakMap,cI=new WeakMap,Ak=new WeakMap,lI=new WeakMap,dI=new WeakMap;let hI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return cI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Ak.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Hee(t){return"function"==typeof t?function $ee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Vee(){return Tk||(Tk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(fI(this),e),Ii(Sk.get(this))}:function(...e){return Ii(t.apply(fI(this),e))}:function(e,...n){const r=t.call(fI(this),e,...n);return Ak.set(r,e.sort?e.sort():[e]),Ii(r)}}(t):(t instanceof IDBTransaction&&function Bee(t){if(cI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cI.set(t,e)}(t),Fee(t,function Lee(){return bk||(bk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,hI):t)}function Ii(t){if(t instanceof IDBRequest)return function Uee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ii(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Sk.set(n,t)}).catch(()=>{}),dI.set(e,t),e}(t);if(lI.has(t))return lI.get(t);const e=Hee(t);return e!==t&&(lI.set(t,e),dI.set(e,t)),e}const fI=t=>dI.get(t);function Mk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ii(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ii(o.result),u.oldVersion,u.newVersion,Ii(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function pI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ii(n).then(()=>{})}const Gee=["get","getKey","getAll","getAllKeys","count"],zee=["put","add","delete","clear"],gI=new Map;function xk(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(gI.get(e))return gI.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=zee.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!Gee.includes(r))return;const o=function(u){return(n=n||v(function*(c,...l){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[r](...l),s&&d.done]))[0]})).apply(this,arguments)};return gI.set(e,o),o}var Rk,Nk,kk,Pk,Ok,Fk,Lk,Vk,Uk,Bk,jk,$k,Hk,Gk,zk,qk,Wk,Kk,Qk,Yk;!function jee(t){hI=t(hI)}(t=>({...t,get:(e,n,r)=>xk(e,n)||t.get(e,n,r),has:(e,n)=>!!xk(e,n)||t.has(e,n)}));const qee="/firebase-messaging-sw.js",Wee="/firebase-cloud-messaging-push-scope",Zk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Kee="https://fcmregistrations.googleapis.com/v1",eP="google.c.a.c_id",Qee="google.c.a.c_l",Yee="google.c.a.ts";var fp=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(fp||{});function Ei(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zee(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const mI="fcm_token_details_db",ete=5,tP="fcm_token_object_Store",rte="firebase-messaging-database",ite=1,Js="firebase-messaging-store";let yI=null;function _I(){return yI||(yI=Mk(rte,ite,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Js)}})),yI}function nP(t){return(Nk=Nk||v(function*(e){const n=wI(e),i=yield(yield _I()).transaction(Js).objectStore(Js).get(n);if(i)return i;{const s=yield function tte(t){return(Rk=Rk||v(function*(e){var n;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(mI))return null;let r=null;return(yield Mk(mI,ete,{upgrade:function(o,a,u,c){return(n=n||v(function*(l,d,h,f){var p;if(d<2||!l.objectStoreNames.contains(tP))return;const g=f.objectStore(tP),m=yield g.index("fcmSenderId").get(e);if(yield g.clear(),m)if(2===d){const y=m;if(!y.auth||!y.p256dh||!y.endpoint)return;r={token:y.fcmToken,createTime:null!==(p=y.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:"string"==typeof y.vapidKey?y.vapidKey:Ei(y.vapidKey)}}}else if(3===d){const y=m;r={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Ei(y.auth),p256dh:Ei(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Ei(y.vapidKey)}}}else if(4===d){const y=m;r={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Ei(y.auth),p256dh:Ei(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Ei(y.vapidKey)}}}})).apply(this,arguments)}})).close(),yield pI(mI),yield pI("fcm_vapid_details_db"),yield pI("undefined"),function nte(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(r)?r:null})).apply(this,arguments)}(e.appConfig.senderId);if(s)return yield vI(e,s),s}})).apply(this,arguments)}function vI(t,e){return(kk=kk||v(function*(n,r){const i=wI(n),o=(yield _I()).transaction(Js,"readwrite");return yield o.objectStore(Js).put(r,i),yield o.done,r})).apply(this,arguments)}function wI({appConfig:t}){return t.appId}const Bt=new Br("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ate(t,e){return(Ok=Ok||v(function*(n,r){const i=yield EI(n),s=iP(r),o={method:"POST",headers:i,body:JSON.stringify(s)};let a;try{a=yield(yield fetch(II(n.appConfig),o)).json()}catch(u){throw Bt.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(a.error)throw Bt.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw Bt.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function rP(t,e){return(Lk=Lk||v(function*(n,r){const s={method:"DELETE",headers:yield EI(n)};try{const a=yield(yield fetch(`${II(n.appConfig)}/${r}`,s)).json();if(a.error)throw Bt.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(o){throw Bt.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}})).apply(this,arguments)}function II({projectId:t}){return`${Kee}/projects/${t}/registrations`}function EI(t){return(Vk=Vk||v(function*({appConfig:e,installations:n}){const r=yield n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})).apply(this,arguments)}function iP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Zk&&(i.web.applicationPubKey=r),i}const cte=6048e5;function lte(t){return(Uk=Uk||v(function*(e){const n=yield function hte(t,e){return(Hk=Hk||v(function*(n,r){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zee(r)})})).apply(this,arguments)}(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:n.endpoint,auth:Ei(n.getKey("auth")),p256dh:Ei(n.getKey("p256dh"))},i=yield nP(e.firebaseDependencies);if(i){if(function fte(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(i.subscriptionOptions,r))return Date.now()>=i.createTime+cte?function dte(t,e){return(jk=jk||v(function*(n,r){try{const i=yield function ute(t,e){return(Fk=Fk||v(function*(n,r){const i=yield EI(n),s=iP(r.subscriptionOptions),o={method:"PATCH",headers:i,body:JSON.stringify(s)};let a;try{a=yield(yield fetch(`${II(n.appConfig)}/${r.token}`,o)).json()}catch(u){throw Bt.create("token-update-failed",{errorInfo:u?.toString()})}if(a.error)throw Bt.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw Bt.create("token-update-no-token");return a.token})).apply(this,arguments)}(n.firebaseDependencies,r),s=Object.assign(Object.assign({},r),{token:i,createTime:Date.now()});return yield vI(n.firebaseDependencies,s),i}catch(i){throw yield function sP(t){return(Bk=Bk||v(function*(e){const n=yield nP(e.firebaseDependencies);n&&(yield rP(e.firebaseDependencies,n.token),yield function ste(t){return(Pk=Pk||v(function*(e){const n=wI(e),i=(yield _I()).transaction(Js,"readwrite");yield i.objectStore(Js).delete(n),yield i.done})).apply(this,arguments)}(e.firebaseDependencies));const r=yield e.swRegistration.pushManager.getSubscription();return!r||r.unsubscribe()})).apply(this,arguments)}(n),i}})).apply(this,arguments)}(e,{token:i.token,createTime:Date.now(),subscriptionOptions:r}):i.token;try{yield rP(e.firebaseDependencies,i.token)}catch(s){console.warn(s)}return oP(e.firebaseDependencies,r)}return oP(e.firebaseDependencies,r)})).apply(this,arguments)}function oP(t,e){return($k=$k||v(function*(n,r){const s={token:yield ate(n,r),createTime:Date.now(),subscriptionOptions:r};return yield vI(n,s),s.token})).apply(this,arguments)}function aP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function pte(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function gte(t,e){e.data&&(t.data=e.data)}(e,t),function mte(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function uP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function CI(t){return Bt.create("missing-app-config-values",{valueName:t})}uP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),uP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vte{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function _te(t){if(!t||!t.options)throw CI("App Configuration Object");if(!t.name)throw CI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw CI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function lP(t,e){return(Wk=Wk||v(function*(n,r){if(!navigator)throw Bt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bt.create("permission-blocked");return yield function Ite(t,e){return(qk=qk||v(function*(n,r){r?n.vapidKey=r:n.vapidKey||(n.vapidKey=Zk)})).apply(this,arguments)}(n,r?.vapidKey),yield function wte(t,e){return(zk=zk||v(function*(n,r){if(!r&&!n.swRegistration&&(yield function cP(t){return(Gk=Gk||v(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(qee,{scope:Wee}),e.swRegistration.update().catch(()=>{})}catch(n){throw Bt.create("failed-service-worker-registration",{browserErrorMessage:n?.message})}})).apply(this,arguments)}(n)),r||!n.swRegistration){if(!(r instanceof ServiceWorkerRegistration))throw Bt.create("invalid-sw-registration");n.swRegistration=r}})).apply(this,arguments)}(n,r?.serviceWorkerRegistration),lte(n)})).apply(this,arguments)}function Dte(t,e){return(Qk=Qk||v(function*(n,r){const i=r.data;if(!i.isFirebaseMessaging)return;n.onMessageHandler&&i.messageType===fp.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(aP(i)):n.onMessageHandler.next(aP(i)));const s=i.data;(function yte(t){return"object"==typeof t&&!!t&&eP in t})(s)&&"1"===s["google.c.a.e"]&&(yield function Ete(t,e,n){return(Kk=Kk||v(function*(r,i,s){const o=function Cte(t){switch(t){case fp.NOTIFICATION_CLICKED:return"notification_open";case fp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(i);(yield r.firebaseDependencies.analyticsProvider.get()).logEvent(o,{message_id:s[eP],message_name:s[Qee],message_time:s[Yee],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(n,i.messageType,s))})).apply(this,arguments)}const dP="@firebase/messaging",bte=t=>{const e=new vte(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>Dte(e,n)),e},Tte=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>lP(e,r)}};function fP(){return(Yk=Yk||v(function*(){try{yield el()}catch{return!1}return typeof window<"u"&&zs()&&xw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var pP,gP,mP,yP,_P,vP,bP,TP,SP;!function Ste(){mn(new Zt("messaging",bte,"PUBLIC")),mn(new Zt("messaging-internal",Tte,"PRIVATE")),ot(dP,"0.12.4"),ot(dP,"0.12.4","esm2017")}();const pp="analytics",xte="firebase_id",Rte="origin",Nte=6e4,kte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",DI="https://www.googletagmanager.com/gtag/js",bt=new $a("@firebase/analytics"),yn=new Br("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ote(t){if(!t.startsWith(DI)){const e=yn.create("invalid-gtag-resource",{gtagURL:t});return bt.warn(e.message),""}return t}function MP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}const Gte=30,xP=new class qte{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Wte(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Qte(t){return(yP=yP||v(function*(e,n=xP,r){const{appId:i,apiKey:s,measurementId:o}=e.options;if(!i)throw yn.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw yn.create("no-api-key")}const a=n.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Jte;return setTimeout(v(function*(){u.abort()}),void 0!==r?r:Nte),RP({appId:i,apiKey:s,measurementId:o},a,u,n)})).apply(this,arguments)}function RP(t,e,n){return(_P=_P||v(function*(r,{throttleEndTimeMillis:i,backoffCount:s},o,a=xP){var u;const{appId:c,measurementId:l}=r;try{yield function Yte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(o,i)}catch(d){if(l)return bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:c,measurementId:l};throw d}try{const d=yield function Kte(t){return(mP=mP||v(function*(e){var n;const{appId:r,apiKey:i}=e,s={method:"GET",headers:Wte(i)},o=kte.replace("{app-id}",r),a=yield fetch(o,s);if(200!==a.status&&304!==a.status){let u="";try{const c=yield a.json();null!==(n=c.error)&&void 0!==n&&n.message&&(u=c.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()})).apply(this,arguments)}(r);return a.deleteThrottleMetadata(c),d}catch(d){const h=d;if(!function Xte(t){if(!(t instanceof wr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h)){if(a.deleteThrottleMetadata(c),l)return bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:c,measurementId:l};throw d}const f=503===Number(null===(u=h?.customData)||void 0===u?void 0:u.httpStatus)?Pw(s,a.intervalMillis,Gte):Pw(s,a.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:s+1};return a.setThrottleMetadata(c,p),bt.debug(`Calling attemptFetch again in ${f} millis`),RP(r,p,o,a)}})).apply(this,arguments)}class Jte{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let bI,TI;function one(t,e,n,r,i,s,o){return(TP=TP||v(function*(a,u,c,l,d,h,f){var p;const g=Qte(a);g.then(C=>{c[C.measurementId]=C.appId,a.options.measurementId&&C.measurementId!==a.options.measurementId&&bt.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>bt.error(C)),u.push(g);const m=function sne(){return(bP=bP||v(function*(){if(!zs())return bt.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield el()}catch(t){return bt.warn(yn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(C=>{if(C)return l.getId()}),[y,_]=yield Promise.all([g,m]);(function Hte(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(DI)&&n.src.includes(t))return n;return null})(h)||function Lte(t,e){const n=function Fte(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Ote}),r=document.createElement("script"),i=`${DI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(h,y.measurementId),TI&&(d("consent","default",TI),function NP(t){TI=t}(void 0)),d("js",new Date);const E=null!==(p=f?.config)&&void 0!==p?p:{};return E[Rte]="firebase",E.update=!0,null!=_&&(E[xte]=_),d("config",y.measurementId,E),bI&&(d("set",bI),function kP(t){bI=t}(void 0)),y.measurementId})).apply(this,arguments)}class ane{constructor(e){this.app=e}_delete(){return delete jr[this.app.options.appId],Promise.resolve()}}let jr={},PP=[];const OP={};let LP,$r,gp="dataLayer",SI=!1;function cne(t,e,n){!function une(){const t=[];if(Mw()&&t.push("This is a browser extension environment."),xw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=yn.create("invalid-analytics-context",{errorInfo:e});bt.warn(n.message)}}();const r=t.options.appId;if(!r)throw yn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw yn.create("no-api-key");bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jr[r])throw yn.create("already-exists",{id:r});if(!SI){!function Vte(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(gp);const{wrappedGtag:s,gtagCore:o}=function $te(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function jte(t,e,n,r){var i;return function s(o){return(i=i||v(function*(a,...u){try{if("event"===a){const[c,l]=u;yield function Bte(t,e,n,r,i){return(gP=gP||v(function*(s,o,a,u,c){try{let l=[];if(c&&c.send_to){let d=c.send_to;Array.isArray(d)||(d=[d]);const h=yield MP(a);for(const f of d){const p=h.find(m=>m.measurementId===f),g=p&&o[p.appId];if(!g){l=[];break}l.push(g)}}0===l.length&&(l=Object.values(o)),yield Promise.all(l),s("event",u,c||{})}catch(l){bt.error(l)}})).apply(this,arguments)}(t,e,n,c,l)}else if("config"===a){const[c,l]=u;yield function Ute(t,e,n,r,i,s){return(pP=pP||v(function*(o,a,u,c,l,d){const h=c[l];try{if(h)yield a[h];else{const p=(yield MP(u)).find(g=>g.measurementId===l);p&&(yield a[p.appId])}}catch(f){bt.error(f)}o("config",l,d)})).apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===a){const[c]=u;t("consent","update",c)}else if("get"===a){const[c,l,d]=u;t("get",c,l,d)}else if("set"===a){const[c]=u;t("set",c)}else t(a,...u)}catch(c){bt.error(c)}})).apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(jr,PP,OP,gp,"gtag");$r=s,LP=o,SI=!0}return jr[r]=one(t,PP,OP,e,LP,gp,n),new ane(t)}function dne(){return(SP=SP||v(function*(){if(Mw()||!xw()||!zs())return!1;try{return yield el()}catch{return!1}})).apply(this,arguments)}const VP="@firebase/analytics";!function fne(){mn(new Zt(pp,(e,{options:n})=>cne(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),mn(new Zt("analytics-internal",function t(e){try{const n=e.getProvider(pp).getImmediate();return{logEvent:(r,i,s)=>function hne(t,e,n,r){t=qn(t),function Zte(t,e,n,r,i){return(vP=vP||v(function*(s,o,a,u,c){if(c&&c.global)s("event",a,u);else{const l=yield o;s("event",a,Object.assign(Object.assign({},u),{send_to:l}))}})).apply(this,arguments)}($r,jr[t.app.options.appId],e,n,r).catch(i=>bt.error(i))}(n,r,i,s)}}catch(n){throw yn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),ot(VP,"0.10.0"),ot(VP,"0.10.0","esm2017")}();class pne extends In{constructor(e,n){super()}schedule(e,n=0){return this}}const mp={setInterval(t,e,...n){const{delegate:r}=mp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=mp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class BP extends pne{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return mp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&mp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Lo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const jP={now:()=>(jP.delegate||Date).now(),delegate:void 0};class il{constructor(e,n=il.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}il.now=jP.now;class $P extends il{constructor(e,n=il.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const yne=new class mne extends $P{}(class gne extends BP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),_ne=new $P(BP);function jt(t,e,n){const r=Ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?_t((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ft(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Li}const AI=new ma("7.6.1"),MI="__angularfire_symbol__analyticsIsSupportedValue",xI="__angularfire_symbol__analyticsIsSupported",RI="__angularfire_symbol__remoteConfigIsSupportedValue",NI="__angularfire_symbol__remoteConfigIsSupported",kI="__angularfire_symbol__messagingIsSupportedValue",PI="__angularfire_symbol__messagingIsSupported";globalThis[xI]||(globalThis[xI]=dne().then(t=>globalThis[MI]=t).catch(()=>globalThis[MI]=!1)),globalThis[PI]||(globalThis[PI]=fP().then(t=>globalThis[kI]=t).catch(()=>globalThis[kI]=!1)),globalThis[NI]||(globalThis[NI]=Oee().then(t=>globalThis[RI]=t).catch(()=>globalThis[RI]=!1));const LI=(t,e)=>{const n=e?[e]:bN(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function za(){}class HP{constructor(e,n=yne){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class vne{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",za,{},za,za)),n.pipe(jt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let GP=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new HP(Zone.current)),this.insideAngular=n.run(()=>new HP(Zone.current,_ne)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(U(De))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function eo(t){return Zs().ngZone.run(()=>t())}function Ine(t){return Zs(),function Ene(t){return function(n){return(n=n.lift(new vne(t.ngZone))).pipe(Jd(t.outsideAngular),Xd(t.insideAngular))}}(Zs())(t)}const Cne=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),eo(()=>t.apply(void 0,r))},to=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",za,{},za,za)))),r[s]=Cne(r[s],n));const i=function wne(t){return Zs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ge){const s=Zs();return i.pipe(Jd(s.outsideAngular),Xd(s.insideAngular))}return eo(()=>i)}return i instanceof Ge?i.pipe(Ine):i instanceof Promise?eo(()=>new Promise((s,o)=>i.then(a=>eo(()=>s(a)),a=>eo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:eo(()=>i)};class qa{constructor(e){return e}}class zP{constructor(){return bN()}}const VI=new O("angularfire2._apps"),bne={provide:qa,useFactory:function Dne(t){return t&&1===t.length?t[0]:new qa(DN())},deps:[[new Tn,VI]]},Tne={provide:zP,deps:[[new Tn,VI]]};function Sne(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new qa(r)}}let Ane=(()=>{class t{constructor(n){ot("angularfire",AI.full,"core"),ot("angularfire",AI.full,"app"),ot("angular",jS.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(U(ui))},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({providers:[bne,Tne]}),t})();function Mne(t,...e){return{ngModule:Ane,providers:[{provide:VI,useFactory:Sne(t),multi:!0,deps:[De,hn,GP,...e]}]}}const xne=to(CN,!0);var qP,WP,QP,XP,JP,ZP,eO,tO,nO,iO;const Rne=function wF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},IF=new Br("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yp=new $a("@firebase/auth");function _p(t,...e){yp.logLevel<=ge.ERROR&&yp.error(`Auth (${tl}): ${t}`,...e)}function Rn(t,...e){throw UI(t,...e)}function Hr(t,...e){return UI(t,...e)}function UI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IF.create(t,...e)}function M(t,e,...n){if(!t)throw UI(e,...n)}function Gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _p(e),new Error(e)}function ts(t,e){t||Gr(e)}function CF(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=function WX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}()||function QX(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function kne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function BI(){return"http:"===CF()||"https:"===CF()}()||Mw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class DF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const One={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Fne=new ol(3e4,6e4);function Ze(t,e,n,r){return(qP=qP||v(function*(i,s,o,a,u={}){return bF(i,u,v(function*(){let c={},l={};a&&("GET"===s?l=a:c={body:JSON.stringify(a)});const d=hN(Object.assign({key:i.config.apiKey},l)).slice(1),h=yield i._getAdditionalHeaders();return h["Content-Type"]="application/json",i.languageCode&&(h["X-Firebase-Locale"]=i.languageCode),DF.fetch()(TF(i,i.config.apiHost,o,d),Object.assign({method:s,headers:h,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function bF(t,e,n){return(WP=WP||v(function*(r,i,s){r._canInitEmulator=!1;const o=Object.assign(Object.assign({},One),i);try{const a=new Lne(r),u=yield Promise.race([s(),a.promise]);a.clearNetworkTimeout();const c=yield u.json();if("needConfirmation"in c)throw al(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const l=u.ok?c.errorMessage:c.error.message,[d,h]=l.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===d)throw al(r,"credential-already-in-use",c);if("EMAIL_EXISTS"===d)throw al(r,"email-already-in-use",c);if("USER_DISABLED"===d)throw al(r,"user-disabled",c);const f=o[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw function EF(t,e,n){const r=Object.assign(Object.assign({},Rne()),{[e]:n});return new Br("auth","Firebase",r).create(e,{appName:t.name})}(r,f,h);Rn(r,f)}}catch(a){if(a instanceof wr)throw a;Rn(r,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function TF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function jI(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Lne{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),Fne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function al(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hr(t,e,r);return i.customData._tokenResponse=n,i}function ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $I(t){return 1e3*Number(t)}function vp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const i=rp(n);return i?JSON.parse(i):(_p("Failed to decode base64 JWT payload"),null)}catch(i){return _p("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Di(t,e){return(ZP=ZP||v(function*(n,r,i=!1){if(i)return r;try{return yield r}catch(s){throw s instanceof wr&&function Hne({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(s)&&n.auth.currentUser===n&&(yield n.auth.signOut()),s}})).apply(this,arguments)}class Gne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class SF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cl(t){return(eO=eO||v(function*(e){var n;const r=e.auth,i=yield e.getIdToken(),s=yield Di(e,function Bne(t,e){return(XP=XP||v(function*(n,r){return Ze(n,"POST","/v1/accounts:lookup",r)})).apply(this,arguments)}(r,{idToken:i}));M(s?.users.length,r,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const a=null!==(n=o.providerUserInfo)&&void 0!==n&&n.length?function Wne(t){return t.map(e=>{var{providerId:n}=e,r=Xm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],u=function qne(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(e.providerData,a),d=!!e.isAnonymous&&!(e.email&&o.passwordHash||u?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new SF(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,h)})).apply(this,arguments)}class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function $ne(t){const e=vp(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Kne(t,e){return(nO=nO||v(function*(n,r){const i=yield bF(n,{},v(function*(){const s=hN({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=TF(n,o,"/v1/token",`key=${a}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",DF.fetch()(u,{method:"POST",headers:c,body:s})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})).apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ll;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return Gr("not implemented")}}function ns(t,e){M("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class no{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Xm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new SF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield Di(n,n.stsTokenManager.getToken(n.auth,e));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function jne(t){return(JP=JP||v(function*(e,n=!1){const r=qn(e),i=yield r.getIdToken(n),s=vp(i);M(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=o?.sign_in_provider;return{claims:s,token:i,authTime:ul($I(s.auth_time)),issuedAtTime:ul($I(s.iat)),expirationTime:ul($I(s.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}(this,e)}reload(){return function zne(t){return(tO=tO||v(function*(e){const n=qn(e);yield cl(n),yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)})).apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new no(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield cl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield Di(e,function Vne(t,e){return(QP=QP||v(function*(n,r){return Ze(n,"POST","/v1/accounts:delete",r)})).apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:C,isAnonymous:k,providerData:Q,stsTokenManager:ye}=n;M(E&&ye,e,"internal-error");const ht=ll.fromJSON(this.name,ye);M("string"==typeof E,e,"internal-error"),ns(d,e.name),ns(h,e.name),M("boolean"==typeof C,e,"internal-error"),M("boolean"==typeof k,e,"internal-error"),ns(f,e.name),ns(p,e.name),ns(g,e.name),ns(m,e.name),ns(y,e.name),ns(_,e.name);const Nt=new no({uid:E,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:k,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ht,createdAt:y,lastLoginAt:_});return Q&&Array.isArray(Q)&&(Nt.providerData=Q.map(qd=>Object.assign({},qd))),m&&(Nt._redirectEventId=m),Nt}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new ll;i.updateFromServerResponse(n);const s=new no({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield cl(s),s})()}}const AF=new Map;function bi(t){ts(t instanceof Function,"Expected a class definition");let e=AF.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AF.set(t,e),e)}const MF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function wp(t,e,n){return`firebase:${t}:${e}:${n}`}class Ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wp(this.userKey,i.apiKey,s),this.fullPersistenceKey=wp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?no._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){var i,s;if(!n.length)return new Ka(bi(MF),e,r);const o=(yield Promise.all(n.map(function(d){return(i=i||v(function*(h){if(yield h._isAvailable())return h})).apply(this,arguments)}))).filter(d=>d);let a=o[0]||bi(MF);const u=wp(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const h=yield d._get(u);if(h){const f=no._fromJSON(e,h);d!==a&&(c=f),a=d;break}}catch{}const l=o.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&l.length?(a=l[0],c&&(yield a._set(u,c.toJSON())),yield Promise.all(n.map(function(d){return(s=s||v(function*(h){if(h!==a)try{yield h._remove(u)}catch{}})).apply(this,arguments)})),new Ka(a,e,r)):new Ka(a,e,r)})()}}function xF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function kF(t=zn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function RF(t=zn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function OF(t=zn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function FF(t=zn()){return/webos/i.test(t)}(e))return"Webos";if(function HI(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function NF(t=zn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function PF(t=zn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function LF(t,e=[]){let n;switch(t){case"Browser":n=xF(zn());break;case"Worker":n=`${xF(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${r}`}function VF(t,e){return(iO=iO||v(function*(n,r){return Ze(n,"GET","/v2/recaptchaConfig",function Ke(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(n,r))})).apply(this,arguments)}function BF(t){return void 0!==t&&void 0!==t.enterprise}class jF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class HF{constructor(e){this.type="recaptcha-enterprise",this.auth=Tt(e)}verify(e="verify",n=!1){var r=this;return v(function*(){var i;function o(a,u,c){const l=window.grecaptcha;BF(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function s(a){return(i=i||v(function*(u){var c;if(!n){if(null==u.tenantId&&null!=u._agentRecaptchaConfig)return u._agentRecaptchaConfig.siteKey;if(null!=u.tenantId&&void 0!==u._tenantRecaptchaConfigs[u.tenantId])return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(function(l,d){return(c=c||v(function*(h,f){VF(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(void 0!==p.recaptchaKey){const g=new jF(p);return null==u.tenantId?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}f(new Error("recaptcha Enterprise site key undefined"))}).catch(p=>{f(p)})})).apply(this,arguments)})})).apply(this,arguments)})(r.auth).then(c=>{if(!n&&BF(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function GI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Jne(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class nre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class rre{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GF(this),this.idTokenSubscription=new GF(this),this.beforeStateQueue=new nre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ka.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield cl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Pne(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?qn(e):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(bi(e))}))}initializeRecaptchaConfig(){var e=this;return v(function*(){const n=yield VF(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new jF(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new HF(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Br("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&bi(e)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield Ka.create(n,[bi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Nne(t,...e){yp.logLevel<=ge.WARN&&yp.warn(`Auth (${tl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Tt(t){return qn(t)}class GF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function ZX(t,e){const n=new eJ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function $F(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new ol(3e4,6e4),new ol(2e3,1e4),new ol(3e4,6e4),new ol(5e3,15e3),encodeURIComponent("fac");var DL,bL,ML,xL,RL,vL="@firebase/auth";class Qie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}ip(),function Xie(t){mn(new Zt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LF(t)},c=new rre(r,i,s,u);return function sre(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mn(new Zt("auth-internal",e=>{const n=Tt(e.getProvider("auth").getImmediate());return new Qie(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(vL,"0.23.2",function Yie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),ot(vL,"0.23.2","esm2017")}("Browser");class CL{constructor(){return LI("auth")}}const yE=new Map,PL={activated:!1,tokenObservers:[]},ise={initialized:!1,enabled:!1};function et(t){return yE.get(t)||Object.assign({},PL)}function kp(){return ise}const _E="https://content-firebaseappcheck.googleapis.com/v1",use="exchangeDebugToken",OL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class lse{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return v(function*(){n.stop();try{n.pending=new sp,yield function dse(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new sp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const $t=new Br("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vE(t){if(!et(t).activated)throw $t.create("use-before-activation",{appName:t.name})}function Fp(t,e){return(DL=DL||v(function*({url:n,body:r},i){const s={"Content-Type":"application/json"},o=i.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(r),headers:s};let u,c;try{u=yield fetch(n,a)}catch(f){throw $t.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==u.status)throw $t.create("fetch-status-error",{httpStatus:u.status});try{c=yield u.json()}catch(f){throw $t.create("fetch-parse-error",{originalErrorMessage:f?.message})}const l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw $t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(l[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function FL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${_E}/projects/${n}/apps/${r}:${use}?key=${i}`,body:{debug_token:e}}}const gse="firebase-app-check-database",mse=1,gl="firebase-app-check-store";let Lp=null;function UL(t,e){return(bL=bL||v(function*(n,r){const s=(yield function VL(){return Lp||(Lp=new Promise((t,e)=>{try{const n=indexedDB.open(gse,mse);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e($t.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(gl,{keyPath:"compositeKey"})}}catch(n){e($t.create("storage-open",{originalErrorMessage:n?.message}))}}),Lp)}()).transaction(gl,"readwrite"),a=s.objectStore(gl).put({compositeKey:n,value:r});return new Promise((u,c)=>{a.onsuccess=l=>{u()},s.onerror=l=>{var d;c($t.create("storage-set",{originalErrorMessage:null===(d=l.target.error)||void 0===d?void 0:d.message}))}})})).apply(this,arguments)}const ml=new $a("@firebase/app-check");function IE(t,e){return zs()?function _se(t,e){return UL(function jL(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{ml.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function EE(){return kp().enabled}function CE(){return(ML=ML||v(function*(){const t=kp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dse={error:"UNKNOWN_ERROR"};function bse(t){return Aw.encodeString(JSON.stringify(t),!1)}function Vp(t){return(xL=xL||v(function*(e,n=!1){const r=e.app;vE(r);const i=et(r);let o,s=i.token;if(s&&!Ya(s)&&(i.token=void 0,s=void 0),!s){const c=yield i.cachedTokenPromise;c&&(Ya(c)?s=c:yield IE(r,void 0))}if(!n&&s&&Ya(s))return{token:s.token};let u,a=!1;if(EE()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Fp(FL(r,yield CE()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const c=yield i.exchangeTokenPromise;return yield IE(r,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield et(r).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?ml.warn(c.message):ml.error(c),o=c}return s?o?u=Ya(s)?{token:s.token,internalError:o}:zL(o):(u={token:s.token},i.token=s,yield IE(r,s)):u=zL(o),a&&function GL(t,e){const n=et(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,u),u})).apply(this,arguments)}function bE(t,e){const n=et(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function HL(t){const{app:e}=t,n=et(e);let r=n.tokenRefresher;r||(r=function Tse(t){const{app:e}=t;return new lse(v(function*(){let r;if(r=et(e).token?yield Vp(t,!0):yield Vp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=et(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},OL.RETRIAL_MIN_WAIT,OL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ya(t){return t.expireTimeMillis-Date.now()>0}function zL(t){return{token:bse(Dse),error:t}}class Sse{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=et(this.app);for(const n of e)bE(this.app,n.next);return Promise.resolve()}}const ZL="app-check-internal";!function jse(){mn(new Zt("app-check",t=>function Ase(t,e){return new Sse(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ZL).initialize()})),mn(new Zt(ZL,t=>function Mse(t){return{getToken:e=>Vp(t,e),getLimitedUseToken:()=>function $L(t){return(RL=RL||v(function*(e){const n=e.app;vE(n);const{provider:r}=et(n);if(EE()){const i=yield CE(),{token:s}=yield Fp(FL(n,i),e.heartbeatServiceProvider);return{token:s}}{const{token:i}=yield r.getToken();return{token:i}}})).apply(this,arguments)}(t),addTokenListener:e=>function DE(t,e,n,r){const{app:i}=t,s=et(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ya(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),HL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>HL(t))}(t,"INTERNAL",e),removeTokenListener:e=>bE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ot("@firebase/app-check","0.8.0")}();class t2{constructor(){return LI("app-check")}}typeof window<"u"&&window;var N,qse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={},AE=AE||{},J=qse||self;function Bp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function yl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ME="closure_uid_"+(1e9*Math.random()>>>0),Kse=0;function Qse(t,e,n){return t.call.apply(t.bind,arguments)}function Yse(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function en(t,e,n){return(en=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qse:Yse).apply(null,arguments)}function jp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function St(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function is(){this.s=this.s,this.o=this.o}is.prototype.s=!1,is.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Wse(t){Object.prototype.hasOwnProperty.call(t,ME)&&t[ME]||(t[ME]=++Kse)}(this)},is.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const n2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function r2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Bp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function tn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}tn.prototype.h=function(){this.defaultPrevented=!0};var Jse=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",()=>{},e),J.removeEventListener("test",()=>{},e)}catch{}return t}();function _l(t){return/^[\s\xa0]*$/.test(t)}function $p(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function zr(t){return-1!=$p().indexOf(t)}function RE(t){return RE[" "](t),t}RE[" "]=function(){};var kE,eoe=zr("Opera"),Xa=zr("Trident")||zr("MSIE"),i2=zr("Edge"),NE=i2||Xa,s2=zr("Gecko")&&!(-1!=$p().toLowerCase().indexOf("webkit")&&!zr("Edge"))&&!(zr("Trident")||zr("MSIE"))&&!zr("Edge"),toe=-1!=$p().toLowerCase().indexOf("webkit")&&!zr("Edge");function o2(){var t=J.document;return t?t.documentMode:void 0}e:{var PE="",OE=function(){var t=$p();return s2?/rv:([^\);]+)(\)|;)/.exec(t):i2?/Edge\/([\d\.]+)/.exec(t):Xa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):toe?/WebKit\/(\S+)/.exec(t):eoe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(OE&&(PE=OE?OE[1]:""),Xa){var FE=o2();if(null!=FE&&FE>parseFloat(PE)){kE=String(FE);break e}}kE=PE}var noe=J.document&&Xa&&(o2()||parseInt(kE,10))||void 0;function vl(t,e){if(tn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(s2){e:{try{RE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:roe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vl.$.h.call(this)}}St(vl,tn);var roe={2:"touch",3:"pen",4:"mouse"};vl.prototype.h=function(){vl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var wl="closure_listenable_"+(1e6*Math.random()|0),ioe=0;function soe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++ioe,this.fa=this.ia=!1}function Hp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function VE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function u2(t){const e={};for(const n in t)e[n]=t[n];return e}const c2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function l2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<c2.length;s++)n=c2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Gp(t){this.src=t,this.g={},this.h=0}function UE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=n2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Hp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function BE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Gp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=BE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new soe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var jE="closure_lm_"+(1e6*Math.random()|0),$E={};function d2(t,e,n,r,i){if(r&&r.once)return f2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)d2(t,e[s],n,r,i);return null}return n=qE(n),t&&t[wl]?t.O(e,n,yl(r)?!!r.capture:!!r,i):h2(t,e,n,!1,r,i)}function h2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=yl(i)?!!i.capture:!!i,a=GE(t);if(a||(t[jE]=a=new Gp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function aoe(){const e=uoe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Jse||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(g2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function f2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)f2(t,e[s],n,r,i);return null}return n=qE(n),t&&t[wl]?t.P(e,n,yl(r)?!!r.capture:!!r,i):h2(t,e,n,!0,r,i)}function p2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)p2(t,e[s],n,r,i);else r=yl(r)?!!r.capture:!!r,n=qE(n),t&&t[wl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=BE(s=t.g[e],n,r,i))&&(Hp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=GE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=BE(e,n,r,i)),(n=-1<t?e[t]:null)&&HE(n))}function HE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[wl])UE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(g2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=GE(e))?(UE(n,t),0==n.h&&(n.src=null,e[jE]=null)):Hp(t)}}}function g2(t){return t in $E?$E[t]:$E[t]="on"+t}function uoe(t,e){if(t.fa)t=!0;else{e=new vl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&HE(t),t=n.call(r,e)}return t}function GE(t){return(t=t[jE])instanceof Gp?t:null}var zE="__closure_events_fn_"+(1e9*Math.random()>>>0);function qE(t){return"function"==typeof t?t:(t[zE]||(t[zE]=function(e){return t.handleEvent(e)}),t[zE])}function At(){is.call(this),this.i=new Gp(this),this.S=this,this.J=null}function Ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new tn(e,t);else if(e instanceof tn)e.target=e.target||t;else{var i=e;l2(e=new tn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=zp(o,r,!0,e)&&i}if(i=zp(o=e.g=t,r,!0,e)&&i,i=zp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=zp(o=e.g=n[s],r,!1,e)&&i}function zp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&UE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}St(At,is),At.prototype[wl]=!0,At.prototype.removeEventListener=function(t,e,n,r){p2(this,t,e,n,r)},At.prototype.N=function(){if(At.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hp(n[r]);delete t.g[e],t.h--}}this.J=null},At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var WE=J.JSON.stringify;function loe(){var t=KE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var m2=new class coe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new hoe,t=>t.reset());class hoe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function foe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function poe(t){J.setTimeout(()=>{throw t},0)}let Il,El=!1,KE=new class doe{constructor(){this.h=this.g=null}add(e,n){const r=m2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},y2=()=>{const t=J.Promise.resolve(void 0);Il=()=>{t.then(goe)}};var goe=()=>{for(var t;t=loe();){try{t.h.call(t.g)}catch(n){poe(n)}var e=m2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}El=!1};function qp(t,e){At.call(this),this.h=t||1,this.g=e||J,this.j=en(this.qb,this),this.l=Date.now()}function QE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function YE(t,e,n){if("function"==typeof t)n&&(t=en(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=en(t.handleEvent,t)}return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function _2(t){t.g=YE(()=>{t.g=null,t.i&&(t.i=!1,_2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}St(qp,At),(N=qp.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ht(this,"tick"),this.ga&&(QE(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){qp.$.N.call(this),QE(this),delete this.g};class moe extends is{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_2(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cl(t){is.call(this),this.h=t,this.g={}}St(Cl,is);var v2=[];function w2(t,e,n,r){Array.isArray(n)||(n&&(v2[0]=n.toString()),n=v2);for(var i=0;i<n.length;i++){var s=d2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function I2(t){VE(t.g,function(e,n){this.g.hasOwnProperty(n)&&HE(e)},t),t.g={}}function Wp(){this.g=!0}function Ja(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function woe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return WE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Cl.prototype.N=function(){Cl.$.N.call(this),I2(this)},Cl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wp.prototype.Ea=function(){this.g=!1},Wp.prototype.info=function(){};var oo={},E2=null;function Kp(){return E2=E2||new At}function C2(t){tn.call(this,oo.Ta,t)}function Dl(t){const e=Kp();Ht(e,new C2(e))}function D2(t,e){tn.call(this,oo.STAT_EVENT,t),this.stat=e}function _n(t){const e=Kp();Ht(e,new D2(e,t))}function b2(t,e){tn.call(this,oo.Ua,t),this.size=e}function bl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}oo.Ta="serverreachability",St(C2,tn),oo.STAT_EVENT="statevent",St(D2,tn),oo.Ua="timingevent",St(b2,tn);var Qp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},T2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function XE(){}function A2(){}XE.prototype.h=null;var eC,Tl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function JE(){tn.call(this,"d")}function ZE(){tn.call(this,"c")}function Yp(){}function Sl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Cl(this),this.P=Ioe,this.V=new qp(t=NE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new M2}function M2(){this.i=null,this.g="",this.h=!1}St(JE,tn),St(ZE,tn),St(Yp,XE),Yp.prototype.g=function(){return new XMLHttpRequest},Yp.prototype.i=function(){return{}},eC=new Yp;var Ioe=45e3,tC={},Xp={};function nC(t,e,n){t.L=1,t.v=tg(Si(e)),t.s=n,t.S=!0,x2(t,null)}function x2(t,e){t.G=Date.now(),Al(t),t.A=Si(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),B2(n.i,"t",r),t.C=0,n=t.l.J,t.h=new M2,t.g=lV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new moe(en(t.Pa,t,t.g),t.O)),w2(t.U,t.g,"readystatechange",t.nb),e=t.I?u2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Dl(),function yoe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function R2(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function N2(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Eoe(t,n),i==Xp){4==e&&(t.o=4,_n(14),r=!1),Ja(t.j,t.m,null,"[Incomplete Response]");break}if(i==tC){t.o=4,_n(15),Ja(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ja(t.j,t.m,i,null),rC(t,i)}R2(t)&&i!=Xp&&i!=tC&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,_n(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),lC(e),e.M=!0,_n(11))):(Ja(t.j,t.m,n,"[Invalid Chunked Response]"),ao(t),Ml(t))}function Eoe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Xp:(n=Number(e.substring(n,r)),isNaN(n)?tC:(r+=1)+n>e.length?Xp:(e=e.slice(r,r+n),t.C=r+n,e))}function Al(t){t.Y=Date.now()+t.P,k2(t,t.P)}function k2(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=bl(en(t.lb,t),e)}function Jp(t){t.B&&(J.clearTimeout(t.B),t.B=null)}function Ml(t){0==t.l.H||t.J||oV(t.l,t)}function ao(t){Jp(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,QE(t.V),I2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function rC(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||iC(n.i,t)))if(!t.K&&iC(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;ag(n),sg(n)}cC(n),_n(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=bl(en(n.ib,n),6e3));if(1>=H2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else co(n,11)}else if((t.K||n.g==t)&&ag(n),!_l(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(sC(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Be(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=cV(r,r.J?r.pa:null,r.Y),o.K){G2(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Jp(a),Al(a)),r.g=o}else iV(r);0<n.j.length&&og(n)}else"stop"!=c[0]&&"close"!=c[0]||co(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?co(n,7):uC(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Dl()}catch{}}function P2(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Bp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Doe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Bp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Coe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Bp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=Sl.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==qr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=qr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||NE||this.g&&(this.h.h||this.g.ja()||J2(this.g)))){this.J||4!=l||7==e||Dl(),Jp(this);var n=this.g.da();this.ca=n;t:if(R2(this)){var r=J2(this.g);t="";var i=r.length,s=4==qr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ao(this),Ml(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function _oe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_l(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,_n(12),ao(this),Ml(this);break e}Ja(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rC(this,n)}this.S?(N2(this,l,o),NE&&this.i&&3==l&&(w2(this.U,this.V,"tick",this.mb),this.V.start())):(Ja(this.j,this.m,o,null),rC(this,o)),4==l&&ao(this),this.i&&!this.J&&(4==l?oV(this.l,this):(this.i=!1,Al(this)))}else(function $oe(t){const e={};t=(t.g&&2<=qr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(_l(t[r]))continue;var n=foe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function ooe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,_n(12)):(this.o=0,_n(13)),ao(this),Ml(this)}}}catch{}},N.mb=function(){if(this.g){var t=qr(this.g),e=this.g.ja();this.C<e.length&&(Jp(this),N2(this,t,e),this.i&&4!=t&&Al(this))}},N.cancel=function(){this.J=!0,ao(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function voe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Dl(),_n(17)),ao(this),this.o=2,Ml(this)):k2(this,this.Y-t)};var O2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof uo){this.h=t.h,Zp(this,t.j),this.s=t.s,this.g=t.g,eg(this,t.m),this.l=t.l;var e=t.i,n=new Nl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),F2(this,n),this.o=t.o}else t&&(e=String(t).match(O2))?(this.h=!1,Zp(this,e[1]||"",!0),this.s=xl(e[2]||""),this.g=xl(e[3]||"",!0),eg(this,e[4]),this.l=xl(e[5]||"",!0),F2(this,e[6]||"",!0),this.o=xl(e[7]||"")):(this.h=!1,this.i=new Nl(null,this.h))}function Si(t){return new uo(t)}function Zp(t,e,n){t.j=n?xl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function eg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function F2(t,e,n){e instanceof Nl?(t.i=e,function Roe(t,e){e&&!t.j&&(ss(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(V2(this,r),B2(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Rl(e,Moe)),t.i=new Nl(e,t.h))}function Be(t,e,n){t.i.set(e,n)}function tg(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Rl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Toe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Toe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}uo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Rl(e,L2,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Rl(e,L2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Rl(n,"/"==n.charAt(0)?Aoe:Soe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Rl(n,xoe)),t.join("")};var L2=/[#\/\?@]/g,Soe=/[#\?:]/g,Aoe=/[#\?]/g,Moe=/[#\?@]/g,xoe=/#/g;function Nl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ss(t){t.g||(t.g=new Map,t.h=0,t.i&&function boe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function V2(t,e){ss(t),e=Za(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function U2(t,e){return ss(t),e=Za(t,e),t.g.has(e)}function B2(t,e,n){V2(t,e),0<n.length&&(t.i=null,t.g.set(Za(t,e),xE(n)),t.h+=n.length)}function Za(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function j2(t){this.l=t||koe,t=J.PerformanceNavigationTiming?0<(t=J.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Nl.prototype).add=function(t,e){ss(this),this.i=null,t=Za(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){ss(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){ss(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){ss(this);let e=[];if("string"==typeof t)U2(this,t)&&(e=e.concat(this.g.get(Za(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return ss(this),this.i=null,U2(this,t=Za(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var koe=10;function $2(t){return!!t.h||!!t.g&&t.g.size>=t.j}function H2(t){return t.h?1:t.g?t.g.size:0}function iC(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function sC(t,e){t.g?t.g.add(e):t.h=e}function G2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function z2(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return xE(t.i)}j2.prototype.cancel=function(){if(this.i=z2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Poe=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function Ooe(){this.g=new Poe}function Foe(t,e,n){const r=n||"";try{P2(t,function(i,s){let o=i;yl(i)&&(o=WE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ng(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function kl(t){this.l=t.fc||null,this.j=t.ob||!1}function rg(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=oC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(kl,XE),kl.prototype.g=function(){return new rg(this.l,this.j)},kl.prototype.i=function(t){return function(){return t}}({}),St(rg,At);var oC=0;function q2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Pl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ol(t)}function Ol(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=rg.prototype).open=function(t,e){if(this.readyState!=oC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ol(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pl(this)),this.readyState=oC},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ol(this)),this.g&&(this.readyState=3,Ol(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;q2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pl(this):Ol(this),3==this.readyState&&q2(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Pl(this))},N.Ya=function(t){this.g&&(this.response=t,Pl(this))},N.ka=function(){this.g&&Pl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(rg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Voe=J.JSON.parse;function tt(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=W2,this.L=this.M=!1}St(tt,At);var W2="",Uoe=/^https?$/i,Boe=["POST","PUT"];function K2(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Q2(t),ig(t)}function Q2(t){t.F||(t.F=!0,Ht(t,"complete"),Ht(t,"error"))}function Y2(t){if(t.h&&typeof AE<"u"&&(!t.C[1]||4!=qr(t)||2!=t.da()))if(t.v&&4==qr(t))YE(t.La,0,t);else if(Ht(t,"readystatechange"),4==qr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(O2)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!Uoe.test(i?i.toLowerCase():"")}n=r}if(n)Ht(t,"complete"),Ht(t,"success");else{t.m=6;try{var s=2<qr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Q2(t)}}finally{ig(t)}}}function ig(t,e){if(t.g){X2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function X2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}function qr(t){return t.g?t.g.readyState:0}function J2(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case W2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Z2(t){let e="";return VE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function aC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Z2(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Be(t,e,n))}function Fl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eV(t){this.Ga=0,this.j=[],this.l=new Wp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fl("baseRetryDelayMs",5e3,t),this.hb=Fl("retryDelaySeedMs",1e4,t),this.eb=Fl("forwardChannelMaxRetries",2,t),this.xa=Fl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new j2(t&&t.concurrentRequestLimit),this.Ja=new Ooe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function uC(t){if(tV(t),3==t.H){var e=t.W++,n=Si(t.I);if(Be(n,"SID",t.K),Be(n,"RID",e),Be(n,"TYPE","terminate"),Ll(t,n),(e=new Sl(t,t.l,e)).L=2,e.v=tg(Si(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&J.Image&&((new Image).src=e.v,n=!0),n||(e.g=lV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Al(e)}uV(t)}function sg(t){t.g&&(lC(t),t.g.cancel(),t.g=null)}function tV(t){sg(t),t.u&&(J.clearTimeout(t.u),t.u=null),ag(t),t.i.cancel(),t.m&&("number"==typeof t.m&&J.clearTimeout(t.m),t.m=null)}function og(t){if(!$2(t.i)&&!t.m){t.m=!0;var e=t.Na;Il||y2(),El||(Il(),El=!0),KE.add(e,t),t.C=0}}function nV(t,e){var n;n=e?e.m:t.W++;const r=Si(t.I);Be(r,"SID",t.K),Be(r,"RID",n),Be(r,"AID",t.V),Ll(t,r),t.o&&t.s&&aC(r,t.o,t.s),n=new Sl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),sC(t.i,n),nC(n,r,e)}function Ll(t,e){t.na&&VE(t.na,function(n,r){Be(e,r,n)}),t.h&&P2({},function(n,r){Be(e,r,n)})}function rV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?en(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Foe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function iV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Il||y2(),El||(Il(),El=!0),KE.add(e,t),t.A=0}}function cC(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=bl(en(t.Ma,t),aV(t,t.A)),t.A++,0))}function lC(t){null!=t.B&&(J.clearTimeout(t.B),t.B=null)}function sV(t){t.g=new Sl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Si(t.wa);Be(e,"RID","rpc"),Be(e,"SID",t.K),Be(e,"AID",t.V),Be(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Be(e,"TO",t.qa),Be(e,"TYPE","xmlhttp"),Ll(t,e),t.o&&t.s&&aC(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=tg(Si(e)),n.s=null,n.S=!0,x2(n,t)}function ag(t){null!=t.v&&(J.clearTimeout(t.v),t.v=null)}function oV(t,e){var n=null;if(t.g==e){ag(t),lC(t),t.g=null;var r=2}else{if(!iC(t.i,e))return;n=e.F,G2(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Ht(r=Kp(),new b2(r,n)),og(t)}else iV(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Hoe(t,e){return!(H2(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=bl(en(t.Na,t,e),aV(t,t.C)),t.C++,0)))}(t,e)||2==r&&cC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:co(t,5);break;case 4:co(t,10);break;case 3:co(t,6);break;default:co(t,2)}}function aV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function co(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=en(t.pb,t);n||(n=new uo("//www.google.com/images/cleardot.gif"),J.location&&"http"==J.location.protocol||Zp(n,"https"),tg(n)),function Loe(t,e){const n=new Wp;if(J.Image){const r=new Image;r.onload=jp(ng,n,r,"TestLoadImage: loaded",!0,e),r.onerror=jp(ng,n,r,"TestLoadImage: error",!1,e),r.onabort=jp(ng,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=jp(ng,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else _n(2);t.H=0,t.h&&t.h.za(e),uV(t),tV(t)}function uV(t){if(t.H=0,t.ma=[],t.h){const e=z2(t.i);(0!=e.length||0!=t.j.length)&&(r2(t.ma,e),r2(t.ma,t.j),t.i.i.length=0,xE(t.j),t.j.length=0),t.h.ya()}}function cV(t,e,n){var r=n instanceof uo?Si(n):new uo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),eg(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new uo(null);r&&Zp(s,r),e&&(s.g=e),i&&eg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Be(r,n,e),Be(r,"VER",t.ra),Ll(t,r),r}function lV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tt(n&&t.Ha&&!t.va?new kl({ob:!0}):t.va)).Oa(t.J),e}function dV(){}function ug(){if(Xa&&!(10<=Number(noe)))throw Error("Environmental error: no available transport.")}function Wn(t,e){At.call(this),this.g=new eV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!_l(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_l(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new eu(this)}function hV(t){JE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function fV(){ZE.call(this),this.status=1}function eu(t){this.g=t}function Er(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function dC(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function be(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=tt.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():eC.g(),this.C=function S2(t){return t.h||(t.h=t.i())}(this.u?this.u:eC),this.g.onreadystatechange=en(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void K2(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=J.FormData&&t instanceof J.FormData,!(0<=n2(Boe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{X2(this),0<this.B&&((this.L=function joe(t){return Xa&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=en(this.ua,this)):this.A=YE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){K2(this,s)}},N.ua=function(){typeof AE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ht(this,"complete"),Ht(this,"abort"),ig(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ig(this,!0)),tt.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?Y2(this):this.kb())},N.kb=function(){Y2(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<qr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Voe(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=eV.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Sl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=u2(s),l2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rV(this,i,e),Be(n=Si(this.I),"RID",t),Be(n,"CVER",22),this.F&&Be(n,"X-HTTP-Session-Id",this.F),Ll(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Z2(s)))+"&"+e:this.o&&aC(n,this.o,s)),sC(this.i,i),this.bb&&Be(n,"TYPE","init"),this.P?(Be(n,"$req",e),Be(n,"SID","null"),i.aa=!0,nC(i,n,null)):nC(i,n,e),this.H=2}}else 3==this.H&&(t?nV(this,t):0==this.j.length||$2(this.i)||nV(this))},N.Ma=function(){if(this.u=null,sV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=bl(en(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_n(10),sg(this),sV(this))},N.ib=function(){null!=this.v&&(this.v=null,sg(this),cC(this),_n(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),_n(2)):(this.l.info("Failed to ping google.com"),_n(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=dV.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},ug.prototype.g=function(t,e){return new Wn(t,e)},St(Wn,At),Wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;_n(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cV(t,null,t.Y),og(t)},Wn.prototype.close=function(){uC(this.g)},Wn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=WE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&og(e)},Wn.prototype.N=function(){this.g.h=null,delete this.j,uC(this.g),delete this.g,Wn.$.N.call(this)},St(hV,JE),St(fV,ZE),St(eu,dV),eu.prototype.Ba=function(){Ht(this.g,"a")},eu.prototype.Aa=function(t){Ht(this.g,new hV(t))},eu.prototype.za=function(t){Ht(this.g,new fV)},eu.prototype.ya=function(){Ht(this.g,"b")},St(Er,function Goe(){this.blockSize=-1}),Er.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Er.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)dC(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){dC(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){dC(this,r),i=0;break}}this.h=i,this.i+=e},Er.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var zoe={};function hC(t){return-128<=t&&128>t?function Zse(t,e){var n=zoe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new be([0|e],0>e?-1:0)}):new be([0|t],0>t?-1:0)}function Wr(t){if(isNaN(t)||!isFinite(t))return tu;if(0>t)return Gt(Wr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=fC;return new be(e,0)}var fC=4294967296,tu=hC(0),pC=hC(1),gV=hC(16777216);function Ai(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function or(t){return-1==t.h}function Gt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new be(n,~t.h).add(pC)}function cg(t,e){return t.add(Gt(e))}function lg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Vl(t,e){this.g=t,this.h=e}function dg(t,e){if(Ai(e))throw Error("division by zero");if(Ai(t))return new Vl(tu,tu);if(or(t))return e=dg(Gt(t),e),new Vl(Gt(e.g),Gt(e.h));if(or(e))return e=dg(t,Gt(e)),new Vl(Gt(e.g),e.h);if(30<t.g.length){if(or(t)||or(e))throw Error("slowDivide_ only works with positive integers.");for(var n=pC,r=e;0>=r.X(t);)n=mV(n),r=mV(r);var i=nu(n,1),s=nu(r,1);for(r=nu(r,2),n=nu(n,2);!Ai(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=nu(r,1),n=nu(n,1)}return e=cg(t,i.R(e)),new Vl(i,e)}for(i=tu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Wr(n)).R(e);or(o)||0<o.X(t);)o=(s=Wr(n-=r)).R(e);Ai(s)&&(s=pC),i=i.add(s),t=cg(t,o)}return new Vl(i,t)}function mV(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new be(n,t.h)}function nu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new be(i,t.h)}(N=be.prototype).ea=function(){if(or(this))return-Gt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:fC+r)*e,e*=fC}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ai(this))return"0";if(or(this))return"-"+Gt(this).toString(t);for(var e=Wr(Math.pow(t,6)),n=this,r="";;){var i=dg(n,e).g,s=((0<(n=cg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ai(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return or(t=cg(this,t))?-1:Ai(t)?0:1},N.abs=function(){return or(this)?Gt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new be(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Ai(this)||Ai(t))return tu;if(or(this))return or(t)?Gt(this).R(Gt(t)):Gt(Gt(this).R(t));if(or(t))return Gt(this.R(Gt(t)));if(0>this.X(gV)&&0>t.X(gV))return Wr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,lg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,lg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,lg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,lg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new be(n,0)},N.gb=function(t){return dg(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new be(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new be(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new be(n,this.h^t.h)},ug.prototype.createWebChannel=ug.prototype.g,Wn.prototype.send=Wn.prototype.u,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,Qp.NO_ERROR=0,Qp.TIMEOUT=8,Qp.HTTP_ERROR=6,T2.COMPLETE="complete",A2.EventType=Tl,Tl.OPEN="a",Tl.CLOSE="b",Tl.ERROR="c",Tl.MESSAGE="d",At.prototype.listen=At.prototype.O,tt.prototype.listenOnce=tt.prototype.P,tt.prototype.getLastError=tt.prototype.Sa,tt.prototype.getLastErrorCode=tt.prototype.Ia,tt.prototype.getStatus=tt.prototype.da,tt.prototype.getResponseJson=tt.prototype.Wa,tt.prototype.getResponseText=tt.prototype.ja,tt.prototype.send=tt.prototype.ha,tt.prototype.setWithCredentials=tt.prototype.Oa,Er.prototype.digest=Er.prototype.l,Er.prototype.reset=Er.prototype.reset,Er.prototype.update=Er.prototype.j,be.prototype.add=be.prototype.add,be.prototype.multiply=be.prototype.R,be.prototype.modulo=be.prototype.gb,be.prototype.compare=be.prototype.X,be.prototype.toNumber=be.prototype.ea,be.prototype.toString=be.prototype.toString,be.prototype.getBits=be.prototype.D,be.fromNumber=Wr,be.fromString=function pV(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Gt(pV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Wr(Math.pow(e,8)),r=tu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Wr(Math.pow(e,s)),r=r.R(s).add(Wr(o))):r=(r=r.R(n)).add(Wr(o))}return r};var _V,vV,wV,DV,bV,TV,SV,AV,MV,xV,RV,NV,kV,PV,OV,FV,LV,VV,UV,BV,jV,$V,HV,GV,zV,qV,KV,QV,rU,iU,sU,oU,aU,qoe=Ir.createWebChannelTransport=function(){return new ug},Woe=Ir.getStatEventTarget=function(){return Kp()},gC=Ir.ErrorCode=Qp,Koe=Ir.EventType=T2,Qoe=Ir.Event=oo,yV=Ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Yoe=Ir.FetchXmlHttpFactory=kl,hg=Ir.WebChannel=A2,Xoe=Ir.XhrIo=tt,Joe=Ir.Md5=Er,ru=Ir.Integer=be;const uU="@firebase/firestore";class Mt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");let iu="9.23.0";const os=new $a("@firebase/firestore");function mC(){return os.logLevel}function A(t,...e){if(os.logLevel<=ge.DEBUG){const n=e.map(yC);os.debug(`Firestore (${iu}): ${t}`,...n)}}function at(t,...e){if(os.logLevel<=ge.ERROR){const n=e.map(yC);os.error(`Firestore (${iu}): ${t}`,...n)}}function Cr(t,...e){if(os.logLevel<=ge.WARN){const n=e.map(yC);os.warn(`Firestore (${iu}): ${t}`,...n)}}function yC(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function V(t="Unexpected state"){const e=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: `+t;throw at(e),new Error(e)}function B(t,e){t||V()}function R(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class cU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zoe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class eae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tae{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ct,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(v(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ct)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new cU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new Mt(e)}}class nae{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class rae{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new nae(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iae{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),this.T=n.token,new lU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class dU{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=sae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function su(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new Qe(0,0))}static max(){return new j(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ul{constructor(e,n,r){void 0===n?n=0:n>e.length&&V(),void 0===r?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ul.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends Ul{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const oae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends Ul{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return oae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(he.fromString(e))}static fromName(e){return new x(he.fromString(e).popFirst(5))}static empty(){return new x(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===he.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new he(e.slice()))}}function pU(t){return new Kn(t.readTime,t.key,-1)}class Kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kn(j.min(),x.empty(),-1)}static max(){return new Kn(j.max(),x.empty(),-1)}}function vC(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:K(t.largestBatchId,e.largestBatchId))}const gU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function as(t){return(_V=_V||v(function*(e){if(e.code!==I.FAILED_PRECONDITION||e.message!==gU)throw e;A("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function us(t){return"IndexedDbTransactionError"===t.name}let Qn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function $l(t){return null==t}function Hl(t){return 0===t&&1/t==-1/0}function DU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ve{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yg(this.root,e,this.comparator,!1)}getReverseIterator(){return new yg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yg(this.root,e,this.comparator,!0)}}class yg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=s??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1,zt.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(t,e,n,r,i){return this}insert(t,e,n){return new zt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TU(this.data.getIterator())}getIteratorFrom(e){return new TU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class TU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new je(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return su(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class SU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new SU("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const Nae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(t){if(B(!!t),"string"==typeof t){let e=0;const n=Nae.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Mi(t){return"string"==typeof t?Dt.fromBase64String(t):Dt.fromUint8Array(t)}function _g(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vg(t){const e=t.mapValue.fields.__previous_value__;return _g(e)?vg(e):e}function Gl(t){const e=ls(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}class kae{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class fo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}const ds={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_g(t)?4:RU(t)?9007199254740991:10:V()}function Qr(t,e){if(t===e)return!0;const n=hs(t);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gl(t).isEqual(Gl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ls(r.timestampValue),o=ls(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Mi(t.bytesValue).isEqual(Mi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return nt(r.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(r.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return nt(r.integerValue)===nt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=nt(r.doubleValue),o=nt(i.doubleValue);return s===o?Hl(s)===Hl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return su(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(DU(s)!==DU(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Qr(s[a],o[a])))return!1;return!0}(t,e);default:return V()}var i}function zl(t,e){return void 0!==(t.values||[]).find(n=>Qr(n,e))}function fs(t,e){if(t===e)return 0;const n=hs(t),r=hs(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=nt(i.integerValue||i.doubleValue),a=nt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return AU(t.timestampValue,e.timestampValue);case 4:return AU(Gl(t),Gl(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Mi(i),a=Mi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=K(o[u],a[u]);if(0!==c)return c}return K(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(nt(i.latitude),nt(s.latitude));return 0!==o?o:K(nt(i.longitude),nt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=fs(o[u],a[u]);if(c)return c}return K(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ds.mapValue&&s===ds.mapValue)return 0;if(i===ds.mapValue)return 1;if(s===ds.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=K(a[l],c[l]);if(0!==d)return d;const h=fs(o[a[l]],u[c[l]]);if(0!==h)return h}return K(a.length,c.length)}(t.mapValue,e.mapValue);default:throw V()}}function AU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);const n=ls(t),r=ls(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function au(t){return EC(t)}function EC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ls(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Mi(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=EC(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${EC(r.fields[a])}`;return s+"}"}(t.mapValue):V();var e}function po(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function CC(t){return!!t&&"integerValue"in t}function ql(t){return!!t&&"arrayValue"in t}function MU(t){return!!t&&"nullValue"in t}function xU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eg(t){return!!t&&"mapValue"in t}function Wl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function RU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Eg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Wl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Eg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Eg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qt(Wl(this.value))}}function PU(t){const e=[];return cs(t.fields,(n,r)=>{const i=new ut([n]);if(Eg(r)){const s=PU(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nn(e)}class $e{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $e(e,0,j.min(),j.min(),j.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new $e(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new $e(e,2,n,j.min(),j.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new $e(e,3,n,j.min(),j.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ps{constructor(e,n){this.position=e,this.inclusive=n}}function OU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):fs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function FU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}class uu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class LU{}class ue extends LU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Lae(e,n,r):"array-contains"===n?new Bae(e,r):"in"===n?new HU(e,r):"not-in"===n?new jae(e,r):"array-contains-any"===n?new $ae(e,r):new ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Vae(e,r):new Uae(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(fs(n,this.value)):null!==n&&hs(this.value)===hs(n)&&this.matchesComparison(fs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Te extends LU{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Te(e,n)}matches(e){return cu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function cu(t){return"and"===t.op}function bC(t){return function VU(t){for(const e of t.filters)if(e instanceof Te)return!1;return!0}(t)&&cu(t)}function TC(t){if(t instanceof ue)return t.field.canonicalString()+t.op.toString()+au(t.value);if(bC(t))return t.filters.map(e=>TC(e)).join(",");{const e=t.filters.map(n=>TC(n)).join(",");return`${t.op}(${e})`}}function UU(t,e){return t instanceof ue?(n=t,(r=e)instanceof ue&&n.op===r.op&&n.field.isEqual(r.field)&&Qr(n.value,r.value)):t instanceof Te?function(n,r){return r instanceof Te&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&UU(s,r.filters[o]),!0)}(t,e):void V();var n,r}function jU(t){return t instanceof ue?function(e){return`${e.field.canonicalString()} ${e.op} ${au(e.value)}`}(t):t instanceof Te?function(e){return e.op.toString()+" {"+e.getFilters().map(jU).join(" ,")+"}"}(t):"Filter"}class Lae extends ue{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class Vae extends ue{constructor(e,n){super(e,"in",n),this.keys=$U(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Uae extends ue{constructor(e,n){super(e,"not-in",n),this.keys=$U(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $U(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class Bae extends ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ql(n)&&zl(n.arrayValue,this.value)}}class HU extends ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&zl(this.value.arrayValue,n)}}class jae extends ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!zl(this.value.arrayValue,n)}}class $ae extends ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ql(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zl(this.value.arrayValue,r))}}class Hae{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function SC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Hae(t,e,n,r,i,s,o)}function go(t){const e=R(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>TC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),$l(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>au(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>au(r)).join(",")),e.dt=n}return e.dt}function Kl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FU(t.startAt,e.startAt)&&FU(t.endAt,e.endAt)}function Cg(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class xi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function lu(t){return new xi(t)}function WU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function AC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function bg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function MC(t){return null!==t.collectionGroup}function mo(t){const e=R(t);if(null===e.wt){e.wt=[];const n=bg(e),r=AC(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new uu(n)),e.wt.push(new uu(ut.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new uu(ut.keyField(),s))}}}return e.wt}function vn(t){const e=R(t);if(!e._t)if("F"===e.limitType)e._t=SC(e.path,e.collectionGroup,mo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of mo(e))n.push(new uu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ps(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ps(e.startAt.position,e.startAt.inclusive):null;e._t=SC(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function xC(t,e){e.getFirstInequalityField(),bg(t);const n=t.filters.concat([e]);return new xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tg(t,e,n){return new xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ql(t,e){return Kl(vn(t),vn(e))&&t.limitType===e.limitType}function KU(t){return`${go(vn(t))}|lt:${t.limitType}`}function RC(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>jU(r)).join(", ")}]`),$l(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>au(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>au(r)).join(",")),`Target(${n})`}(vn(t))}; limitType=${t.limitType})`}function Yl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of mo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=OU(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,mo(n),r)||n.endAt&&!function(i,s,o){const a=OU(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,mo(n),r)));var n,r}function YU(t){return(e,n)=>{let r=!1;for(const i of mo(t)){const s=Gae(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Gae(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?fs(a,u):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}class Ri{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bU(this.inner)}size(){return this.innerSize}}const zae=new Ve(x.comparator);function kn(){return zae}const XU=new Ve(x.comparator);function Xl(...t){let e=XU;for(const n of t)e=e.insert(n.key,n);return e}function JU(t){let e=XU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yr(){return Jl()}function ZU(){return Jl()}function Jl(){return new Ri(t=>t.toString(),(t,e)=>t.isEqual(e))}const qae=new Ve(x.comparator),Wae=new je(x.comparator);function ne(...t){let e=Wae;for(const n of t)e=e.add(n);return e}const Kae=new je(K);function eB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hl(e)?"-0":e}}function tB(t){return{integerValue:""+t}}function nB(t,e){return function yU(t){return"number"==typeof t&&Number.isInteger(t)&&!Hl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?tB(e):eB(t,e)}class Sg{constructor(){this._=void 0}}function Qae(t,e,n){return t instanceof du?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&_g(i)&&(i=vg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof yo?iB(t,e):t instanceof _o?sB(t,e):function(r,i){const s=rB(r,i),o=oB(s)+oB(r.gt);return CC(s)&&CC(r.gt)?tB(o):eB(r.serializer,o)}(t,e)}function Yae(t,e,n){return t instanceof yo?iB(t,e):t instanceof _o?sB(t,e):n}function rB(t,e){return t instanceof hu?CC(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class du extends Sg{}class yo extends Sg{constructor(e){super(),this.elements=e}}function iB(t,e){const n=aB(e);for(const r of t.elements)n.some(i=>Qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class _o extends Sg{constructor(e){super(),this.elements=e}}function sB(t,e){let n=aB(e);for(const r of t.elements)n=n.filter(i=>!Qr(i,r));return{arrayValue:{values:n}}}class hu extends Sg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function oB(t){return nt(t.integerValue||t.doubleValue)}function aB(t){return ql(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Jae{constructor(e,n){this.version=e,this.transformResults=n}}class qe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qe}static exists(e){return new qe(void 0,e)}static updateTime(e){return new qe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ag(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Mg{}function uB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new pu(t.key,qe.none()):new fu(t.key,t.data,qe.none());{const n=t.data,r=qt.empty();let i=new je(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ni(t.key,r,new Nn(i.toArray()),qe.none())}}function Zae(t,e,n){t instanceof fu?function(r,i,s){const o=r.value.clone(),a=dB(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ni?function(r,i,s){if(!Ag(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=dB(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(lB(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ed(t,e,n,r){return t instanceof fu?function(i,s,o,a){if(!Ag(i.precondition,s))return o;const u=i.value.clone(),c=hB(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ni?function(i,s,o,a){if(!Ag(i.precondition,s))return o;const u=hB(i.fieldTransforms,a,s),c=s.data;return c.setAll(lB(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Ag(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function eue(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=rB(r.transform,i||null);null!=s&&(null===n&&(n=qt.empty()),n.set(r.field,s))}return n||null}function cB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&su(n,r,(i,s)=>function Xae(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof yo&&r instanceof yo||n instanceof _o&&r instanceof _o?su(n.elements,r.elements,Qr):n instanceof hu&&r instanceof hu?Qr(n.gt,r.gt):n instanceof du&&r instanceof du);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class fu extends Mg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ni extends Mg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dB(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Yae(o,a,n[i]))}return r}function hB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Qae(s,o,e))}return r}class pu extends Mg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kC extends Mg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Zae(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ed(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ed(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=uB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,(n,r)=>cB(n,r))&&su(this.baseMutations,e.baseMutations,(n,r)=>cB(n,r))}}class OC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){B(e.mutations.length===r.length);let i=qae;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new OC(e,n,r,i)}}class FC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nue{constructor(e,n){this.count=e,this.unchangedNames=n}}var mt,fe;function pB(t){if(void 0===t)return at("GRPC error has no .code"),I.UNKNOWN;switch(t){case mt.OK:return I.OK;case mt.CANCELLED:return I.CANCELLED;case mt.UNKNOWN:return I.UNKNOWN;case mt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case mt.INTERNAL:return I.INTERNAL;case mt.UNAVAILABLE:return I.UNAVAILABLE;case mt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case mt.NOT_FOUND:return I.NOT_FOUND;case mt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case mt.ABORTED:return I.ABORTED;case mt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case mt.DATA_LOSS:return I.DATA_LOSS;default:return V()}}(fe=mt||(mt={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";class LC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xg}static getOrCreateInstance(){return null===xg&&(xg=new LC),xg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let xg=null;const rue=new ru([4294967295,4294967295],0);function mB(t){const e=function gB(){return new TextEncoder}().encode(t),n=new Joe;return n.update(e),new Uint8Array(n.digest())}function yB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ru([n,r],0),new ru([i,s],0)]}class VC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new td(`Invalid padding: ${n}`);if(r<0)throw new td(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new td(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new td(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ru.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ru.fromNumber(r)));return 1===i.compare(rue)&&(i=new ru([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=mB(e),[r,i]=yB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new VC(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=mB(e),[r,i]=yB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nd(j.min(),i,new Ve(K),kn(),ne())}}class rd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rd(r,n,ne(),ne(),ne())}}class Rg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class _B{constructor(e,n){this.targetId=e,this.Vt=n}}class vB{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wB{constructor(){this.St=0,this.Dt=EB(),this.Ct=Dt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ne(),n=ne(),r=ne();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new rd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=EB()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class iue{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=kn(),this.zt=IB(),this.Wt=new Ve(K)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Cg(o))if(0===i){const a=new x(o.path);this.Yt(r,a,$e.newNoDocument(a,j.min()))}else B(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=LC.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,y;const _={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(y=null===(m=E?.bits)||void 0===m?void 0:m.padding)&&void 0!==y?y:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Mi(s).toUint8Array()}catch(l){if(l instanceof SU)return Cr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new VC(u,o,a)}catch(l){return Cr(l instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Cg(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,$e.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ne();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new nd(e,n,this.Wt,this.jt,r);return this.jt=kn(),this.zt=IB(),this.Wt=new Ve(K),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new wB,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new je(K),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new wB),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function IB(){return new Ve(x.comparator)}function EB(){return new Ve(x.comparator)}const sue={asc:"ASCENDING",desc:"DESCENDING"},oue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aue={and:"AND",or:"OR"};class uue{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function UC(t,e){return t.useProto3Json||$l(e)?e:{value:e}}function gu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cue(t,e){return gu(t,e.toTimestamp())}function ct(t){return B(!!t),j.fromTimestamp(function(e){const n=ls(e);return new Qe(n.seconds,n.nanos)}(t))}function BC(t,e){return(n=t,new he(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function DB(t){const e=he.fromString(t);return B(kB(e)),e}function id(t,e){return BC(t.databaseId,e.path)}function Xr(t,e){const n=DB(e);if(n.get(1)!==t.databaseId.projectId)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(TB(n))}function jC(t,e){return BC(t.databaseId,e)}function sd(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TB(t){return B(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function SB(t,e,n){return{name:id(t,e),fields:n.value.mapValue.fields}}function MB(t,e){return{documents:[jC(t,e.path)]}}function HC(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=jC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jC(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return NB(Te.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:gs((l=c).field),direction:pue(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=UC(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function xB(t){let e=function bB(t){const e=DB(t);return 4===e.length?he.emptyPath():TB(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=RB(l);return d instanceof Te&&bC(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new uu(mu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,$l(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new ps((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new ps(l.values||[],!l.before)}(n.endAt)),function qU(t,e,n,r,i,s,o,a){return new xi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function RB(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=mu(e.unaryFilter.field);return ue.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=mu(e.unaryFilter.field);return ue.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=mu(e.unaryFilter.field);return ue.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mu(e.unaryFilter.field);return ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(t):void 0!==t.fieldFilter?function(e){return ue.create(mu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Te.create(e.compositeFilter.filters.map(n=>RB(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return V()}}(e.compositeFilter.op))}(t):V()}function pue(t){return sue[t]}function gue(t){return oue[t]}function mue(t){return aue[t]}function gs(t){return{fieldPath:t.canonicalString()}}function mu(t){return ut.fromServerFormat(t.fieldPath)}function NB(t){return t instanceof ue?function(e){if("=="===e.op){if(xU(e.value))return{unaryFilter:{field:gs(e.field),op:"IS_NAN"}};if(MU(e.value))return{unaryFilter:{field:gs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xU(e.value))return{unaryFilter:{field:gs(e.field),op:"IS_NOT_NAN"}};if(MU(e.value))return{unaryFilter:{field:gs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gs(e.field),op:gue(e.op),value:e.value}}}(t):t instanceof Te?function(e){const n=e.getFilters().map(r=>NB(r));return 1===n.length?n[0]:{compositeFilter:{op:mue(e.op),filters:n}}}(t):V()}function yue(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ki{constructor(e,n,r,i,s=j.min(),o=j.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PB{constructor(e){this.fe=e}}function GC(t){const e=xB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Tg(e,e.limit,"L"):e}class Eo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(nt(e.integerValue));else if("doubleValue"in e){const r=nt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Hl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Mi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?RU(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):V()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Eo.Ve=new Eo;class Tue{constructor(){this.rn=new YC}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(Kn.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class YC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(he.comparator)).toArray()}}new Uint8Array(0);class rn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(41943040,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);class Do{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Do(0)}static Mn(){return new Do(-1)}}class Nue{constructor(){this.changes=new Ri(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Oue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&ed(r.mutation,i,Nn.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=Yr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=kn();const o=Jl(),a=Jl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ni)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),ed(l.mutation,c,l.mutation.getFieldMask(),Qe.now())):o.set(c.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Oue(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Jl();let i=new Ve((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Nn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ne()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=ZU();l.forEach(h=>{if(!s.has(h)){const f=uB(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):MC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(Yr());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ne())).next(l=>({batchId:a,changes:JU(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Xl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Xl();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new xi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,$e.newInvalidDocument(c)))});let o=Xl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&ed(c.mutation,u,Nn.empty(),Qe.now()),Yl(n,u)&&(o=o.insert(a,u))}),o})}}class Fue{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ct(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:GC(r.bundledQuery),readTime:ct(r.readTime)}),w.resolve();var r}}class Lue{constructor(){this.overlays=new Ve(x.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yr();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=Yr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ve((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Yr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Yr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FC(n,r));let s=this.ls.get(n);void 0===s&&(s=ne(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class XC{constructor(){this.fs=new je(Rt.ds),this.ws=new je(Rt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Rt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new he([])),r=new Rt(n,e),i=new Rt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new he([])),r=new Rt(n,e),i=new Rt(n,e+1);let s=ne();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Rt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||K(e.As,n.As)}static _s(e,n){return K(e.As,n.As)||x.comparator(e.key,n.key)}}class Vue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new je(Rt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new PC(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(K);return n.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new x(s),0);let a=new je(K);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){B(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Rt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Uue{constructor(e){this.Ds=e,this.docs=new Ve(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(e,n){let r=kn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$e.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=kn();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||vC(pU(l),r)<=0||(i.has(l.key)||Yl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){V()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Bue(this)}getSize(e){return w.resolve(this.size)}}class Bue extends Nue{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class jue{constructor(e){this.persistence=e,this.xs=new Ri(n=>go(n),Kl),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Ns=0,this.ks=new XC,this.targetCount=0,this.Ms=Do.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class JC{constructor(e,n){this.$s={},this.overlays={},this.Os=new Qn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new jue(this),this.indexManager=new Tue,this.remoteDocumentCache=new Uue(r=>this.referenceDelegate.Ls(r)),this.serializer=new PB(n),this.qs=new Fue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Lue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Vue(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new $ue(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class $ue extends cae{constructor(e){super(),this.currentSequenceNumber=e}}class Bg{constructor(e){this.persistence=e,this.Qs=new XC,this.js=null}static zs(e){return new Bg(e)}get Ws(){if(this.js)return this.js;throw V()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class nD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new nD(e,n.fromCache,r,i)}}class uj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(WU(n))return w.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Tg(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Tg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return WU(n)||i.isEqual(j.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(mC()<=ge.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),RC(n)),this.Wi(e,o,n,function fU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new Qe(n+1,0):new Qe(n,r));return new Kn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new je(YU(e));return n.forEach((i,s)=>{Yl(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return mC()<=ge.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",RC(n)),this.Ui.getDocumentsMatchingQuery(e,n,Kn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Gue{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ve(K),this.Yi=new Ri(s=>go(s),Kl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function lj(t,e){return(vV=vV||v(function*(n,r){const i=R(n);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(a=>(o=a,i.tr(r),i.mutationQueue.getAllMutationBatches(s))).next(a=>{const u=[],c=[];let l=ne();for(const d of o){u.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of a){c.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return i.localDocuments.getDocuments(s,l).next(d=>({er:d,removedBatchIds:u,addedBatchIds:c}))})})})).apply(this,arguments)}function dj(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Wue(t,e){const n=R(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wu(t,e,n){return(wV=wV||v(function*(r,i,s){const o=R(r),a=o.Ji.get(i),u=s?"readwrite":"readwrite-primary";try{s||(yield o.persistence.runTransaction("Release target",u,c=>o.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!us(c))throw c;A("LocalStore",`Failed to update sequence numbers for target ${i}: ${c}`)}o.Ji=o.Ji.remove(i),o.Yi.delete(a.target)})).apply(this,arguments)}function Hg(t,e,n){const r=R(t);let i=j.min(),s=ne();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:j.min(),n?s:ne())).next(a=>(function gj(t,e,n){let r=t.Xi.get(e)||j.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function QU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class sD{constructor(){this.activeTargetIds=function NC(){return Kae}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _j{constructor(){this.Hr=new sD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new sD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yue{Yr(e){}shutdown(){}}class vj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qg=null;function aD(){return null===qg?qg=268435456+Math.round(2147483648*Math.random()):qg++,"0x"+qg.toString(16)}const Xue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jue{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const sn="WebChannelConnection";class Zue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=aD(),a=this.To(e,n);A("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(A("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Cr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+iu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Xue[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=aD();return new Promise((o,a)=>{const u=new Xoe;u.setWithCredentials(!0),u.listenOnce(Koe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gC.NO_ERROR:const l=u.getResponseJson();A(sn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case gC.TIMEOUT:A(sn,`RPC '${e}' ${s} timed out`),a(new b(I.DEADLINE_EXCEEDED,"Request time out"));break;case gC.HTTP_ERROR:const d=u.getStatus();if(A(sn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(I.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{A(sn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);A(sn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=aD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qoe(),a=Woe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Yoe({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");A(sn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Jue({ro:m=>{f?A(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(A(sn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),A(sn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,y,_)=>{m.listen(y,E=>{try{_(E)}catch(C){setTimeout(()=>{throw C},0)}})};return g(d,hg.EventType.OPEN,()=>{f||A(sn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,hg.EventType.CLOSE,()=>{f||(f=!0,A(sn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,hg.EventType.ERROR,m=>{f||(f=!0,Cr(sn,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new b(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,hg.EventType.MESSAGE,m=>{var y;if(!f){const _=m.data[0];B(!!_);const C=_.error||(null===(y=_[0])||void 0===y?void 0:y.error);if(C){A(sn,`RPC '${e}' stream ${i} received error:`,C);const k=C.status;let Q=function(ht){const Nt=mt[ht];if(void 0!==Nt)return pB(Nt)}(k),ye=C.message;void 0===Q&&(Q=I.INTERNAL,ye="Unknown error status: "+k+" with message "+C.message),f=!0,p.wo(new b(Q,ye)),d.close()}else A(sn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,Qoe.STAT_EVENT,m=>{m.stat===yV.PROXY?A(sn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===yV.NOPROXY&&A(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Wg(){return typeof document<"u"?document:null}function gd(t){return new uue(t,!0)}class uD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Ij{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new uD(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return v(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return v(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return v(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(at(n.toString()),at("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(v(function*(){e.state=0,e.start()}))}tu(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ece extends Ij{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function due(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:V(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(B(void 0===c||"string"==typeof c),Dt.fromBase64String(c||"")):(B(void 0===c||c instanceof Uint8Array),Dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:pB(u.code);return new b(c,u.message||"")}(o);n=new vB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Xr(t,r.document.name),s=ct(r.document.updateTime),o=r.document.createTime?ct(r.document.createTime):j.min(),a=new qt({mapValue:{fields:r.document.fields}}),u=$e.newFoundDocument(i,s,o,a);n=new Rg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Xr(t,r.document),s=r.readTime?ct(r.readTime):j.min(),o=$e.newNoDocument(i,s);n=new Rg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Xr(t,r.document);n=new Rg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return V();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new nue(i,s);n=new _B(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return j.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?ct(s.readTime):j.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=sd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Cg(a)?{documents:MB(i,a)}:{query:HC(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=CB(i,s.resumeToken);const u=UC(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(j.min())>0){o.readTime=gu(i,s.snapshotVersion.toTimestamp());const u=UC(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function fue(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=sd(this.serializer),n.removeTarget=e,this.Wo(n)}}class tce extends Ij{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function hue(t,e){return t&&t.length>0?(B(void 0!==e),t.map(n=>function(r,i){let s=ct(r.updateTime?r.updateTime:i);return s.isEqual(j.min())&&(s=ct(i)),new Jae(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.cu(r,n)}return B(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=sd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function od(t,e){let n;if(e instanceof fu)n={update:SB(t,e.key,e.value)};else if(e instanceof pu)n={delete:id(t,e.key)};else if(e instanceof Ni)n={update:SB(t,e.key,e.data),updateMask:yue(e.fieldMask)};else{if(!(e instanceof kC))return V();n={verify:id(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof du)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof yo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof _o)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof hu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:cue(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:V()),n;var i}(this.serializer,r))};this.Wo(n)}}class nce extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class ice{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(at(n),this.mu=!1):A("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class sce{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(v(function*(){var u;vs(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield function(c){return(u=u||v(function*(l){const d=R(l);d.vu.add(4),yield Iu(d),d.bu.set("Unknown"),d.vu.delete(4),yield md(d)})).apply(this,arguments)}(o))}))}),this.bu=new ice(r,i)}}function md(t){return(DV=DV||v(function*(e){if(vs(e))for(const n of e.Ru)yield n(!0)})).apply(this,arguments)}function Iu(t){return(bV=bV||v(function*(e){for(const n of e.Ru)yield n(!1)})).apply(this,arguments)}function Kg(t,e){const n=R(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),dD(n)?lD(n):Cu(n).Ko()&&cD(n,e))}function yd(t,e){const n=R(t),r=Cu(n);n.Au.delete(e),r.Ko()&&Ej(n,e),0===n.Au.size&&(r.Ko()?r.jo():vs(n)&&n.bu.set("Unknown"))}function cD(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cu(t).su(e)}function Ej(t,e){t.Vu.qt(e),Cu(t).iu(e)}function lD(t){t.Vu=new iue({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Cu(t).start(),t.bu.gu()}function dD(t){return vs(t)&&!Cu(t).Uo()&&t.Au.size>0}function vs(t){return 0===R(t).vu.size}function Cj(t){t.Vu=void 0}function oce(t){return(TV=TV||v(function*(e){e.Au.forEach((n,r)=>{cD(e,n)})})).apply(this,arguments)}function ace(t,e){return(SV=SV||v(function*(n,r){Cj(n),dD(n)?(n.bu.Iu(r),lD(n)):n.bu.set("Unknown")})).apply(this,arguments)}function uce(t,e,n){return(AV=AV||v(function*(r,i,s){if(r.bu.set("Online"),i instanceof vB&&2===i.state&&i.cause)try{var o;yield function(a,u){return(o=o||v(function*(c,l){const d=l.cause;for(const h of l.targetIds)c.Au.has(h)&&(yield c.remoteSyncer.rejectListen(h,d),c.Au.delete(h),c.Vu.removeTarget(h))})).apply(this,arguments)}(r,i)}catch(a){A("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),a),yield Qg(r,a)}else if(i instanceof Rg?r.Vu.Ht(i):i instanceof _B?r.Vu.ne(i):r.Vu.Xt(i),!s.isEqual(j.min()))try{const a=yield dj(r.localStore);s.compareTo(a)>=0&&(yield function(u,c){const l=u.Vu.ce(c);return l.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const f=u.Au.get(h);f&&u.Au.set(h,f.withResumeToken(d.resumeToken,c))}}),l.targetMismatches.forEach((d,h)=>{const f=u.Au.get(d);if(!f)return;u.Au.set(d,f.withResumeToken(Dt.EMPTY_BYTE_STRING,f.snapshotVersion)),Ej(u,d);const p=new ki(f.target,d,h,f.sequenceNumber);cD(u,p)}),u.remoteSyncer.applyRemoteEvent(l)}(r,s))}catch(a){A("RemoteStore","Failed to raise snapshot:",a),yield Qg(r,a)}})).apply(this,arguments)}function Qg(t,e,n){return(MV=MV||v(function*(r,i,s){if(!us(i))throw i;r.vu.add(1),yield Iu(r),r.bu.set("Offline"),s||(s=()=>dj(r.localStore)),r.asyncQueue.enqueueRetryable(v(function*(){A("RemoteStore","Retrying IndexedDB access"),yield s(),r.vu.delete(1),yield md(r)}))})).apply(this,arguments)}function Dj(t,e){return e().catch(n=>Qg(t,n,e))}function Eu(t){return(xV=xV||v(function*(e){const n=R(e),r=ws(n);let i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;for(;cce(n);)try{const s=yield Wue(n.localStore,i);if(null===s){0===n.Eu.length&&r.jo();break}i=s.batchId,lce(n,s)}catch(s){yield Qg(n,s)}bj(n)&&Tj(n)})).apply(this,arguments)}function cce(t){return vs(t)&&t.Eu.length<10}function lce(t,e){t.Eu.push(e);const n=ws(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function bj(t){return vs(t)&&!ws(t).Uo()&&t.Eu.length>0}function Tj(t){ws(t).start()}function dce(t){return(RV=RV||v(function*(e){ws(e).hu()})).apply(this,arguments)}function hce(t){return(NV=NV||v(function*(e){const n=ws(e);for(const r of e.Eu)n.uu(r.mutations)})).apply(this,arguments)}function fce(t,e,n){return(kV=kV||v(function*(r,i,s){const o=r.Eu.shift(),a=OC.from(o,i,s);yield Dj(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Eu(r)})).apply(this,arguments)}function pce(t,e){return(PV=PV||v(function*(n,r){var i;r&&ws(n).ou&&(yield function(s,o){return(i=i||v(function*(a,u){if(function fB(t){switch(t){default:return V();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(c=u.code)&&c!==I.ABORTED){const l=a.Eu.shift();ws(a).Qo(),yield Dj(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,u)),yield Eu(a)}var c})).apply(this,arguments)}(n,r)),bj(n)&&Tj(n)})).apply(this,arguments)}function Sj(t,e){return(OV=OV||v(function*(n,r){const i=R(n);i.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const s=vs(i);i.vu.add(3),yield Iu(i),s&&i.bu.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(r),i.vu.delete(3),yield md(i)})).apply(this,arguments)}function Cu(t){var e;return t.Su||(t.Su=function(n,r,i){const s=R(n);return s.fu(),new ece(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:oce.bind(null,t),ao:ace.bind(null,t),nu:uce.bind(null,t)}),t.Ru.push(function(n){return(e=e||v(function*(r){r?(t.Su.Qo(),dD(t)?lD(t):t.bu.set("Unknown")):(yield t.Su.stop(),Cj(t))})).apply(this,arguments)})),t.Su}function ws(t){var e;return t.Du||(t.Du=function(n,r,i){const s=R(n);return s.fu(),new tce(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:dce.bind(null,t),ao:pce.bind(null,t),au:hce.bind(null,t),cu:fce.bind(null,t)}),t.Ru.push(function(n){return(e=e||v(function*(r){r?(t.Du.Qo(),yield Eu(t)):(yield t.Du.stop(),t.Eu.length>0&&(A("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})).apply(this,arguments)})),t.Du}class fD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new fD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Du(t,e){if(at("AsyncQueue",`${e}: ${t}`),us(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}class bu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Xl(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new bu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Aj{constructor(){this.Cu=new Ve(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):V():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Tu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Tu(e,n,bu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ql(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class gce{constructor(){this.Nu=void 0,this.listeners=[]}}class mce{constructor(){this.queries=new Ri(e=>KU(e),Ql),this.onlineState="Unknown",this.ku=new Set}}function yce(t,e){const n=R(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&mD(n)}function _ce(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function mD(t){t.ku.forEach(e=>{e.next()})}class yD{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Tu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Rj{constructor(e){this.key=e}}class Nj{constructor(e){this.key=e}}class kj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ne(),this.mutatedKeys=ne(),this.tc=YU(e),this.ec=new bu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Aj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Yl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Tu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Aj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ne(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Nj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Rj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ne();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Tu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ice{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ece{constructor(e){this.key=e,this.fc=!1}}class Cce{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ri(a=>KU(a),Ql),this._c=new Map,this.mc=new Set,this.gc=new Ve(x.comparator),this.yc=new Map,this.Ic=new XC,this.Tc={},this.Ec=new Map,this.Ac=Do.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Dce(t,e){return(UV=UV||v(function*(n,r){const i=function CD(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sce.bind(null,e),e.dc.nu=yce.bind(null,e.eventManager),e.dc.Pc=_ce.bind(null,e.eventManager),e}(n);let s,o;const a=i.wc.get(r);if(a)s=a.targetId,i.sharedClientState.addLocalQueryTarget(s),o=a.view.lc();else{const u=yield function vu(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new ki(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(i.localStore,vn(r)),c=i.sharedClientState.addLocalQueryTarget(u.targetId);s=u.targetId,o=yield function _D(t,e,n,r,i){return(BV=BV||v(function*(s,o,a,u,c){s.Rc=(m,y,_)=>{var E;return function(C,k,Q,ye){return(E=E||v(function*(ht,Nt,qd,jm){let $m=Nt.view.sc(qd);$m.zi&&($m=yield Hg(ht.localStore,Nt.query,!1).then(({documents:_ge})=>Nt.view.sc(_ge,$m)));const yge=jm&&jm.targetChanges.get(Nt.targetId),q4=Nt.view.applyChanges($m,ht.isPrimaryClient,yge);return ID(ht,Nt.targetId,q4.cc),q4.snapshot})).apply(this,arguments)}(s,m,y,_)};const l=yield Hg(s.localStore,o,!0),d=new kj(o,l.ir),h=d.sc(l.documents),f=rd.createSynthesizedTargetChangeForCurrentChange(a,u&&"Offline"!==s.onlineState,c),p=d.applyChanges(h,s.isPrimaryClient,f);ID(s,a,p.cc);const g=new Ice(o,a,d);return s.wc.set(o,g),s._c.has(a)?s._c.get(a).push(o):s._c.set(a,[o]),p.snapshot})).apply(this,arguments)}(i,r,s,"current"===c,u.resumeToken),i.isPrimaryClient&&Kg(i.remoteStore,u)}return o})).apply(this,arguments)}function bce(t,e){return(jV=jV||v(function*(n,r){const i=R(n),s=i.wc.get(r),o=i._c.get(s.targetId);if(o.length>1)return i._c.set(s.targetId,o.filter(a=>!Ql(a,r))),void i.wc.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||(yield wu(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),yd(i.remoteStore,s.targetId),Su(i,s.targetId)}).catch(as))):(Su(i,s.targetId),yield wu(i.localStore,s.targetId,!0))})).apply(this,arguments)}function Pj(t,e){return(HV=HV||v(function*(n,r){const i=R(n);try{const s=yield function que(t,e){const n=R(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Dt.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=kn(),c=ne();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function hj(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=kn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(j.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(j.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(i.localStore,r);r.targetChanges.forEach((o,a)=>{const u=i.yc.get(a);u&&(B(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.fc=!0:o.modifiedDocuments.size>0?B(u.fc):o.removedDocuments.size>0&&(B(u.fc),u.fc=!1))}),yield Pi(i,s,r)}catch(s){yield as(s)}})).apply(this,arguments)}function Oj(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&mD(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Sce(t,e,n){return(GV=GV||v(function*(r,i,s){const o=R(r);o.sharedClientState.updateQueryState(i,"rejected",s);const a=o.yc.get(i),u=a&&a.key;if(u){let c=new Ve(x.comparator);c=c.insert(u,$e.newNoDocument(u,j.min()));const l=ne().add(u),d=new nd(j.min(),new Map,new Ve(K),c,l);yield Pj(o,d),o.gc=o.gc.remove(u),o.yc.delete(i),ED(o)}else yield wu(o.localStore,i,!1).then(()=>Su(o,i,s)).catch(as)})).apply(this,arguments)}function Ace(t,e){return(zV=zV||v(function*(n,r){const i=R(n),s=r.batch.batchId;try{const o=yield function zue(t,e){const n=R(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);B(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ne();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(i.localStore,r);wD(i,s,null),vD(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Pi(i,o)}catch(o){yield as(o)}})).apply(this,arguments)}function Mce(t,e,n){return(qV=qV||v(function*(r,i,s){const o=R(r);try{const a=yield function(u,c){const l=R(u);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,c).next(f=>(B(null!==f),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(o.localStore,i);wD(o,i,s),vD(o,i),o.sharedClientState.updateMutationState(i,"rejected",s),yield Pi(o,a)}catch(a){yield as(a)}})).apply(this,arguments)}function vD(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function wD(t,e,n){const r=R(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Su(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Fj(t,r)})}function Fj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(yd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),ED(t))}function ID(t,e,n){for(const r of n)r instanceof Rj?(t.Ic.addReference(r.key,e),Rce(t,r)):r instanceof Nj?(A("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Fj(t,r.key)):V()}function Rce(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(A("SyncEngine","New document in limbo: "+n),t.mc.add(r),ED(t))}function ED(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(he.fromString(e)),r=t.Ac.next();t.yc.set(r,new Ece(n)),t.gc=t.gc.insert(n,r),Kg(t.remoteStore,new ki(vn(lu(n.path)),r,"TargetPurposeLimboResolution",Qn.ct))}}function Pi(t,e,n){return(KV=KV||v(function*(r,i,s){var o;const a=R(r),u=[],c=[],l=[];a.wc.isEmpty()||(a.wc.forEach((d,h)=>{l.push(a.Rc(h,i,s).then(f=>{if((f||s)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(h.targetId,f?.fromCache?"not-current":"current"),f){u.push(f);const p=nD.Li(h.targetId,f);c.push(p)}}))}),yield Promise.all(l),a.dc.nu(u),yield function(d,h){return(o=o||v(function*(f,p){const g=R(f);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>w.forEach(p,y=>w.forEach(y.Fi,_=>g.persistence.referenceDelegate.addReference(m,y.targetId,_)).next(()=>w.forEach(y.Bi,_=>g.persistence.referenceDelegate.removeReference(m,y.targetId,_)))))}catch(m){if(!us(m))throw m;A("LocalStore","Failed to update sequence numbers: "+m)}for(const m of p){const y=m.targetId;if(!m.fromCache){const _=g.Ji.get(y),C=_.withLastLimboFreeSnapshotVersion(_.snapshotVersion);g.Ji=g.Ji.insert(y,C)}}})).apply(this,arguments)}(a.localStore,c))})).apply(this,arguments)}function Nce(t,e){return(QV=QV||v(function*(n,r){const i=R(n);if(!i.currentUser.isEqual(r)){A("SyncEngine","User change. New user:",r.toKey());const s=yield lj(i.localStore,r);i.currentUser=r,(o=i).Ec.forEach(u=>{u.forEach(c=>{c.reject(new b(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),i.sharedClientState.handleUserChange(r,s.removedBatchIds,s.addedBatchIds),yield Pi(i,s.er)}var o})).apply(this,arguments)}function kce(t,e){const n=R(t),r=n.yc.get(e);if(r&&r.fc)return ne().add(r.key);{let i=ne();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function DD(t){const e=R(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ace.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mce.bind(null,e),e}class Yg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return v(function*(){n.serializer=gd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function cj(t,e,n,r){return new Gue(t,e,n,r)}(this.persistence,new uj,e.initialUser,this.serializer)}createPersistence(e){return new JC(Bg.zs,this.serializer)}createSharedClientState(e){return new _j}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Au{initialize(e,n){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Oj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Nce.bind(null,r.syncEngine),yield function hD(t,e){return(FV=FV||v(function*(n,r){const i=R(n);r?(i.vu.delete(2),yield md(i)):r||(i.vu.add(2),yield Iu(i),i.bu.set("Unknown"))})).apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mce}createDatastore(e){const n=gd(e.databaseInfo.databaseId),r=new Zue(e.databaseInfo);return new nce(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Oj(this.syncEngine,a,0),o=vj.D()?new vj:new Yue,new sce(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Cce(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e;return function(n){return(e=e||v(function*(r){const i=R(r);A("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Iu(i),i.Pu.shutdown(),i.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}class Xg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):at("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class qce{constructor(e,n,r,i){var o,s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=dU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(a){return(o=o||v(function*(u){A("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u})).apply(this,arguments)}),this.appCheckCredentials.start(r,a=>(A("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Du(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Jg(t,e){return(rU=rU||v(function*(n,r){var i;n.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const s=yield n.getConfiguration();yield r.initialize(s);let o=s.initialUser;n.setCredentialChangeListener(function(a){return(i=i||v(function*(u){o.isEqual(u)||(yield lj(r.localStore,u),o=u)})).apply(this,arguments)}),r.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=r})).apply(this,arguments)}function bD(t,e){return(iU=iU||v(function*(n,r){n.asyncQueue.verifyOperationInProgress();const i=yield function TD(t){return(sU=sU||v(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jg(e,e._uninitializedComponentsProvider._offline)}catch(n){const r=n;if(!function $j(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r))throw r;Cr("Error using user provided cache. Falling back to memory cache: "+r),yield Jg(e,new Yg)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield Jg(e,new Yg);return e._offlineComponents})).apply(this,arguments)}(n);A("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield r.initialize(i,s),n.setCredentialChangeListener(o=>Sj(r.remoteStore,o)),n.setAppCheckTokenChangeListener((o,a)=>Sj(r.remoteStore,a)),n._onlineComponents=r})).apply(this,arguments)}function Zg(t){return(oU=oU||v(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield bD(e,e._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield bD(e,new Au))),e._onlineComponents})).apply(this,arguments)}function Mu(t){return(aU=aU||v(function*(e){const n=yield Zg(e),r=n.eventManager;return r.onListen=Dce.bind(null,n.syncEngine),r.onUnlisten=bce.bind(null,n.syncEngine),r})).apply(this,arguments)}function Kj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Qj=new Map;function AD(t,e,n){if(!n)throw new b(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Yj(t){if(!x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xj(t){if(x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":V()}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tm(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Zj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function tle(t,e,n,r){if(!0===e&&!0===r)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Kj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Zoe;switch(n.type){case"firstParty":return new rae(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Qj.get(e);n&&(A("ComponentProvider","Removing Datastore"),Qj.delete(e),n.terminate())}(this),Promise.resolve()}}class lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}}class Wt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wt(this.firestore,e,this._query)}}class Jr extends Wt{constructor(e,n,r){super(e,n,lu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new x(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function rle(t,e,...n){if(t=qn(t),AD("collection","path",e),t instanceof _d){const r=he.fromString(e,...n);return Xj(r),new Jr(t,null,r)}{if(!(t instanceof lt||t instanceof Jr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return Xj(r),new Jr(t.firestore,null,r)}}class sle{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new uD(this,"async_queue_retry"),this.Xc=()=>{const n=Wg();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Wg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Wg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ct;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return v(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!us(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,at("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=fD.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&V()}verifyOperationInProgress(){}sa(){var e=this;return v(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function MD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class He extends _d{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sle,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||t$(this),this._firestoreClient.terminate()}}function ale(t,e){const r="string"==typeof t?t:e||"(default)",i=cp("object"==typeof t?t:DN(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=ip())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function nle(t,e,n,r={}){var i;const s=(t=ce(t,_d))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Mt.MOCK_USER;else{a=function qX(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[np(JSON.stringify({alg:"none",type:"JWT"})),np(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mt(c)}t._authCredentials=new eae(new cU(a,u))}}(i,...s)}return i}function yt(t){return t._firestoreClient||t$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function t$(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new kae(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Kj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new qce(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(Dt.fromBase64String(e))}catch(n){throw new b(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new To(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class i${constructor(e){this._methodName=e}}class xD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const cle=/^__.*__$/;class lle{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}function o$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class nm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return im(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(o$(this.ca)&&cle.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class dle{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gd(e)}ya(e,n,r,i=!1){return new nm({ca:e,methodName:n,ga:r,path:ut.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ru(t){const e=t._freezeSettings(),n=gd(t._databaseId);return new dle(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RD(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);kD("Data must be an object, but it was:",o,r);const a=d$(r,o);let u,c;if(s.merge)u=new Nn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Id(e,d,n);if(!o.contains(h))throw new b(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);f$(l,h)||l.push(h)}u=new Nn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new lle(new qt(a),u,c)}function So(t,e){if(h$(t=qn(t)))return kD("Unsupported field value:",e,t),d$(t,e);if(t instanceof i$)return function(n,r){if(!o$(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=So(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=qn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return nB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Qe.fromDate(n);return{timestampValue:gu(r.serializer,i)}}if(n instanceof Qe){const i=new Qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:gu(r.serializer,i)}}if(n instanceof xD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof To)return{bytesValue:CB(r.serializer,n._byteString)};if(n instanceof lt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:BC(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${tm(n)}`)}(t,e)}function d$(t,e){const n={};return bU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(t,(r,i)=>{const s=So(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function h$(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof xD||t instanceof To||t instanceof lt||t instanceof i$)}function kD(t,e,n){if(!h$(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=tm(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Id(t,e,n){if((e=qn(e))instanceof xu)return e._internalPath;if("string"==typeof e)return rm(t,e);throw im("Field path arguments must be of type string or ",t,!1,void 0,n)}const gle=new RegExp("[~\\*/\\[\\]]");function rm(t,e,n){if(e.search(gle)>=0)throw im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xu(...e.split("."))._internalPath}catch{throw im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function im(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(I.INVALID_ARGUMENT,a+t+u)}function f$(t,e){return t.some(n=>n.isEqual(e))}class PD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class mle extends PD{data(){return super.data()}}function sm(t,e){return"string"==typeof e?rm(t,e):e instanceof xu?e._internalPath:e._delegate._internalPath}class OD{}class yle extends OD{}function _le(t,e,...n){let r=[];e instanceof OD&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Nu).length,o=i.filter(a=>a instanceof Ed).length;if(s>1||s>0&&o>0)throw new b(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ed extends yle{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ed(e,n,r)}_apply(e){const n=this._parse(e);return _$(e._query,n),new Wt(e.firestore,e.converter,xC(e._query,n))}_parse(e){const n=Ru(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new b(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){y$(l,c);const h=[];for(const f of l)h.push(m$(a,i,f));d={arrayValue:{values:h}}}else d=m$(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||y$(l,c),d=function l$(t,e,n,r=!1){return So(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return ue.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function vle(t,e,n){const r=e,i=sm("where",t);return Ed._create(i,r,n)}class Nu extends OD{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Te.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)_$(s,a),s=xC(s,a)}(e._query,n),new Wt(e.firestore,e.converter,xC(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function m$(t,e,n){if("string"==typeof(n=qn(n))){if(""===n)throw new b(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MC(e)&&-1!==n.indexOf("/"))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(he.fromString(n));if(!x.isDocumentKey(r))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return po(t,new x(r))}if(n instanceof lt)return po(t,n._key);throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tm(n)}.`)}function y$(t,e){if(!Array.isArray(t)||0===t.length)throw new b(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _$(t,e){if(e.isInequality()){const r=bg(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new b(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=AC(t);null!==s&&function v$(t,e,n){if(!n.isEqual(e))throw new b(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new b(I.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wle{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xD(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=ls(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);B(kB(r));const i=new fo(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||at(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ku extends PD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cm extends ku{data(e={}){return super.data(e)}}class Pu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ao(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cm(this._firestore,this._userDataWriter,r.key,r,new Ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new cm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ao(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new cm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ao(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Ele(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ele(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}class Is extends wle{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}}function Cle(t,e){const n=ce(t.firestore,He),r=function ile(t,e,...n){if(t=qn(t),1===arguments.length&&(e=dU.A()),AD("doc","path",e),t instanceof _d){const r=he.fromString(e,...n);return Yj(r),new lt(t,null,new x(r))}{if(!(t instanceof lt||t instanceof Jr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return Yj(r),new lt(t.firestore,t instanceof Jr?t.converter:null,new x(r))}}(t),i=function LD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function Cd(t,e){return function(n,r){const i=new Ct;return n.asyncQueue.enqueueAndForget(v(function*(){return function Tce(t,e,n){return($V=$V||v(function*(r,i,s){const o=DD(r);try{const a=yield function(u,c){const l=R(u),d=Qe.now(),h=c.reduce((g,m)=>g.add(m.key),ne());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=kn(),y=ne();return l.Zi.getEntries(g,h).next(_=>{m=_,m.forEach((E,C)=>{C.isValidDocument()||(y=y.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,m)).next(_=>{f=_;const E=[];for(const C of c){const k=eue(C,f.get(C.key).overlayedDocument);null!=k&&E.push(new Ni(C.key,k,PU(k.value.mapValue),qe.exists(!0)))}return l.mutationQueue.addMutationBatch(g,d,E,c)}).next(_=>{p=_;const E=_.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,_.batchId,E)})}).then(()=>({batchId:p.batchId,changes:JU(f)}))}(o.localStore,i);o.sharedClientState.addPendingMutation(a.batchId),function(u,c,l){let d=u.Tc[u.currentUser.toKey()];d||(d=new Ve(K)),d=d.insert(c,l),u.Tc[u.currentUser.toKey()]=d}(o,a.batchId,s),yield Pi(o,a.changes),yield Eu(o.remoteStore)}catch(a){const u=Du(a,"Failed to persist write");s.reject(u)}})).apply(this,arguments)}(yield function SD(t){return Zg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(yt(t),e)}(n,[RD(Ru(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,qe.exists(!1))]).then(()=>r)}!function(t,e=!0){iu=tl,mn(new Zt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new He(new tae(n.getProvider("auth-internal")),new iae(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ot(uU,"3.13.0",t),ot(uU,"3.13.0","esm2017")}();var Fle={includeMetadataChanges:!1};function UD(t,e){return void 0===e&&(e=Fle),new Ge(function(n){var r=function Dle(t,...e){var n,r,i;t=qn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||MD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(MD(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof lt)c=ce(t.firestore,He),l=lu(t._key.path),u={next:d=>{e[o]&&e[o](function VD(t,e,n){const r=n.docs.get(e._key),i=new Is(t);return new ku(t,i,e._key,r,new Ao(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ce(t,Wt);c=ce(d.firestore,He),l=d._query;const h=new Is(c);u={next:f=>{e[o]&&e[o](new Pu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function p$(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Xg(p),m=new yD(h,g,f);return d.asyncQueue.enqueueAndForget(v(function*(){return function pD(t,e){return(LV=LV||v(function*(n,r){const i=R(n),s=r.query;let o=!1,a=i.queries.get(s);if(a||(o=!0,a=new gce),o)try{a.Nu=yield i.onListen(s)}catch(u){const c=Du(u,`Initialization of query '${RC(r.query)}' failed`);return void r.onError(c)}i.queries.set(s,a),a.listeners.push(r),r.Mu(i.onlineState),a.Nu&&r.$u(a.Nu)&&mD(i)})).apply(this,arguments)}(yield Mu(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(v(function*(){return function gD(t,e){return(VV=VV||v(function*(n,r){const i=R(n),s=r.query;let o=!1;const a=i.queries.get(s);if(a){const u=a.listeners.indexOf(r);u>=0&&(a.listeners.splice(u,1),o=0===a.listeners.length)}if(o)return i.queries.delete(s),i.onUnlisten(s)})).apply(this,arguments)}(yield Mu(d),m)}))}}(yt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Hle(t,e){return void 0===e&&(e={}),function $le(t){return UD(t,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}(t).pipe(se(function(n){return n.map(function(r){return function E$(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class dm{constructor(e){return e}}const T$="firestore",$D=new O("angularfire2.firestore-instances");function qle(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new dm(r)}}const Wle={provide:class Gle{constructor(){return LI(T$)}},deps:[[new Tn,$D]]},Kle={provide:dm,useFactory:function zle(t,e){const n=function FI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(T$,t,e);return n&&new dm(n)},deps:[[new Tn,$D],qa]};let Qle=(()=>{class t{constructor(){ot("angularfire",AI.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({providers:[Kle,Wle]}),t})();function Yle(t,...e){return{ngModule:Qle,providers:[{provide:$D,useFactory:qle(t),multi:!0,deps:[De,hn,GP,zP,[new Tn,CL],[new Tn,t2],...e]}]}}const S$=to(Hle,!0),Xle=to(Cle,!0),Jle=to(rle,!0),Zle=to(ale,!0),A$=to(_le,!0),ede=to(vle,!0),{isArray:nde}=Array,{getPrototypeOf:rde,prototype:ide,keys:sde}=Object;const{isArray:ade}=Array;function HD(...t){const e=Wu(t),n=function rT(t){return Ae(ey(t))?t.pop():void 0}(t),{args:r,keys:i}=function M$(t){if(1===t.length){const e=t[0];if(nde(e))return{args:e,keys:null};if(function ode(t){return t&&"object"==typeof t&&rde(t)===ide}(e)){const n=sde(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return vt([],e);const s=new Ge(function cde(t,e,n=Li){return r=>{N$(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)N$(e,()=>{const c=vt(t[u],e);let l=!1;c.subscribe(ft(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function R$(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Li));return n?s.pipe(function x$(t){return se(e=>function ude(t,e){return ade(e)?t(...e):t(e)}(t,e))}(n)):s}function N$(t,e,n){t?ti(n,t,e):e()}const hm=zu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function GD(...t){return function lde(){return Vo(1)}()(vt(t,Wu(t)))}function k$(t){return new Ge(e=>{Pn(t()).subscribe(e)})}function Dd(t,e){const n=Ae(t)?t:()=>t,r=i=>i.error(n());return new Ge(e?i=>e.schedule(r,0,i):r)}function zD(){return _t((t,e)=>{let n=null;t._refCount++;const r=ft(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class P$ extends Ge{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$b(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new In;const n=this.getSubject();e.add(this.source.subscribe(ft(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=In.EMPTY)}return e}refCount(){return zD()(this)}}function Ou(t){return t<=0?()=>Sr:_t((e,n)=>{let r=0;e.subscribe(ft(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function fm(t){return _t((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function O$(t=hde){return _t((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function hde(){return new hm}function Mo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?_i((i,s)=>t(i,s,r)):Li,Ou(1),n?fm(e):O$(()=>new hm))}function xo(t){return _t((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ft(n,void 0,void 0,o=>{s=Pn(t(o,xo(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function qD(t){return t<=0?()=>Sr:_t((e,n)=>{let r=[];e.subscribe(ft(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}const re="primary",bd=Symbol("RouteTitle");class _de{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Fu(t){return new _de(t)}function vde(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Zr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!F$(t[i],e[i]))return!1;return!0}function F$(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function L$(t){return t.length>0?t[t.length-1]:null}function Es(t){return function tde(t){return!!t&&(t instanceof Ge||Ae(t.lift)&&Ae(t.subscribe))}(t)?t:kc(t)?vt(Promise.resolve(t)):H(t)}const Ide={exact:function B$(t,e,n){if(!Ro(t.segments,e.segments)||!pm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!B$(t.children[r],e.children[r],n))return!1;return!0},subset:j$},V$={exact:function Ede(t,e){return Zr(t,e)},subset:function Cde(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>F$(t[n],e[n]))},ignored:()=>!0};function U$(t,e,n){return Ide[n.paths](t.root,e.root,n.matrixParams)&&V$[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function j$(t,e,n){return $$(t,e,e.segments,n)}function $$(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ro(i,n)||e.hasChildren()||!pm(i,n,r))}if(t.segments.length===n.length){if(!Ro(t.segments,n)||!pm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!j$(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ro(t.segments,i)&&pm(t.segments,i,r)&&t.children[re])&&$$(t.children[re],e,s,r)}}function pm(t,e,n){return e.every((r,i)=>V$[n](t[i].parameters,r.parameters))}class Lu{constructor(e=new Se([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fu(this.queryParams)),this._queryParamMap}toString(){return Tde.serialize(this)}}class Se{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gm(this)}}class Td{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Fu(this.parameters)),this._parameterMap}toString(){return z$(this)}}function Ro(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Sd=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return new WD},providedIn:"root"}),e})();class WD{parse(e){const n=new Lde(e);return new Lu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ad(e.root,!0)}`,r=function Mde(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${mm(n)}=${mm(i)}`).join("&"):`${mm(n)}=${mm(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Sde(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const Tde=new WD;function gm(t){return t.segments.map(e=>z$(e)).join("/")}function Ad(t,e){if(!t.hasChildren())return gm(t);if(e){const n=t.children[re]?Ad(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Ad(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function bde(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===re?[Ad(t.children[re],!1)]:[`${i}:${Ad(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${gm(t)}/${n[0]}`:`${gm(t)}/(${n.join("//")})`}}function H$(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mm(t){return H$(t).replace(/%3B/gi,";")}function KD(t){return H$(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ym(t){return decodeURIComponent(t)}function G$(t){return ym(t.replace(/\+/g,"%20"))}function z$(t){return`${KD(t.path)}${function Ade(t){return Object.keys(t).map(e=>`;${KD(e)}=${KD(t[e])}`).join("")}(t.parameters)}`}const xde=/^[^\/()?;#]+/;function QD(t){const e=t.match(xde);return e?e[0]:""}const Rde=/^[^\/()?;=#]+/,kde=/^[^=?&#]+/,Ode=/^[^&#]+/;class Lde{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Se(e,n)),r}parseSegment(){const e=QD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Td(ym(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Nde(t){const e=t.match(Rde);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=QD(this.remaining);i&&(r=i,this.capture(r))}e[ym(n)]=ym(r)}parseQueryParam(e){const n=function Pde(t){const e=t.match(kde);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Fde(t){const e=t.match(Ode);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=G$(n),s=G$(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=QD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new Se([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}}function q$(t){return t.segments.length>0?new Se([],{[re]:t}):t}function W$(t){const e={};for(const r of Object.keys(t.children)){const s=W$(t.children[r]);if(r===re&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Vde(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new Se(t.segments.concat(e.segments),e.children)}return t}(new Se(t.segments,e))}function No(t){return t instanceof Lu}function K$(t){let e;const i=q$(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Se(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function Q$(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return YD(i,i,i,n,r);const s=function Bde(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new X$(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new X$(n,e,r)}(e);if(s.toRoot())return YD(i,i,new Se([],{}),n,r);const o=function jde(t,e,n){if(t.isAbsolute)return new vm(e,!0,0);if(!n)return new vm(e,!1,NaN);if(null===n.parent)return new vm(n,!0,0);const r=_m(t.commands[0])?0:1;return function $de(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new vm(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?xd(o.segmentGroup,o.index,s.commands):J$(o.segmentGroup,o.index,s.commands);return YD(i,o.segmentGroup,a,n,r)}function _m(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Md(t){return"object"==typeof t&&null!=t&&t.outlets}function YD(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:Y$(t,e,n);const a=q$(W$(o));return new Lu(a,s,i)}function Y$(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:Y$(s,e,n)}),new Se(t.segments,r)}class X${constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&_m(r[0]))throw new S(4003,!1);const i=r.find(Md);if(i&&i!==L$(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vm{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function J$(t,e,n){if(t||(t=new Se([],{})),0===t.segments.length&&t.hasChildren())return xd(t,e,n);const r=function Gde(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Md(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!eH(u,c,o))return s;r+=2}else{if(!eH(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Se(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new Se(t.segments.slice(r.pathIndex),t.children),xd(s,0,i)}return r.match&&0===i.length?new Se(t.segments,{}):r.match&&!t.hasChildren()?XD(t,e,n):r.match?xd(t,0,i):XD(t,e,n)}function xd(t,e,n){if(0===n.length)return new Se(t.segments,{});{const r=function Hde(t){return Md(t[0])?t[0].outlets:{[re]:t}}(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&1===t.numberOfChildren&&0===t.children[re].segments.length){const s=xd(t.children[re],e,n);return new Se(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=J$(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Se(t.segments,i)}}function XD(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Md(s)){const u=zde(s.outlets);return new Se(r,u)}if(0===i&&_m(n[0])){r.push(new Td(t.segments[e].path,Z$(n[0]))),i++;continue}const o=Md(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&_m(a)?(r.push(new Td(o,Z$(a))),i+=2):(r.push(new Td(o,{})),i++)}return new Se(r,{})}function zde(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=XD(new Se([],{}),0,r))}),e}function Z$(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function eH(t,e,n){return t==n.path&&Zr(e,n.parameters)}const Rd="imperative";class ei{constructor(e,n){this.id=e,this.url=n}}class wm extends ei{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cs extends ei{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nd extends ei{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vu extends ei{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Im extends ei{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tH extends ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qde extends ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wde extends ei{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kde extends ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qde extends ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yde{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xde{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jde{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zde{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ehe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class the{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nH{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class JD{}class ZD{constructor(e){this.url=e}}class nhe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new kd,this.attachRef=null}}let kd=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new nhe,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class rH{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=eb(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=eb(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=tb(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tb(e,this._root).map(n=>n.value)}}function eb(t,e){if(t===e.value)return e;for(const n of e.children){const r=eb(t,n);if(r)return r}return null}function tb(t,e){if(t===e.value)return[e];for(const n of e.children){const r=tb(t,n);if(r.length)return r.unshift(e),r}return[]}class Oi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Uu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class iH extends rH{constructor(e,n){super(e),this.snapshot=n,nb(this,e)}toString(){return this.snapshot.toString()}}function sH(t,e){const n=function rhe(t,e){const o=new Em([],{},{},"",{},re,e,null,{});return new aH("",new Oi(o,[]))}(0,e),r=new Yn([new Td("",{})]),i=new Yn({}),s=new Yn({}),o=new Yn({}),a=new Yn(""),u=new ko(r,i,o,a,s,re,e,n.root);return u.snapshot=n.root,new iH(new Oi(u,[]),n)}class ko{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(c=>c[bd]))??H(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>Fu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>Fu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oH(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function ihe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Em{get title(){return this.data?.[bd]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class aH extends rH{constructor(e,n){super(n),this.url=e,nb(this,n)}toString(){return uH(this._root)}}function nb(t,e){e.value._routerState=t,e.children.forEach(n=>nb(t,n))}function uH(t){const e=t.children.length>0?` { ${t.children.map(uH).join(", ")} } `:"";return`${t.value}${e}`}function rb(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Zr(e.params,n.params)||t.paramsSubject.next(n.params),function wde(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Zr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Zr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ib(t,e){const n=Zr(t.params,e.params)&&function Dde(t,e){return Ro(t,e)&&t.every((n,r)=>Zr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||ib(t.parent,e.parent))}let sb=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Me,this.deactivateEvents=new Me,this.attachEvents=new Me,this.detachEvents=new Me,this.parentContexts=F(kd),this.location=F(yr),this.changeDetector=F(Pf),this.environmentInjector=F(Bn),this.inputBinder=F(Cm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new she(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=W({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[er]}),e})();class she{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ko?this.route:e===kd?this.childContexts:this.parent.get(e,n)}}const Cm=new O("");let cH=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=HD([i.queryParams,i.params,i.data]).pipe(cr(([o,a,u],c)=>(u={...o,...a,...u},0===c?H(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function FK(t){const e=le(t);if(!e)return null;const n=new Ac(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();function Pd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function ahe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Pd(t,r,i);return Pd(t,r)})}(t,e,n);return new Oi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Pd(t,a)),o}}const r=function uhe(t){return new ko(new Yn(t.url),new Yn(t.params),new Yn(t.queryParams),new Yn(t.fragment),new Yn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Pd(t,s));return new Oi(r,i)}}const ob="ngNavigationCancelingError";function lH(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=No(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=dH(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function dH(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[ob]=!0,r.cancellationCode=e,n&&(r.url=n),r}function hH(t){return t&&t[ob]}let fH=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mr({type:t,selectors:[["ng-component"]],standalone:!0,features:[bx],decls:1,vars:0,template:function(r,i){1&r&&Xe(0,"router-outlet")},dependencies:[sb],encapsulation:2}),e})();function ab(t){const e=t.children&&t.children.map(ab),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=fH),n}function br(t){return t.outlet||re}function Od(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class mhe{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),rb(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Uu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Uu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Uu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Uu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new the(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Zde(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(rb(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),rb(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Od(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class pH{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Dm{constructor(e,n){this.component=e,this.route=n}}function yhe(t,e,n){const r=t._root;return Fd(r,e?e._root:null,n,[r.value])}function Bu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function JG(t){return null!==th(t)}(t)?e.get(t):t:r}function Fd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Uu(e);return t.children.forEach(o=>{(function vhe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function whe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ro(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ro(t.url,e.url)||!Zr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ib(t,e)||!Zr(t.queryParams,e.queryParams);default:return!ib(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new pH(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Fd(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Dm(a.outlet.component,o))}else o&&Ld(e,a,i),i.canActivateChecks.push(new pH(r)),Fd(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ld(a,n.getContext(o),i)),i}function Ld(t,e,n){const r=Uu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Ld(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Dm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Vd(t){return"function"==typeof t}function gH(t){return t instanceof hm||"EmptyError"===t?.name}const bm=Symbol("INITIAL_VALUE");function ju(){return cr(t=>HD(t.map(e=>e.pipe(Ou(1),function dde(...t){const e=Wu(t);return _t((n,r)=>{(e?GD(t,n,e):GD(t,n)).subscribe(r)})}(bm)))).pipe(se(e=>{for(const n of e)if(!0!==n){if(n===bm)return bm;if(!1===n||n instanceof Lu)return n}return!0}),_i(e=>e!==bm),Ou(1)))}function mH(t){return function tG(...t){return Ub(t)}(jt(e=>{if(No(e))throw lH(0,e)}),se(e=>!0===e))}class Tm{constructor(e){this.segmentGroup=e||null}}class yH{constructor(e){this.urlTree=e}}function $u(t){return Dd(new Tm(t))}function _H(t){return Dd(new yH(t))}class Bhe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new S(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return H(r);if(i.numberOfChildren>1||!i.children[re])return Dd(new S(4e3,!1));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Lu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Se(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const ub={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jhe(t,e,n,r,i){const s=cb(t,e,n);return s.matched?(r=function lhe(t,e){return t.providers&&!t._injector&&(t._injector=mv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Lhe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?H(i.map(o=>{const a=Bu(o,t);return Es(function The(t){return t&&Vd(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ju(),mH()):H(!0)}(r,e,n).pipe(se(o=>!0===o?s:{...ub}))):H(s)}function cb(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...ub}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||vde)(n,t,e);if(!i)return{...ub};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function vH(t,e,n,r){return n.length>0&&function Ghe(t,e,n){return n.some(r=>Sm(t,e,r)&&br(r)!==re)}(t,n,r)?{segmentGroup:new Se(e,Hhe(r,new Se(n,t.children))),slicedSegments:[]}:0===n.length&&function zhe(t,e,n){return n.some(r=>Sm(t,e,r))}(t,n,r)?{segmentGroup:new Se(t.segments,$he(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Se(t.segments,t.children),slicedSegments:n}}function $he(t,e,n,r,i){const s={};for(const o of r)if(Sm(t,n,o)&&!i[br(o)]){const a=new Se([],{});s[br(o)]=a}return{...i,...s}}function Hhe(t,e){const n={};n[re]=e;for(const r of t)if(""===r.path&&br(r)!==re){const i=new Se([],{});n[br(r)]=i}return n}function Sm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Qhe{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Bhe(this.urlSerializer,this.urlTree)}noMatchError(e){return new S(4002,!1)}recognize(){const e=vH(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,re).pipe(xo(n=>{if(n instanceof yH)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Tm?this.noMatchError(n):n}),se(n=>{const r=new Em([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),i=new Oi(r,n),s=new aH("",i),o=function Ude(t,e,n=null,r=null){return Q$(K$(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,re).pipe(xo(r=>{throw r instanceof Tm?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=oH(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return vt(i).pipe(Ua(s=>{const o=r.children[s],a=function phe(t,e){const n=t.filter(r=>br(r)===e);return n.push(...t.filter(r=>br(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function pde(t,e){return _t(function fde(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ft(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),fm(null),function gde(t,e){const n=arguments.length>=2;return r=>r.pipe(t?_i((i,s)=>t(i,s,r)):Li,qD(1),n?fm(e):O$(()=>new hm))}(),kt(s=>{if(null===s)return $u(r);const o=wH(s);return function Yhe(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(o),H(o)}))}processSegment(e,n,r,i,s,o){return vt(n).pipe(Ua(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(xo(u=>{if(u instanceof Tm)return H(null);throw u}))),Mo(a=>!!a),xo(a=>{if(gH(a))return function Whe(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?H([]):$u(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function qhe(t,e,n,r){return!!(br(t)===r||r!==re&&Sm(e,n,t))&&("**"===t.path||cb(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):$u(i):$u(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_H(s):this.applyRedirects.lineralizeSegments(r,s).pipe(kt(o=>{const a=new Se(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=cb(n,i,s);if(!a)return $u(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?_H(d):this.applyRedirects.lineralizeSegments(i,d).pipe(kt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?L$(i).parameters:{};a=H({snapshot:new Em(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IH(r),br(r),r.component??r._loadedComponent??null,r,EH(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=jhe(n,r,i,e).pipe(se(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Em(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IH(r),br(r),r.component??r._loadedComponent??null,r,EH(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(cr(u=>null===u?$u(n):this.getChildConfig(e=r._injector??e,r,i).pipe(cr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=vH(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(se(y=>null===y?null:[new Oi(d,y)]));if(0===c.length&&0===g.length)return H([new Oi(d,[])]);const m=br(r)===s;return this.processSegment(l,c,p,g,m?re:s,!0).pipe(se(y=>[new Oi(d,y)]))}))))}getChildConfig(e,n,r){return n.children?H({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?H({routes:n._loadedRoutes,injector:n._loadedInjector}):function Fhe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?H(!0):H(i.map(o=>{const a=Bu(o,t);return Es(function Ehe(t){return t&&Vd(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ju(),mH())}(e,n,r).pipe(kt(i=>i?this.configLoader.loadChildren(e,n).pipe(jt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Uhe(t){return Dd(dH(!1,3))}())):H({routes:[],injector:e})}}function Xhe(t){const e=t.value.routeConfig;return e&&""===e.path}function wH(t){const e=[],n=new Set;for(const r of t){if(!Xhe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=wH(r.children);e.push(new Oi(r.value,i))}return e.filter(r=>!n.has(r))}function IH(t){return t.data||{}}function EH(t){return t.resolve||{}}function CH(t){return"string"==typeof t.title||null===t.title}function lb(t){return cr(e=>{const n=t(e);return n?vt(n).pipe(se(()=>e)):H(e)})}const Hu=new O("ROUTES");let db=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(_1)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Es(r.loadComponent()).pipe(se(DH),jt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Xc(()=>{this.componentLoaders.delete(r)})),s=new P$(i,()=>new ur).pipe(zD());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return H({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(se(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,l;return Array.isArray(u)?l=u:(c=u.create(r).injector,l=c.get(Hu,[],ie.Self|ie.Optional).flat()),{routes:l.map(ab),injector:c}}),Xc(()=>{this.childrenLoaders.delete(i)})),a=new P$(o,()=>new ur).pipe(zD());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(r){return Es(r()).pipe(se(DH),kt(i=>i instanceof Cx||Array.isArray(i)?H(i):vt(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function DH(t){return function ife(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Am=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ur,this.transitionAbortSubject=new ur,this.configLoader=F(db),this.environmentInjector=F(Bn),this.urlSerializer=F(Sd),this.rootContexts=F(kd),this.inputBindingEnabled=null!==F(Cm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Xde(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Yde(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new Yn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rd,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_i(o=>0!==o.id),se(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),cr(o=>{this.currentTransition=o;let a=!1,u=!1;return H(o).pipe(jt(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),cr(c=>{const l=c.currentBrowserUrl.toString(),d=!r.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const f="";return this.events.next(new Vu(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Sr}if(r.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return H(c).pipe(cr(f=>{const p=this.transitions?.getValue();return this.events.next(new wm(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?Sr:Promise.resolve(f)}),function Jhe(t,e,n,r,i,s){return kt(o=>function Khe(t,e,n,r,i,s,o="emptyOnly"){return new Qhe(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(se(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),jt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const p=new tH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:p,source:g,restoredState:m,extras:y}=c,_=new wm(f,this.urlSerializer.serialize(p),g,m);this.events.next(_);const E=sH(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:E,urlAfterRedirects:p,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},H(o)}{const f="";return this.events.next(new Vu(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Sr}}),jt(c=>{const l=new qde(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),se(c=>(this.currentTransition=o={...c,guards:yhe(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function Ahe(t,e){return kt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?H({...n,guardsResult:!0}):function Mhe(t,e,n,r){return vt(t).pipe(kt(i=>function Ohe(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?H(s.map(a=>{const u=Od(e)??i,c=Bu(a,u);return Es(function bhe(t){return t&&Vd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Mo())})).pipe(ju()):H(!0)}(i.component,i.route,n,e,r)),Mo(i=>!0!==i,!0))}(o,r,i,t).pipe(kt(a=>a&&function Ihe(t){return"boolean"==typeof t}(a)?function xhe(t,e,n,r){return vt(e).pipe(Ua(i=>GD(function Nhe(t,e){return null!==t&&e&&e(new Jde(t)),H(!0)}(i.route.parent,r),function Rhe(t,e){return null!==t&&e&&e(new ehe(t)),H(!0)}(i.route,r),function Phe(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function _he(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>k$(()=>H(o.guards.map(u=>{const c=Od(o.node)??n,l=Bu(u,c);return Es(function Dhe(t){return t&&Vd(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Mo())})).pipe(ju())));return H(s).pipe(ju())}(t,i.path,n),function khe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return H(!0);const i=r.map(s=>k$(()=>{const o=Od(e)??n,a=Bu(s,o);return Es(function Che(t){return t&&Vd(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Mo())}));return H(i).pipe(ju())}(t,i.route,n))),Mo(i=>!0!==i,!0))}(r,s,t,e):H(a)),se(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),jt(c=>{if(o.guardsResult=c.guardsResult,No(c.guardsResult))throw lH(0,c.guardsResult);const l=new Wde(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),_i(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),lb(c=>{if(c.guards.canActivateChecks.length)return H(c).pipe(jt(l=>{const d=new Kde(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),cr(l=>{let d=!1;return H(l).pipe(function Zhe(t,e){return kt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return H(n);let s=0;return vt(i).pipe(Ua(o=>function efe(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!CH(i)&&(s[bd]=i.title),function tfe(t,e,n,r){const i=function nfe(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return H({});const s={};return vt(i).pipe(kt(o=>function rfe(t,e,n,r){const i=Od(e)??r,s=Bu(t,i);return Es(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Mo(),jt(a=>{s[o]=a}))),qD(1),function mde(t){return se(()=>t)}(s),xo(o=>gH(o)?Sr:Dd(o)))}(s,t,e,r).pipe(se(o=>(t._resolvedData=o,t.data=oH(t,n).resolve,i&&CH(i)&&(t.data[bd]=i.title),null)))}(o.route,r,t,e)),jt(()=>s++),qD(1),kt(o=>s===i.length?H(n):Sr))})}(r.paramsInheritanceStrategy,this.environmentInjector),jt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),jt(l=>{const d=new Qde(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),lb(c=>{const l=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(jt(f=>{d.component=f}),se(()=>{})));for(const f of d.children)h.push(...l(f));return h};return HD(l(c.targetSnapshot.root)).pipe(fm(),Ou(1))}),lb(()=>this.afterPreactivation()),se(c=>{const l=function ohe(t,e,n){const r=Pd(t,e._root,n?n._root:void 0);return new iH(r,e)}(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),jt(()=>{this.events.next(new JD)}),((t,e,n,r)=>se(i=>(new mhe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ou(1),jt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),r.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),function yde(t){return _t((e,n)=>{Pn(t).subscribe(ft(n,()=>n.complete(),Hm)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(jt(c=>{throw c}))),Xc(()=>{a||u||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),xo(c=>{if(u=!0,hH(c))this.events.next(new Nd(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function che(t){return hH(t)&&No(t.url)}(c)?this.events.next(new ZD(c.url)):o.resolve(!1);else{this.events.next(new Im(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(l){o.reject(l)}}return Sr}))}))}cancelNavigationTransition(r,i,s){const o=new Nd(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function bH(t){return t!==Rd}let TH=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[bd]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return F(sfe)},providedIn:"root"}),e})(),sfe=(()=>{var t;class e extends TH{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(UR))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),ofe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return F(ufe)},providedIn:"root"}),e})();class afe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let ufe=(()=>{var t;class e extends afe{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=function Vt(t){return ni(()=>{const e=t.prototype.constructor,n=e[ri]||By(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ri]||By(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}(),t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Mm=new O("",{providedIn:"root",factory:()=>({})});let cfe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return F(lfe)},providedIn:"root"}),e})(),lfe=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Ud=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ud||{});function SH(t,e){t.events.pipe(_i(n=>n instanceof Cs||n instanceof Nd||n instanceof Im||n instanceof Vu),se(n=>n instanceof Cs||n instanceof Vu?Ud.COMPLETE:n instanceof Nd&&(0===n.code||1===n.code)?Ud.REDIRECTING:Ud.FAILED),_i(n=>n!==Ud.REDIRECTING),Ou(1)).subscribe(()=>{e()})}function dfe(t){throw t}function hfe(t,e,n){return e.parse("/")}const ffe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pfe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ar=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=F(y1),this.isNgZoneEnabled=!1,this._events=new ur,this.options=F(Mm,{optional:!0})||{},this.pendingTasks=F(xf),this.errorHandler=this.options.errorHandler||dfe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hfe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=F(cfe),this.routeReuseStrategy=F(ofe),this.titleStrategy=F(TH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=F(Hu,{optional:!0})?.flat()??[],this.navigationTransitions=F(Am),this.urlSerializer=F(Sd),this.location=F(Xv),this.componentInputBindingEnabled=!!F(Cm,{optional:!0}),this.eventsSubscription=new In,this.isNgZoneEnabled=F(De)instanceof De&&De.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(AH(i)&&this._events.next(i));if(i instanceof wm)bH(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof Vu)this.rawUrlTree=s.rawUrl;else if(i instanceof tH){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof JD)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof Nd)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof ZD){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bH(s.source)};this.scheduleNavigation(o,Rd,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof Im&&this.restoreHistory(s,!0),i instanceof Cs&&(this.navigated=!0),AH(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rd,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ab),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a;let h,d=null;switch(u){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=K$(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return Q$(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=No(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Rd,null,i)}navigate(r,i={skipLocationChange:!1}){return function gfe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new S(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...ffe}:!1===i?{...pfe}:i,No(r))return U$(this.currentUrlTree,r,s);const o=this.parseUrl(r);return U$(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,f)=>{u=h,c=f});const d=this.pendingTasks.add();return SH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function AH(t){return!(t instanceof JD||t instanceof ZD)}let xm=(()=>{var t;class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new ur,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Cs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||s||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function bS(t,e,n){return function n6(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?DS:zh}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const s=this.renderer,o=this.el.nativeElement;null!==i?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(ar),T(ko),function Th(t){return function Ez(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(yT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Lt(),t)}("tabindex"),T(ci),T(jn),T(Hs))},t.\u0275dir=W({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Ut("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Xt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Fa],skipLocationChange:["skipLocationChange","skipLocationChange",Fa],replaceUrl:["replaceUrl","replaceUrl",Fa],routerLink:"routerLink"},standalone:!0,features:[VA,er]}),e})();class MH{}let _fe=(()=>{var t;class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(_i(r=>r instanceof Cs),Ua(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=mv(o.providers,r,`Route: ${o.path}`));const a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return vt(s).pipe(Vo())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):H(null);const o=s.pipe(kt(a=>null===a?H(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?vt([o,this.loader.loadComponent(i)]).pipe(Vo()):o})}}return(t=e).\u0275fac=function(r){return new(r||t)(U(ar),U(_1),U(Bn),U(MH),U(db))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const hb=new O("");let xH=(()=>{var t;class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof wm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Cs?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Vu&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof nH&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nH(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function dA(){throw new Error("invalid")}()},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();function Fi(t,e){return{\u0275kind:t,\u0275providers:e}}function NH(){const t=F(hn);return e=>{const n=t.get(Oa);if(e!==n.components[0])return;const r=t.get(ar),i=t.get(kH);1===t.get(fb)&&r.initialNavigation(),t.get(PH,null,ie.Optional)?.setUpPreloading(),t.get(hb,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const kH=new O("",{factory:()=>new ur}),fb=new O("",{providedIn:"root",factory:()=>1}),PH=new O("");function Efe(t){return Fi(0,[{provide:PH,useExisting:_fe},{provide:MH,useExisting:t}])}const OH=new O("ROUTER_FORROOT_GUARD"),Dfe=[Xv,{provide:Sd,useClass:WD},ar,kd,{provide:ko,useFactory:function RH(t){return t.routerState.root},deps:[ar]},db,[]];function bfe(){return new b1("Router",ar)}let FH=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Dfe,[],{provide:Hu,multi:!0,useValue:r},{provide:OH,useFactory:Mfe,deps:[[ar,new Tn,new Mh]]},{provide:Mm,useValue:i||{}},i?.useHash?{provide:Hs,useClass:jK}:{provide:Hs,useClass:tR},{provide:hb,useFactory:()=>{const t=F(iY),e=F(De),n=F(Mm),r=F(Am),i=F(Sd);return n.scrollOffset&&t.setOffset(n.scrollOffset),new xH(i,r,t,e,n)}},i?.preloadingStrategy?Efe(i.preloadingStrategy).\u0275providers:[],{provide:b1,multi:!0,useFactory:bfe},i?.initialNavigation?xfe(i):[],i?.bindToComponentInputs?Fi(8,[cH,{provide:Cm,useExisting:cH}]).\u0275providers:[],[{provide:LH,useFactory:NH},{provide:jv,multi:!0,useExisting:LH}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Hu,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(U(OH,8))},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({}),e})();function Mfe(t){return"guarded"}function xfe(t){return["disabled"===t.initialNavigation?Fi(3,[{provide:kv,multi:!0,useFactory:()=>{const e=F(ar);return()=>{e.setUpLocationChangeListener()}}},{provide:fb,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Fi(2,[{provide:fb,useValue:0},{provide:kv,multi:!0,deps:[hn],useFactory:e=>{const n=e.get(UK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(ar),s=e.get(kH);SH(i,()=>{r(!0)}),e.get(Am).afterPreactivation=()=>(r(!0),s.closed?H(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const LH=new O("");let Nfe=(()=>{var t;class e{constructor(){this.title="watchlist-app"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mr({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&(ae(0,"body"),Xe(1,"router-outlet"),pe())},dependencies:[sb]}),e})();const dt=new Map;dt.set(28,"Action"),dt.set(12,"Adventure"),dt.set(16,"Animation"),dt.set(35,"Comedy"),dt.set(80,"Crime"),dt.set(99,"Documentary"),dt.set(18,"Drama"),dt.set(10751,"Family"),dt.set(14,"Fantasy"),dt.set(36,"History"),dt.set(27,"Horror"),dt.set(10402,"Music"),dt.set(9648,"Mystery"),dt.set(10749,"Romance"),dt.set(878,"Science Fiction"),dt.set(10770,"TV Movie"),dt.set(53,"Thriller"),dt.set(10752," War"),dt.set(37,"Western");const VH=[28,12,16,35,80,99,18,10751,14,36,27,10402,9648,10749,878,10770,53,10752,37];let UH=(()=>{var t;class e{constructor(r){this.http=r,this.singleMovies=new Map,this.url="assets/data/movies.json"}getAllMovies(){if(void 0!==this.movies)return this.movies;const r=this.http.get(this.url,{responseType:"json"});return this.movies=r.pipe(se(i=>i.results.map(s=>this.mapToMovie(s)))),this.movies}mapToMovie(r){return{id:r.id,title:r.title,overview:r.overview,imagePath:`https://image.tmdb.org/t/p/w220_and_h330_face${r.poster_path}`,releaseDate:r.release_date,genreIds:r.genre_ids}}getMovieById(r){if(this.singleMovies.has(r))return this.singleMovies.get(r);const i=this.getAllMovies().pipe(se(s=>s.filter(a=>a.id===r)[0]));return this.singleMovies.set(r,i),i}getMoviesByGenre(r){let i;return i=this.getAllMovies().pipe(se(s=>s.filter(o=>o.genreIds.includes(r)))),i}}return(t=e).\u0275fac=function(r){return new(r||t)(U(KR))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Pfe=(()=>{var t;class e{constructor(r){this.firestore=r,this.reviewCollection=Jle(this.firestore,"reviews")}getAllReviews(){const r=A$(this.reviewCollection);return this.allReviews=S$(r).pipe(se(i=>i.map(s=>this.mapToReview(s)))),this.allReviews}getReviewsForMovie(r){const i=A$(this.reviewCollection,ede("movieId","==",r));return S$(i).pipe(se(o=>o.map(a=>this.mapToReview(a))))}mapToReview(r){return{content:r.content,rating:r.rating,movieId:r.movieId,date:r.date}}addReview(r){var i=this;return v(function*(){console.log(`Adding review from: ${r}`);const s=yield Xle(i.reviewCollection,r);return console.log(s),s})()}}return(t=e).\u0275fac=function(r){return new(r||t)(U(dm))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Bd(t){return Bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function L(t,e,n){return(e=function Ffe(t){var e=function Ofe(t,e){if("object"!==Bd(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Bd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Bd(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Tr=new O("NgValueAccessor");function Fpe(t,e){if(1&t&&(ae(0,"div",4),Jt(1),pe()),2&t){const n=Oe();ee(1),mr(n.labelText)}}function Lpe(t,e){1&t&&Xe(0,"i"),2&t&&hi("star-empty ",Oe(2).classEmpty,"")}function Vpe(t,e){1&t&&Xe(0,"i"),2&t&&hi("star-half ",Oe(2).classHalf,"")}function Upe(t,e){1&t&&Xe(0,"i"),2&t&&hi("star-filled ",Oe(2).classFilled,"")}function Bpe(t,e){if(1&t&&(ks(),ae(0,"svg",10),Xe(1,"use",11),pe()),2&t){const n=Oe(2);ee(1),Xt("href",n.pathEmpty,null,"xlink")}}function jpe(t,e){if(1&t&&(ks(),ae(0,"svg",12),Xe(1,"use",11),pe()),2&t){const n=Oe(2);ee(1),Xt("href",n.pathHalf,null,"xlink")}}function $pe(t,e){if(1&t&&(ks(),ae(0,"svg",13),Xe(1,"use",11),pe()),2&t){const n=Oe(2);ee(1),Xt("href",n.pathFilled,null,"xlink")}}function Hpe(t,e){if(1&t){const n=_f();ae(0,"div",5),Ut("mouseenter",function(){const s=Qo(n).$implicit;return Yo(Oe().onStarHover(s))})("click",function(){const s=Qo(n).$implicit;return Yo(Oe().onStarClicked(s))}),Pe(1,Lpe,1,3,"i",6),Pe(2,Vpe,1,3,"i",6),Pe(3,Upe,1,3,"i",6),Pe(4,Bpe,2,1,"svg",7),Pe(5,jpe,2,1,"svg",8),Pe(6,$pe,2,1,"svg",9),pe()}if(2&t){const n=Oe();ee(1),Ee("ngIf",!n.svgVisible()),ee(1),Ee("ngIf",!n.svgVisible()),ee(1),Ee("ngIf",!n.svgVisible()),ee(1),Ee("ngIf",n.svgVisible()),ee(1),Ee("ngIf",n.svgVisible()),ee(1),Ee("ngIf",n.svgVisible())}}function Gpe(t,e){if(1&t&&(ae(0,"div",4),Jt(1),pe()),2&t){const n=Oe();ee(1),mr(n.labelText)}}function zpe(t,e){1&t&&Xe(0,"i"),2&t&&hi("star-empty ",Oe(2).classEmpty,"")}function qpe(t,e){1&t&&Xe(0,"i"),2&t&&hi("star-half ",Oe(2).classHalf,"")}function Wpe(t,e){1&t&&Xe(0,"i"),2&t&&hi("star-filled ",Oe(2).classFilled,"")}function Kpe(t,e){if(1&t&&(ks(),ae(0,"svg",10),Xe(1,"use",11),pe()),2&t){const n=Oe(2);ee(1),Xt("href",n.pathEmpty,null,"xlink")}}function Qpe(t,e){if(1&t&&(ks(),ae(0,"svg",12),Xe(1,"use",11),pe()),2&t){const n=Oe(2);ee(1),Xt("href",n.pathHalf,null,"xlink")}}function Ype(t,e){if(1&t&&(ks(),ae(0,"svg",13),Xe(1,"use",11),pe()),2&t){const n=Oe(2);ee(1),Xt("href",n.pathFilled,null,"xlink")}}function Xpe(t,e){if(1&t){const n=_f();ae(0,"div",5),Ut("mouseenter",function(){const s=Qo(n).$implicit;return Yo(Oe().onStarHover(s))})("click",function(){const s=Qo(n).$implicit;return Yo(Oe().onStarClicked(s))}),Pe(1,zpe,1,3,"i",6),Pe(2,qpe,1,3,"i",6),Pe(3,Wpe,1,3,"i",6),Pe(4,Kpe,2,1,"svg",7),Pe(5,Qpe,2,1,"svg",8),Pe(6,Ype,2,1,"svg",9),pe()}if(2&t){const n=Oe();ee(1),Ee("ngIf",!n.svgVisible()),ee(1),Ee("ngIf",!n.svgVisible()),ee(1),Ee("ngIf",!n.svgVisible()),ee(1),Ee("ngIf",n.svgVisible()),ee(1),Ee("ngIf",n.svgVisible()),ee(1),Ee("ngIf",n.svgVisible())}}class Fo{static getStarsArray(e){const n=[];for(let r=0;r<e;r++)n.push(r+1);return n}static getHalfStarVisible(e){return Math.abs(e%1)>0}static getColor(e,n,r){if(r)return r;const i=n/3;let s="default";return(e=e||0)>0&&(s="negative"),e>i&&(s="ok"),e>2*i&&(s="positive"),s}static isDigitKeyEventCode(e){return 0===e.indexOf("Digit")}}class Bm{constructor(){L(this,"_classEmpty","default-star-empty-icon"),L(this,"_classHalf","default-star-half-icon"),L(this,"_classFilled","default-star-filled-icon"),L(this,"_numOfStars",5),L(this,"_size","medium"),L(this,"_staticColor",void 0),L(this,"_labelPosition","left"),L(this,"_speed","noticeable"),L(this,"_starType","svg"),L(this,"_assetsPath","assets/images/"),L(this,"_svgPath",this.assetsPath+"star-rating.icons.svg"),L(this,"_svgEmptySymbolId","star-empty"),L(this,"_svgHalfSymbolId","star-half"),L(this,"_svgFilledSymbolId","star-filled"),L(this,"_svgPathEmpty",this.svgPath+"#"+this.svgEmptySymbolId),L(this,"_svgPathHalf",this.svgPath+"#"+this.svgHalfSymbolId),L(this,"_svgPathFilled",this.svgPath+"#"+this.svgFilledSymbolId)}get classEmpty(){return this._classEmpty}set classEmpty(e){this._classEmpty=e}get classHalf(){return this._classHalf}set classHalf(e){this._classHalf=e}get classFilled(){return this._classFilled}set classFilled(e){this._classFilled=e}get numOfStars(){return this._numOfStars}set numOfStars(e){this._numOfStars=e}get size(){return this._size}set size(e){this._size=e}get staticColor(){return this._staticColor}set staticColor(e){this._staticColor=e}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e}get speed(){return this._speed}set speed(e){this._speed=e}get starType(){return this._starType}set starType(e){this._starType=e}get assetsPath(){return this._assetsPath}set assetsPath(e){this._assetsPath=e}get svgPath(){return this._svgPath}set svgPath(e){this._svgPath=e}get svgEmptySymbolId(){return this._svgEmptySymbolId}set svgEmptySymbolId(e){this._svgEmptySymbolId=e}get svgHalfSymbolId(){return this._svgHalfSymbolId}set svgHalfSymbolId(e){this._svgHalfSymbolId=e}get svgFilledSymbolId(){return this._svgFilledSymbolId}set svgFilledSymbolId(e){this._svgFilledSymbolId=e}get svgPathEmpty(){return this._svgPathEmpty}set svgPathEmpty(e){this._svgPathEmpty=e}get svgPathHalf(){return this._svgPathHalf}set svgPathHalf(e){this._svgPathHalf=e}get svgPathFilled(){return this._svgPathFilled}set svgPathFilled(e){this._svgPathFilled=e}getColor(e,n,r){if(r)return r;const i=n/3;let s="default";return(e=e||0)>0&&(s="negative"),e>i&&(s="ok"),e>2*i&&(s="positive"),s}getHalfStarVisible(e){return Math.abs(e%1)>0}}let H4=(()=>{var t;class e{get showHalfStars(){return this._showHalfStars}set showHalfStars(r){this._showHalfStars=!!r,this.setHalfStarVisible()}get id(){return this._id}set id(r){this._id=r||""}get focus(){return this._focus}set focus(r){this._focus=!!r}get labelText(){return this._labelText}set labelText(r){this._labelText=r}get labelPosition(){return this._labelPosition}set labelPosition(r){this._labelPosition=r||this.config.labelPosition}get labelVisible(){return this._labelVisible}set labelVisible(r){this._labelVisible=!!r}get hoverEnabled(){return this._hoverEnabled}set hoverEnabled(r){this._hoverEnabled=void 0!==r&&!!r}get staticColor(){return this._staticColor||this.config.staticColor||void 0}set staticColor(r){this._staticColor=r,this.setColor()}get direction(){return this._direction}set direction(r){this._direction=r||void 0}get numOfStars(){return this._numOfStars}set numOfStars(r){this._numOfStars=r>0?r:this.config.numOfStars,this.stars=Fo.getStarsArray(this.numOfStars),this.setColor()}get hoverRating(){return this._hoverRating}set hoverRating(r){this._hoverRating=r>0?r:0}get speed(){return this._speed}set speed(r){this._speed=r||this.config.speed}get size(){return this._size||this.config.size}set size(r){this._size=r}get starType(){return this._starType||this.config.starType}set starType(r){this._starType=r}get space(){return this._space}set space(r){this._space=r}get readOnly(){return this._readOnly}set readOnly(r){this._readOnly=!!r}get disabled(){return this._disabled}set disabled(r){this._disabled=!!r}get step(){return this._step}set step(r){this._step=r>0?r:1}get rating(){return this._rating}set rating(r){this.setRating(r)}setRating(r){let i=0;r>=0&&r<=this.numOfStars&&(i=r),r>this.numOfStars&&(i=this.numOfStars),this._rating=i,this.ratingAsInteger=parseInt(this._rating?.toString(),10),this.setHalfStarVisible(),this.setColor()}constructor(r){L(this,"config",void 0),L(this,"classEmpty",void 0),L(this,"classHalf",void 0),L(this,"classFilled",void 0),L(this,"pathEmpty",void 0),L(this,"pathHalf",void 0),L(this,"pathFilled",void 0),L(this,"color",void 0),L(this,"stars",void 0),L(this,"ratingAsInteger",void 0),L(this,"halfStarVisible",void 0),L(this,"_showHalfStars",void 0),L(this,"getColor",void 0),L(this,"getHalfStarVisible",void 0),L(this,"_id",void 0),L(this,"_focus",void 0),L(this,"_labelText",void 0),L(this,"_labelPosition",void 0),L(this,"_labelVisible",void 0),L(this,"_hoverEnabled",void 0),L(this,"_staticColor",void 0),L(this,"_direction",void 0),L(this,"_numOfStars",void 0),L(this,"_hoverRating",void 0),L(this,"_speed",void 0),L(this,"_size",void 0),L(this,"_starType",void 0),L(this,"_space",void 0),L(this,"_readOnly",void 0),L(this,"_disabled",void 0),L(this,"_step",void 0),L(this,"_rating",void 0),this.config=r,this.classEmpty=this.config.classEmpty,this.classHalf=this.config.classHalf,this.classFilled=this.config.classFilled,this.pathEmpty=this.config.svgPathEmpty,this.pathHalf=this.config.svgPathHalf,this.pathFilled=this.config.svgPathFilled,"getColor"in this.config&&"function"==typeof this.config.getColor&&(this.getColor=this.config.getColor),"getHalfStarVisible"in this.config&&"function"==typeof this.config.getHalfStarVisible&&(this.getHalfStarVisible=this.config.getHalfStarVisible),this.numOfStars=this.config.numOfStars,this.rating=0,this.step=1}svgVisible(){return"svg"===this.starType}interactionPossible(){return!this.readOnly&&!this.disabled}setColor(r=!1){const i=r?this.hoverRating:this.rating;this.color="function"==typeof this.getColor?this.getColor(i,this.numOfStars,this.staticColor):Fo.getColor(i,this.numOfStars,this.staticColor)}setHalfStarVisible(){this.halfStarVisible=!!this.showHalfStars&&("function"==typeof this.getHalfStarVisible?this.getHalfStarVisible(this.rating):Fo.getHalfStarVisible(this.rating))}getComponentClassNames(){const r=[];return r.push(this.rating?"value-"+this.ratingAsInteger:"value-0"),r.push(this.halfStarVisible?"half":""),r.push(this.hoverEnabled?"hover":""),r.push(this.hoverEnabled?this.hoverRating?"hover-"+this.hoverRating:"hover-0":""),r.push(this.space?"space-"+this.space:""),r.push(this.labelPosition?"label-"+this.labelPosition:""),r.push(this.color?"color-"+this.color:""),r.push(this.starType?"star-"+this.starType:""),r.push(this.speed),r.push(this.size),r.push(this.readOnly?"read-only":""),r.push(this.disabled?"disabled":""),r.push(this.direction?"direction-"+this.direction:""),r.join(" ")}increment(){const r=Math.abs(this.rating%this.step);this.rating=this.rating+(r>0?this.step-r:this.step)}decrement(){const r=Math.abs(this.rating%this.step);this.rating=this.rating-(r>0?r:this.step)}reset(){this.rating=0}}return t=e,L(e,"\u0275fac",function(r){return new(r||t)(T(Bm))}),L(e,"\u0275cmp",Mr({type:t,selectors:[["placeholder-star-rating"]],inputs:{showHalfStars:"showHalfStars",id:"id",focus:"focus",labelText:"labelText",labelPosition:"labelPosition",labelVisible:"labelVisible",hoverEnabled:"hoverEnabled",staticColor:"staticColor",direction:"direction",numOfStars:"numOfStars",hoverRating:"hoverRating",speed:"speed",size:"size",starType:"starType",space:"space",readOnly:"readOnly",disabled:"disabled",step:"step",rating:"rating"},decls:0,vars:0,template:function(r,i){},encapsulation:2})),e})(),G4=(()=>{var t;class e extends H4{saveOnClick(r){this.starClickChange&&this.starClickChange.emit(r)}saveOnRatingChange(r){this.ratingChange&&this.ratingChange.emit(r)}saveOnHover(r){this.hoverRatingChange&&this.hoverRatingChange.emit(r)}onKeyDown(r){if(!this.interactionPossible())return;const i={Minus:()=>this.decrement(),ArrowDown:()=>this.decrement(),ArrowLeft:()=>this.decrement(),Plus:()=>this.increment(),ArrowRight:()=>this.increment(),ArrowUp:()=>this.increment(),Backspace:()=>this.reset(),Delete:()=>this.reset(),Digit0:()=>this.reset()};(i[r.code]||Fo.isDigitKeyEventCode(r.code))&&(Fo.isDigitKeyEventCode(r.code)?(o=>{const u=parseInt(o.substr(5,o.length-1),10);this.rating=u})(r.code):i[r.code](),r.preventDefault(),r.stopPropagation())}onStarHover(r){this.interactionPossible()&&this.hoverEnabled&&(this.hoverRating=r?parseInt(r.toString(),10):0,this.setColor(!0),this.saveOnHover({hoverRating:this.hoverRating}))}onStopHover(){!this.interactionPossible()||!this.hoverEnabled||(this.hoverRating=0,this.setColor())}constructor(r){super(r),L(this,"getHalfStarVisible",i=>!1),L(this,"getColor",void 0),L(this,"starClickChange",new Me),L(this,"ratingChange",new Me),L(this,"hoverRatingChange",new Me)}setRating(r){const i=this.rating;super.setRating(r),i!==this.rating&&this.saveOnRatingChange({rating:this.rating})}onStarClicked(r){this.interactionPossible()&&(this.rating=r,this.saveOnClick({rating:this.rating}))}}return t=e,L(e,"\u0275fac",function(r){return new(r||t)(T(Bm))}),L(e,"\u0275cmp",Mr({type:t,selectors:[["star-rating"]],inputs:{getHalfStarVisible:"getHalfStarVisible",getColor:"getColor"},outputs:{starClickChange:"starClickChange",ratingChange:"ratingChange",hoverRatingChange:"hoverRatingChange"},features:[_e],decls:4,vars:6,consts:[["tabindex","0",3,"id","keydown","mouseleave"],["class","label-value",4,"ngIf"],[1,"star-container"],["class","star",3,"mouseenter","click",4,"ngFor","ngForOf"],[1,"label-value"],[1,"star",3,"mouseenter","click"],[3,"class",4,"ngIf"],["class","star-empty",4,"ngIf"],["class","star-half",4,"ngIf"],["class","star-filled",4,"ngIf"],[1,"star-empty"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink"],[1,"star-half"],[1,"star-filled"]],template:function(r,i){1&r&&(ae(0,"div",0),Ut("keydown",function(o){return i.onKeyDown(o)})("mouseleave",function(){return i.onStopHover()}),Pe(1,Fpe,2,1,"div",1),ae(2,"div",2),Pe(3,Hpe,7,6,"div",3),pe()()),2&r&&(hi("rating ",i.getComponentClassNames(),""),Ma("id",i.id),ee(1),Ee("ngIf",i.labelText),ee(2),Ee("ngForOf",i.stars))},dependencies:[Va,Kc],encapsulation:2})),e})();const Jpe={provide:Tr,useExisting:xe(()=>z4),multi:!0};let z4=(()=>{var t;class e extends H4{saveOnClick(r){this.starClickChange&&this.starClickChange.emit(r)}saveOnRatingChange(r){this.ratingChange&&this.ratingChange.emit(r)}saveOnHover(r){this.hoverRatingChange&&this.hoverRatingChange.emit(r)}saveOnTouch(){this.onTouchRegistered&&this.onTouch()}saveOnModelChange(r){this.onModelChangeRegistered&&this.onModelChange(r)}onKeyDown(r){if(!this.interactionPossible())return;const i={Minus:()=>this.decrement(),ArrowDown:()=>this.decrement(),ArrowLeft:()=>this.decrement(),Plus:()=>this.increment(),ArrowRight:()=>this.increment(),ArrowUp:()=>this.increment(),Backspace:()=>this.reset(),Delete:()=>this.reset(),Digit0:()=>this.reset()};(i[r.code]||Fo.isDigitKeyEventCode(r.code))&&(Fo.isDigitKeyEventCode(r.code)?(o=>{const u=parseInt(o.substr(5,o.length-1),10);this.rating=u})(r.code):i[r.code](),r.preventDefault(),r.stopPropagation()),this.saveOnTouch()}onBlur(r){this.focus=!1,r.preventDefault(),r.stopPropagation(),this.saveOnTouch()}onFocus(r){this.focus=!0,r.preventDefault(),r.stopPropagation(),this.saveOnTouch()}onStarHover(r){this.interactionPossible()&&this.hoverEnabled&&(this.hoverRating=r?parseInt(r.toString(),10):0,this.saveOnHover({hoverRating:this.hoverRating}))}writeValue(r){this.rating=r}registerOnChange(r){this.onModelChange=r,this.onModelChangeRegistered=!0}registerOnTouched(r){this.onTouch=r,this.onTouchRegistered=!0}constructor(r){super(r),L(this,"starClickChange",new Me),L(this,"ratingChange",new Me),L(this,"hoverRatingChange",new Me),L(this,"onTouch",void 0),L(this,"onModelChange",void 0),L(this,"onModelChangeRegistered",!1),L(this,"onTouchRegistered",!1)}setRating(r){const i=this.rating;super.setRating(r),i!==this.rating&&(this.saveOnRatingChange({rating:this.rating}),this.saveOnModelChange(this.rating))}onStarClicked(r){this.interactionPossible()&&(this.rating=r,this.saveOnClick({rating:this.rating}))}}return t=e,L(e,"\u0275fac",function(r){return new(r||t)(T(Bm))}),L(e,"\u0275cmp",Mr({type:t,selectors:[["star-rating-control"]],outputs:{starClickChange:"starClickChange",ratingChange:"ratingChange",hoverRatingChange:"hoverRatingChange"},features:[Ue([Jpe]),_e],decls:4,vars:6,consts:[["tabindex","0",3,"id","keydown","blur","focus","mouseleave"],["class","label-value",4,"ngIf"],[1,"star-container"],["class","star",3,"mouseenter","click",4,"ngFor","ngForOf"],[1,"label-value"],[1,"star",3,"mouseenter","click"],[3,"class",4,"ngIf"],["class","star-empty",4,"ngIf"],["class","star-half",4,"ngIf"],["class","star-filled",4,"ngIf"],[1,"star-empty"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink"],[1,"star-half"],[1,"star-filled"]],template:function(r,i){1&r&&(ae(0,"div",0),Ut("keydown",function(o){return i.onKeyDown(o)})("blur",function(o){return i.onBlur(o)})("focus",function(o){return i.onFocus(o)})("mouseleave",function(){return i.onStarHover(0)}),Pe(1,Gpe,2,1,"div",1),ae(2,"div",2),Pe(3,Xpe,7,6,"div",3),pe()()),2&r&&(hi("rating ",i.getComponentClassNames(),""),Ma("id",i.id),ee(1),Ee("ngIf",i.labelText),ee(2),Ee("ngForOf",i.stars))},dependencies:[Va,Kc],encapsulation:2})),e})(),Zpe=(()=>{var t;class e{static forRoot(){return{ngModule:e,providers:[Bm]}}static forChild(){return{ngModule:e,providers:[]}}}return t=e,L(e,"\u0275fac",function(r){return new(r||t)}),L(e,"\u0275mod",Jn({type:t})),L(e,"\u0275inj",Fn({imports:[hw]})),e})();function ege(t,e){if(1&t&&(ae(0,"span",16),Jt(1),pe()),2&t){const n=e.$implicit,r=Oe(2);ee(1),mr(r.genreIdToGenre.get(n))}}function tge(t,e){if(1&t&&(ae(0,"div",18),Xe(1,"star-rating",19),ae(2,"p",20),Jt(3),pe(),ae(4,"span",21),Jt(5),pe()()),2&t){const n=e.$implicit;ee(1),Ee("rating",n.rating)("readOnly",!0),ee(2),mr(n.content),ee(2),Ef("Posted On: ",n.date,"")}}function nge(t,e){if(1&t&&(ae(0,"div"),Pe(1,tge,6,4,"div",17),_v(2,"async"),pe()),2&t){const n=Oe(2);ee(1),Ee("ngForOf",vv(2,1,n.reviews))}}function rge(t,e){if(1&t){const n=_f();ae(0,"div"),Xe(1,"img",3),ae(2,"div",4),Jt(3),pe(),ae(4,"div",5),Jt(5),pe(),ae(6,"div",6),Jt(7),pe(),ae(8,"div",7),Pe(9,ege,2,1,"span",8),pe(),ae(10,"div",9)(11,"h3"),Jt(12,"Reviews"),pe(),Pe(13,nge,3,3,"div",10),_v(14,"async"),ae(15,"h4"),Jt(16,"Leave a Review:"),pe(),Xe(17,"star-rating",11,12)(19,"textarea",13,14),ae(21,"button",15),Ut("click",function(){Qo(n);const i=yf(18),s=yf(20);return Yo(Oe().postReview(i.rating,s.value))}),Jt(22,"Post Review"),pe()()()}if(2&t){const n=Oe(),r=yf(4);let i;ee(1),Ma("src",n.movie.imagePath,zh),Pc("alt","",n.movie.title," Poster"),ee(2),mr(n.movie.title),ee(2),mr(n.movie.overview),ee(2),mr(n.movie.releaseDate),ee(2),Ee("ngForOf",n.movie.genreIds),ee(4),Ee("ngIf",null==(i=vv(14,10,n.reviews))?null:i.length)("ngIfElse",r),ee(4),Ee("rating",1)("hoverEnabled",!0)}}function ige(t,e){1&t&&Jt(0,"Looking for movie...")}function sge(t,e){1&t&&(ae(0,"div",22),Jt(1,"There are no reviews for this title"),pe())}let oge=(()=>{var t;class e{constructor(r,i,s){this.movieService=r,this.reviewService=i,this.route=s,this.movieId=Number(this.route.snapshot.params.id),this.genreIdToGenre=dt}postReview(r,i){const s=this.createDate(),o={content:i,rating:r,movieId:this.movieId,date:s};this.clearUserInput(),this.reviewService.addReview(o)}createDate(){const r=new Date;return`${r.getUTCMonth()+1}/${r.getUTCDate()}/${r.getUTCFullYear()}`}clearUserInput(){const r=document.getElementById("reviewTextInput");r&&(console.log("clearing user input from text area"),r.value="")}ngOnInit(){this.movieService.getMovieById(this.movieId).subscribe(r=>{this.movie=r}),this.reviews=this.reviewService.getReviewsForMovie(this.movieId)}}return(t=e).\u0275fac=function(r){return new(r||t)(T(UH),T(Pfe),T(ko))},t.\u0275cmp=Mr({type:t,selectors:[["app-movie-details"]],decls:5,vars:1,consts:[[4,"ngIfElseBlock","ngIf"],["elseBlock",""],["noReviews",""],["id","movieImg",3,"src","alt"],["id","title"],["id","overview"],["id","releaseDate"],["id","genres"],["class","genre",4,"ngFor","ngForOf"],["id","reviewSection"],[4,"ngIf","ngIfElse"],["labelText","Select a Rating",1,"rating",3,"rating","hoverEnabled"],["stars",""],["id","reviewTextInput","placeholder","Type your review here...","rows","5","cols","60"],["content",""],[3,"click"],[1,"genre"],["class","review",4,"ngFor","ngForOf"],[1,"review"],[1,"rating","postedRating",3,"rating","readOnly"],[1,"reviewContent"],[1,"reviewDate"],["id","noReviews"]],template:function(r,i){1&r&&(Pe(0,rge,23,12,"div",0),Pe(1,ige,1,0,"ng-template",null,1,Sv),Pe(3,sge,2,0,"ng-template",null,2,Sv)),2&r&&Ee("ngIf",i.movie)},dependencies:[Va,Kc,G4,yR],styles:['#rating[_ngcontent-%COMP%], #reviewText[_ngcontent-%COMP%]{display:block}.review[_ngcontent-%COMP%], #noReviews[_ngcontent-%COMP%]{max-width:30%;border-top:1px solid black;padding:10px;background-color:#f5f5f5}.review[_ngcontent-%COMP%]:last-of-type, #noReviews[_ngcontent-%COMP%]{border-bottom:1px solid black}span.genre[_ngcontent-%COMP%]:after{content:", "}span.genre[_ngcontent-%COMP%]:last-of-type:after{content:""}.rating[_ngcontent-%COMP%]{justify-content:flex-start}.reviewContent[_ngcontent-%COMP%]{margin-bottom:16px}span.reviewDate[_ngcontent-%COMP%]{font-size:smaller}']}),e})();const age=function(t){return["movie-details/",t]};let uge=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mr({type:t,selectors:[["app-movie"]],inputs:{movie:"movie"},decls:5,vars:6,consts:[[3,"routerLink"],["id","movieImg",3,"src","alt"],["id","movieTitle"]],template:function(r,i){1&r&&(ae(0,"section")(1,"a",0),Xe(2,"img",1),ae(3,"span",2),Jt(4),pe()()()),2&r&&(ee(1),Ee("routerLink",function Nx(t,e,n,r){return kx(D(),cn(),t,e,n,r)}(4,age,i.movie.id)),ee(1),Ma("src",i.movie.imagePath,zh),Pc("alt","",i.movie.title," Poster"),ee(2),mr(i.movie.title))},dependencies:[xm],styles:["section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:160px}a[_ngcontent-%COMP%]{text-decoration:none;text-align:center}section[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}img[_ngcontent-%COMP%]{object-fit:contain;max-width:150px;padding:0 5px;margin-bottom:10px}"]}),e})();function cge(t,e){if(1&t&&(ae(0,"li"),Xe(1,"app-movie",2),pe()),2&t){const n=e.$implicit;ee(1),Ee("movie",n)}}function lge(t,e){if(1&t&&(ae(0,"ul")(1,"p"),Jt(2),pe(),Pe(3,cge,2,1,"li",1),pe()),2&t){const n=Oe();ee(2),mr(n.genreIdToGenre.get(n.genreId)),ee(1),Ee("ngForOf",n.movies)}}let dge=(()=>{var t;class e{constructor(r){this.movieService=r,this.genreIds=VH,this.genreIdToGenre=dt}ngOnInit(){this.movieService.getMoviesByGenre(this.genreId).subscribe(r=>{this.movies=r})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(UH))},t.\u0275cmp=Mr({type:t,selectors:[["app-movie-list"]],inputs:{genreId:"genreId"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"movie"]],template:function(r,i){1&r&&Pe(0,lge,4,2,"ul",0),2&r&&Ee("ngIf",i.movies&&i.movies.length>1)},dependencies:[Va,Kc,uge],styles:["ul[_ngcontent-%COMP%]{display:flex;flex:0 1 auto;overflow:auto;list-style-type:none;margin:20px;margin-block:0;padding-inline:0;padding:20px;max-height:-moz-fit-content;max-height:fit-content}li[_ngcontent-%COMP%]{flex-direction:row}"]}),e})();function hge(t,e){if(1&t&&(ae(0,"div"),Xe(1,"app-movie-list",1),pe()),2&t){const n=e.$implicit;ee(1),Ee("genreId",n)}}const fge=[{path:"",component:(()=>{var t;class e{constructor(){this.genreIds=VH}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Mr({type:t,selectors:[["app-homepage"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"genreId"]],template:function(r,i){1&r&&Pe(0,hge,2,1,"div",0),2&r&&Ee("ngForOf",i.genreIds)},dependencies:[Va,dge]}),e})(),title:"Watchlist Homepage"},{path:"movie-details/:id",component:oge}];let pge=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({imports:[hw,FH.forRoot(fge,{useHash:!0}),FH]}),e})();const gge_firebase={apiKey:"AIzaSyDDpux_ld3EHARIZoCKIxVLI0L1MHe3LpA",authDomain:"donnelly-senior-project.firebaseapp.com",projectId:"donnelly-senior-project",storageBucket:"donnelly-senior-project.appspot.com",messagingSenderId:"234151376055",appId:"1:234151376055:web:eb279755d5f655bbcd0932",measurementId:"G-DR4DWEXXFM"};let mge=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Jn({type:t,bootstrap:[Nfe]}),t.\u0275inj=Fn({imports:[XY,SX,pge,Zpe.forRoot(),Mne(()=>xne(gge_firebase)),Yle(()=>Zle())]}),e})();QY().bootstrapModule(mge).catch(t=>console.error(t))}},Ae=>{Ae(Ae.s=657)}]);