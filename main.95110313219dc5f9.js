"use strict";(self.webpackChunkwatchlist_app=self.webpackChunkwatchlist_app||[]).push([[179],{419:()=>{function Me(t){return"function"==typeof t}function qu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Yd=qu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Lo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class In{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Me(r))try{r()}catch(s){e=s instanceof Yd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Vb(s)}catch(o){e=e??[],o instanceof Yd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Yd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Vb(e);else{if(e instanceof In){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Lo(n,e)}remove(e){const{_finalizers:n}=this;n&&Lo(n,e),e instanceof In&&e._removeParent(this)}}In.EMPTY=(()=>{const t=new In;return t.closed=!0,t})();const Fb=In.EMPTY;function Lb(t){return t instanceof In||t&&"closed"in t&&Me(t.remove)&&Me(t.add)&&Me(t.unsubscribe)}function Vb(t){Me(t)?t():t.unsubscribe()}const As={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xd={setTimeout(t,e,...n){const{delegate:r}=Xd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Xd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ub(t){Xd.setTimeout(()=>{const{onUnhandledError:e}=As;if(!e)throw t;e(t)})}function Gm(){}const Z4=zm("C",void 0,void 0);function zm(t,e,n){return{kind:t,value:e,error:n}}let Ms=null;function Jd(t){if(As.useDeprecatedSynchronousErrorHandling){const e=!Ms;if(e&&(Ms={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ms;if(Ms=null,n)throw r}}else t()}class qm extends In{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Lb(e)&&e.add(this)):this.destination=oG}static create(e,n,r){return new Wu(e,n,r)}next(e){this.isStopped?Km(function tG(t){return zm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Km(function eG(t){return zm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Km(Z4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rG=Function.prototype.bind;function Wm(t,e){return rG.call(t,e)}class iG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Zd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Zd(r)}else Zd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Zd(n)}}}class Wu extends qm{constructor(e,n,r){let i;if(super(),Me(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&As.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wm(e.next,s),error:e.error&&Wm(e.error,s),complete:e.complete&&Wm(e.complete,s)}):i=e}this.destination=new iG(i)}}function Zd(t){As.useDeprecatedSynchronousErrorHandling?function nG(t){As.useDeprecatedSynchronousErrorHandling&&Ms&&(Ms.errorThrown=!0,Ms.error=t)}(t):Ub(t)}function Km(t,e){const{onStoppedNotification:n}=As;n&&Xd.setTimeout(()=>n(t,e))}const oG={closed:!0,next:Gm,error:function sG(t){throw t},complete:Gm},Qm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vi(t){return t}function Bb(t){return 0===t.length?Vi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ze=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function cG(t){return t&&t instanceof qm||function uG(t){return t&&Me(t.next)&&Me(t.error)&&Me(t.complete)}(t)&&Lb(t)}(n)?n:new Wu(n,r,i);return Jd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=jb(r))((i,s)=>{const o=new Wu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Qm](){return this}pipe(...n){return Bb(n)(this)}toPromise(n){return new(n=jb(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function jb(t){var e;return null!==(e=t??As.Promise)&&void 0!==e?e:Promise}const lG=qu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ur=(()=>{class t extends ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new $b(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lG}next(n){Jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Fb:(this.currentObservers=null,s.push(n),new In(()=>{this.currentObservers=null,Lo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new ze;return n.source=this,n}}return t.create=(e,n)=>new $b(e,n),t})();class $b extends ur{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Fb}}function Hb(t){return Me(t?.lift)}function vt(t){return e=>{if(Hb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(t,e,n,r,i){return new dG(t,e,n,r,i)}class dG extends qm{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function se(t,e){return vt((n,r)=>{let i=0;n.subscribe(ft(r,s=>{r.next(t.call(e,s,i++))}))})}function Jm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ui(t){return this instanceof Ui?(this.v=t,this):new Ui(t)}function Wb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function ey(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Kb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Qb(t){return Me(t?.then)}function Yb(t){return Me(t[Qm])}function Xb(t){return Symbol.asyncIterator&&Me(t?.[Symbol.asyncIterator])}function Jb(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Zb=function NG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function eT(t){return Me(t?.[Zb])}function tT(t){return function qb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ui?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ui(n.read());if(i)return yield Ui(void 0);yield yield Ui(r)}}finally{n.releaseLock()}})}function nT(t){return Me(t?.getReader)}function Pn(t){if(t instanceof ze)return t;if(null!=t){if(Yb(t))return function kG(t){return new ze(e=>{const n=t[Qm]();if(Me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Kb(t))return function PG(t){return new ze(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Qb(t))return function OG(t){return new ze(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ub)})}(t);if(Xb(t))return rT(t);if(eT(t))return function FG(t){return new ze(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(nT(t))return function LG(t){return rT(tT(t))}(t)}throw Jb(t)}function rT(t){return new ze(e=>{(function VG(t,e){var n,r,i,s;return function Gb(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Wb(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ni(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Pt(t,e,n=1/0){return Me(e)?Pt((r,i)=>se((s,o)=>e(r,s,i,o))(Pn(t(r,i))),n):("number"==typeof e&&(n=e),vt((r,i)=>function UG(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Pn(n(g,l++)).subscribe(ft(e,y=>{i?.(y),s?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const y=u.shift();o?ni(e,o,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(ft(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Vo(t=1/0){return Pt(Vi,t)}const Ar=new ze(t=>t.complete());function ty(t){return t[t.length-1]}function Ku(t){return function jG(t){return t&&Me(t.schedule)}(ty(t))?t.pop():void 0}function eh(t,e=0){return vt((n,r)=>{n.subscribe(ft(r,i=>ni(r,t,()=>r.next(i),e),()=>ni(r,t,()=>r.complete(),e),i=>ni(r,t,()=>r.error(i),e)))})}function th(t,e=0){return vt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function sT(t,e){if(!t)throw new Error("Iterable cannot be null");return new ze(n=>{ni(n,e,()=>{const r=t[Symbol.asyncIterator]();ni(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pt(t,e){return e?function KG(t,e){if(null!=t){if(Yb(t))return function HG(t,e){return Pn(t).pipe(th(e),eh(e))}(t,e);if(Kb(t))return function zG(t,e){return new ze(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Qb(t))return function GG(t,e){return Pn(t).pipe(th(e),eh(e))}(t,e);if(Xb(t))return sT(t,e);if(eT(t))return function qG(t,e){return new ze(n=>{let r;return ni(n,e,()=>{r=t[Zb](),ni(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}(t,e);if(nT(t))return function WG(t,e){return sT(tT(t),e)}(t,e)}throw Jb(t)}(t,e):Pn(t)}class Yn extends ur{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function G(...t){return pt(t,Ku(t))}function oT(t={}){const{connector:e=(()=>new ur),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return vt((g,m)=>{c++,!d&&!l&&h();const y=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=ny(p,i))}),y.subscribe(m),!o&&c>0&&(o=new Wu({next:_=>y.next(_),error:_=>{d=!0,h(),a=ny(f,n,_),y.error(_)},complete:()=>{l=!0,h(),a=ny(f,r),y.complete()}}),Pn(g).subscribe(o))})(s)}}function ny(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Wu({next:()=>{r.unsubscribe(),t()}});return Pn(e(...n)).subscribe(r)}function cr(t,e){return vt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ft(r,u=>{i?.unsubscribe();let c=0;const l=s++;Pn(t(u,l)).subscribe(i=ft(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function XG(t,e){return t===e}function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function nh(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ry(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const JG=De({__forward_ref__:De});function Ne(t){return t.__forward_ref__=Ne,t.toString=function(){return wt(this())},t}function W(t){return iy(t)?t():t}function iy(t){return"function"==typeof t&&t.hasOwnProperty(JG)&&t.__forward_ref__===Ne}function sy(t){return t&&!!t.\u0275providers}const aT="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function rh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function X(t){return"string"==typeof t?t:null==t?"":String(t)}function oy(t,e){throw new S(-201,!1)}function Xn(t,e){null==t&&function z(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Fn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ih(t){return uT(t,oh)||uT(t,cT)}function uT(t,e){return t.hasOwnProperty(e)?t[e]:null}function sh(t){return t&&(t.hasOwnProperty(ay)||t.hasOwnProperty(o3))?t[ay]:null}const oh=De({\u0275prov:De}),ay=De({\u0275inj:De}),cT=De({ngInjectableDef:De}),o3=De({ngInjectorDef:De});var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{});let uy;function En(t){const e=uy;return uy=t,e}function dT(t,e,n){const r=ih(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&oe.Optional?null:void 0!==e?e:void oy(wt(t))}const Pe=globalThis,Qu={},fy="__NG_DI_FLAG__",ah="ngTempTokenPath",c3=/\n/gm,fT="__source";let Uo;function Bi(t){const e=Uo;return Uo=t,e}function h3(t,e=oe.Default){if(void 0===Uo)throw new S(-203,!1);return null===Uo?dT(t,void 0,e):Uo.get(t,e&oe.Optional?null:void 0,e)}function U(t,e=oe.Default){return(function lT(){return uy}()||h3)(W(t),e)}function F(t,e=oe.Default){return U(t,uh(e))}function uh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function py(t){const e=[];for(let n=0;n<t.length;n++){const r=W(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=oe.Default;for(let o=0;o<r.length;o++){const a=r[o],u=f3(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function Yu(t,e){return t[fy]=e,t.prototype[fy]=e,t}function f3(t){return t[fy]}function ri(t){return{toString:t}.toString()}var ch=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ch||{}),lr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(lr||{});const Mr={},ye=[],lh=De({\u0275cmp:De}),gy=De({\u0275dir:De}),my=De({\u0275pipe:De}),gT=De({\u0275mod:De}),ii=De({\u0275fac:De}),Xu=De({__NG_ELEMENT_ID__:De}),mT=De({__NG_ENV_ID__:De});function yT(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function yy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];vT(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function _T(t){return 3===t||4===t||6===t}function vT(t){return 64===t.charCodeAt(0)}function Ju(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||wT(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function wT(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const IT="ng-template";function m3(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==yT(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function ET(t){return 4===t.type&&t.value!==IT}function y3(t,e,n){return e===(4!==t.type||n?t.value:IT)}function _3(t,e,n){let r=4;const i=t.attrs||[],s=function I3(t){for(let e=0;e<t.length;e++)if(_T(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!y3(t,u,n)||""===u&&1===e.length){if(dr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!m3(t.attrs,c,n)){if(dr(r))return!1;o=!0}continue}const d=v3(8&r?"class":u,i,ET(t),n);if(-1===d){if(dr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==yT(f,c,0)||2&r&&c!==h){if(dr(r))return!1;o=!0}}}}else{if(!o&&!dr(r)&&!dr(u))return!1;if(o&&dr(u))continue;o=!1,r=u|1&r}}return dr(r)||o}function dr(t){return 0==(1&t)}function v3(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function E3(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function CT(t,e,n=!1){for(let r=0;r<e.length;r++)if(_3(t,e[r],n))return!0;return!1}function DT(t,e){return t?":not("+e.trim()+")":e}function D3(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!dr(o)&&(e+=DT(s,i),i=""),r=o,s=s||!dr(r);n++}return""!==i&&(e+=DT(s,i)),e}function hr(t){return ri(()=>{const e=TT(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ch.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||lr.Emulated,styles:t.styles||ye,_:null,schemas:t.schemas||null,tView:null,id:""};ST(n);const r=t.dependencies;return n.directiveDefs=dh(r,!1),n.pipeDefs=dh(r,!0),n.id=function N3(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function A3(t){return he(t)||Ot(t)}function M3(t){return null!==t}function Jn(t){return ri(()=>({type:t.type,bootstrap:t.bootstrap||ye,declarations:t.declarations||ye,imports:t.imports||ye,exports:t.exports||ye,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bT(t,e){if(null==t)return Mr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function K(t){return ri(()=>{const e=TT(t);return ST(e),e})}function Cn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function he(t){return t[lh]||null}function Ot(t){return t[gy]||null}function an(t){return t[my]||null}function Ln(t,e){const n=t[gT]||null;if(!n&&!0===e)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function TT(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Mr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ye,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bT(t.inputs,e),outputs:bT(t.outputs)}}function ST(t){t.features?.forEach(e=>e(t))}function dh(t,e){if(!t)return null;const n=e?an:A3;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(M3)}const Xe=0,P=1,te=2,qe=3,fr=4,Zu=5,Qt=6,jo=7,rt=8,ji=9,$o=10,J=11,ec=12,AT=13,Ho=14,it=15,tc=16,Go=17,xr=18,nc=19,MT=20,$i=21,si=22,rc=23,ic=24,ae=25,_y=1,xT=2,Rr=7,zo=9,Ft=11;function Dn(t){return Array.isArray(t)&&"object"==typeof t[_y]}function un(t){return Array.isArray(t)&&!0===t[_y]}function vy(t){return 0!=(4&t.flags)}function Rs(t){return t.componentOffset>-1}function fh(t){return 1==(1&t.flags)}function pr(t){return!!t.template}function wy(t){return 0!=(512&t[te])}function Ns(t,e){return t.hasOwnProperty(ii)?t[ii]:null}let Lt=null,ph=!1;function Zn(t){const e=Lt;return Lt=t,e}const gh={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function OT(t){if(!oc(t)||t.dirty){if(!t.producerMustRecompute(t)&&!VT(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function LT(t){t.dirty=!0,function FT(t){if(void 0===t.liveConsumerNode)return;const e=ph;ph=!0;try{for(const n of t.liveConsumerNode)n.dirty||LT(n)}finally{ph=e}}(t),t.consumerMarkedDirty?.(t)}function mh(t){return t&&(t.nextProducerIndex=0),Zn(t)}function yh(t,e){if(Zn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(oc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_h(t.producerNode[n],t.producerIndexOfThis[n]);for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function VT(t){qo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(OT(n),r!==n.version))return!0}return!1}function UT(t){if(qo(t),oc(t))for(let e=0;e<t.producerNode.length;e++)_h(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _h(t,e){if(function jT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),qo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)_h(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];qo(i),i.producerIndexOfThis[r]=e}}function oc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function qo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let $T=null;function zT(t){const e=Zn(null);try{return t()}finally{Zn(e)}}const qT=()=>{},G3={...gh,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:qT};class z3{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function er(){return WT}function WT(t){return t.type.prototype.ngOnChanges&&(t.setInput=W3),q3}function q3(){const t=QT(this),e=t?.current;if(e){const n=t.previous;if(n===Mr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function W3(t,e,n,r){const i=this.declaredInputs[n],s=QT(t)||function K3(t,e){return t[KT]=e}(t,{previous:Mr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new z3(u&&u.currentValue,e,a===Mr),t[r]=e}er.ngInherit=!0;const KT="__ngSimpleChanges__";function QT(t){return t[KT]||null}const Nr=function(t,e,n){},YT="svg";function Oe(t){for(;Array.isArray(t);)t=t[Xe];return t}function wh(t,e){return Oe(e[t])}function bn(t,e){return Oe(e[t.index])}function JT(t,e){return t.data[e]}function Wo(t,e){return t[e]}function Vn(t,e){const n=e[t];return Dn(n)?n:n[Xe]}function Gi(t,e){return null==e?null:t[e]}function ZT(t){t[Go]=0}function ez(t){1024&t[te]||(t[te]|=1024,t0(t,1))}function e0(t){1024&t[te]&&(t[te]&=-1025,t0(t,-1))}function t0(t,e){let n=t[qe];if(null===n)return;n[Zu]+=e;let r=n;for(n=n[qe];null!==n&&(1===e&&1===r[Zu]||-1===e&&0===r[Zu]);)n[Zu]+=e,r=n,n=n[qe]}const q={lFrame:f0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function s0(){return q.bindingsEnabled}function D(){return q.lFrame.lView}function fe(){return q.lFrame.tView}function Qo(t){return q.lFrame.contextLView=t,t[rt]}function Yo(t){return q.lFrame.contextLView=null,t}function Vt(){let t=o0();for(;null!==t&&64===t.type;)t=t.parent;return t}function o0(){return q.lFrame.currentTNode}function kr(t,e){const n=q.lFrame;n.currentTNode=t,n.isParent=e}function Ay(){return q.lFrame.isParent}function cn(){const t=q.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xo(){return q.lFrame.bindingIndex++}function hz(t,e){const n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,xy(e)}function xy(t){q.lFrame.currentDirectiveIndex=t}function Ny(t){q.lFrame.currentQueryIndex=t}function pz(t){const e=t[P];return 2===e.type?e.declTNode:1===e.type?t[Qt]:null}function d0(t,e,n){if(n&oe.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&oe.Host||(i=pz(s),null===i||(s=s[Ho],10&i.type))););if(null===i)return!1;e=i,t=s}const r=q.lFrame=h0();return r.currentTNode=e,r.lView=t,!0}function ky(t){const e=h0(),n=t[P];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function h0(){const t=q.lFrame,e=null===t?null:t.child;return null===e?f0(t):e}function f0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function p0(){const t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const g0=p0;function Py(){const t=p0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ln(){return q.lFrame.selectedIndex}function ks(t){q.lFrame.selectedIndex=t}function Ke(){const t=q.lFrame;return JT(t.tView,t.selectedIndex)}function Ps(){q.lFrame.currentNamespace=YT}let y0=!0;function Ih(){return y0}function zi(t){y0=t}function Eh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Ch(t,e,n){_0(t,e,3,n)}function Dh(t,e,n,r){(3&t[te])===n&&_0(t,e,n,r)}function Oy(t,e){let n=t[te];(3&n)===e&&(n&=8191,n+=1,t[te]=n)}function _0(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Go]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Go]+=65536),(a<s||-1==s)&&(Iz(t,n,e,u),t[Go]=(4294901760&t[Go])+u+2),u++}function v0(t,e){Nr(4,t,e);const n=Zn(null);try{e.call(t)}finally{Zn(n),Nr(5,t,e)}}function Iz(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[te]>>13<t[Go]>>16&&(3&t[te])===e&&(t[te]+=8192,v0(a,s)):v0(a,s)}const Jo=-1;class uc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ly(t){return t!==Jo}function cc(t){return 32767&t}function lc(t,e){let n=function bz(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ho],n--;return r}let Vy=!0;function bh(t){const e=Vy;return Vy=t,e}const w0=255,I0=5;let Tz=0;const Pr={};function Th(t,e){const n=E0(t,e);if(-1!==n)return n;const r=e[P];r.firstCreatePass&&(t.injectorIndex=e.length,Uy(r.data,t),Uy(e,null),Uy(r.blueprint,null));const i=Sh(t,e),s=t.injectorIndex;if(Ly(i)){const o=cc(i),a=lc(i,e),u=a[P].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Uy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function E0(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Sh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=M0(i),null===r)return Jo;if(n++,i=i[Ho],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Jo}function By(t,e,n){!function Sz(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xu)&&(r=n[Xu]),null==r&&(r=n[Xu]=Tz++);const i=r&w0;e.data[t+(i>>I0)]|=1<<i}(t,e,n)}function C0(t,e,n){if(n&oe.Optional||void 0!==t)return t;oy()}function D0(t,e,n,r){if(n&oe.Optional&&void 0===r&&(r=null),!(n&(oe.Self|oe.Host))){const i=t[ji],s=En(void 0);try{return i?i.get(e,r,n&oe.Optional):dT(e,r,n&oe.Optional)}finally{En(s)}}return C0(r,0,n)}function b0(t,e,n,r=oe.Default,i){if(null!==t){if(2048&e[te]&&!(r&oe.Self)){const o=function kz(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[te]&&!(512&o[te]);){const a=T0(s,o,n,r|oe.Self,Pr);if(a!==Pr)return a;let u=s.parent;if(!u){const c=o[MT];if(c){const l=c.get(n,Pr,r);if(l!==Pr)return l}u=M0(o),o=o[Ho]}s=u}return i}(t,e,n,r,Pr);if(o!==Pr)return o}const s=T0(t,e,n,r,Pr);if(s!==Pr)return s}return D0(e,n,r,i)}function T0(t,e,n,r,i){const s=function xz(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Xu)?t[Xu]:void 0;return"number"==typeof e?e>=0?e&w0:Nz:e}(n);if("function"==typeof s){if(!d0(e,t,r))return r&oe.Host?C0(i,0,r):D0(e,n,r,i);try{let o;if(o=s(r),null!=o||r&oe.Optional)return o;oy()}finally{g0()}}else if("number"==typeof s){let o=null,a=E0(t,e),u=Jo,c=r&oe.Host?e[it][Qt]:null;for((-1===a||r&oe.SkipSelf)&&(u=-1===a?Sh(t,e):e[a+8],u!==Jo&&A0(r,!1)?(o=e[P],a=cc(u),e=lc(u,e)):a=-1);-1!==a;){const l=e[P];if(S0(s,a,l.data)){const d=Mz(a,e,n,o,r,c);if(d!==Pr)return d}u=e[a+8],u!==Jo&&A0(r,e[P].data[a+8]===c)&&S0(s,a,e)?(o=l,a=cc(u),e=lc(u,e)):a=-1}}return i}function Mz(t,e,n,r,i,s){const o=e[P],a=o.data[t+8],l=function Ah(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&pr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Rs(a)&&Vy:r!=o&&0!=(3&a.type),i&oe.Host&&s===a);return null!==l?Os(e,o,l,a):Pr}function Os(t,e,n,r){let i=t[n];const s=e.data;if(function Ez(t){return t instanceof uc}(i)){const o=i;o.resolving&&function ZG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ee(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():X(t)}(s[n]));const a=bh(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?En(o.injectImpl):null;d0(t,r,oe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function wz(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=WT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&En(c),bh(a),o.resolving=!1,g0()}}return i}function S0(t,e,n){return!!(n[e+(t>>I0)]&1<<t)}function A0(t,e){return!(t&oe.Self||t&oe.Host&&e)}class dn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return b0(this._tNode,this._lView,e,uh(r),n)}}function Nz(){return new dn(Vt(),D())}function jy(t){return iy(t)?()=>{const e=jy(W(t));return e&&e()}:Ns(t)}function M0(t){const e=t[P],n=e.type;return 2===n?e.declTNode:1===n?t[Qt]:null}const ea="__parameters__";function na(t,e,n){return ri(()=>{const r=function $y(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ea)?u[ea]:Object.defineProperty(u,ea,{value:[]})[ea];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ia(t,e){t.forEach(n=>Array.isArray(n)?ia(n,e):e(n))}function R0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Un(t,e,n){let r=sa(t,e);return r>=0?t[1|r]=n:(r=~r,function Bz(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Hy(t,e){const n=sa(t,e);if(n>=0)return t[1|n]}function sa(t,e){return function N0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Tn=Yu(na("Optional"),8),Nh=Yu(na("SkipSelf"),4);function Lh(t){return 128==(128&t.flags)}var qi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qi||{});const Ky=new Map;let lq=0;const Yy="__ngContext__";function Yt(t,e){Dn(e)?(t[Yy]=e[nc],function hq(t){Ky.set(t[nc],t)}(e)):t[Yy]=e}let Xy;function Jy(t,e){return Xy(t,e)}function mc(t){const e=t[qe];return un(e)?e[qe]:e}function J0(t){return eS(t[ec])}function Z0(t){return eS(t[fr])}function eS(t){for(;null!==t&&!un(t);)t=t[fr];return t}function ua(t,e,n,r,i){if(null!=r){let s,o=!1;un(r)?s=r:Dn(r)&&(o=!0,r=r[Xe]);const a=Oe(r);0===t&&null!==n?null==i?iS(e,n,a):Fs(e,n,a,i||null,!0):1===t&&null!==n?Fs(e,n,a,i||null,!0):2===t?function Gh(t,e,n){const r=$h(t,e);r&&function Rq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Pq(t,e,n,r,i){const s=n[Rr];s!==Oe(n)&&ua(e,t,r,s,i);for(let a=Ft;a<n.length;a++){const u=n[a];_c(u[P],u,t,e,r,s)}}(e,t,s,n,i)}}function Bh(t,e,n){return t.createElement(e,n)}function nS(t,e){const n=t[zo],r=n.indexOf(e);e0(e),n.splice(r,1)}function jh(t,e){if(t.length<=Ft)return;const n=Ft+e,r=t[n];if(r){const i=r[tc];null!==i&&i!==t&&nS(i,r),e>0&&(t[n-1][fr]=r[fr]);const s=xh(t,Ft+e);!function Cq(t,e){_c(t,e,e[J],2,null,null),e[Xe]=null,e[Qt]=null}(r[P],r);const o=s[xr];null!==o&&o.detachView(s[P]),r[qe]=null,r[fr]=null,r[te]&=-129}return r}function e_(t,e){if(!(256&e[te])){const n=e[J];e[rc]&&UT(e[rc]),e[ic]&&UT(e[ic]),n.destroyNode&&_c(t,e,n,3,null,null),function Tq(t){let e=t[ec];if(!e)return t_(t[P],t);for(;e;){let n=null;if(Dn(e))n=e[ec];else{const r=e[Ft];r&&(n=r)}if(!n){for(;e&&!e[fr]&&e!==t;)Dn(e)&&t_(e[P],e),e=e[qe];null===e&&(e=t),Dn(e)&&t_(e[P],e),n=e&&e[fr]}e=n}}(e)}}function t_(t,e){if(!(256&e[te])){e[te]&=-129,e[te]|=256,function xq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof uc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Nr(4,a,u);try{u.call(a)}finally{Nr(5,a,u)}}else{Nr(4,i,s);try{s.call(i)}finally{Nr(5,i,s)}}}}}(t,e),function Mq(t,e){const n=t.cleanup,r=e[jo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[jo]=null);const i=e[$i];if(null!==i){e[$i]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[P].type&&e[J].destroy();const n=e[tc];if(null!==n&&un(e[qe])){n!==e[qe]&&nS(n,e);const r=e[xr];null!==r&&r.detachView(t)}!function fq(t){Ky.delete(t[nc])}(e)}}function n_(t,e,n){return function rS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Xe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===lr.None||s===lr.Emulated)return null}return bn(r,n)}}(t,e.parent,n)}function Fs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iS(t,e,n){t.appendChild(e,n)}function sS(t,e,n,r,i){null!==r?Fs(t,e,n,r,i):iS(t,e,n)}function $h(t,e){return t.parentNode(e)}let r_,a_,qh,uS=function aS(t,e,n){return 40&t.type?bn(t,n):null};function Hh(t,e,n,r){const i=n_(t,r,e),s=e[J],a=function oS(t,e,n){return uS(t,e,n)}(r.parent||e[Qt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)sS(s,i,n[u],a,!1);else sS(s,i,n,a,!1);void 0!==r_&&r_(s,r,e,n,i)}function yc(t,e){if(null!==e){const n=e.type;if(3&n)return bn(e,t);if(4&n)return i_(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return yc(t,r);{const i=t[e.index];return un(i)?i_(-1,i):Oe(i)}}if(32&n)return Jy(e,t)()||Oe(t[e.index]);{const r=lS(t,e);return null!==r?Array.isArray(r)?r[0]:yc(mc(t[it]),r):yc(t,e.next)}}return null}function lS(t,e){return null!==e?t[it][Qt].projection[e.projection]:null}function i_(t,e){const n=Ft+t+1;if(n<e.length){const r=e[n],i=r[P].firstChild;if(null!==i)return yc(r,i)}return e[Rr]}function s_(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Yt(Oe(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)s_(t,e,n.child,r,i,s,!1),ua(e,t,i,a,s);else if(32&u){const c=Jy(n,r);let l;for(;l=c();)ua(e,t,i,l,s);ua(e,t,i,a,s)}else 16&u?hS(t,e,r,n,i,s):ua(e,t,i,a,s);n=o?n.projectionNext:n.next}}function _c(t,e,n,r,i,s){s_(n,r,t.firstChild,e,i,s,!1)}function hS(t,e,n,r,i,s){const o=n[it],u=o[Qt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ua(e,t,i,u[c],s);else{let c=u;const l=o[qe];Lh(r)&&(c.flags|=128),s_(t,e,c,l,i,s,!0)}}function fS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pS(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&yy(t,e,r),null!==i&&fS(t,e,i),null!==s&&function Fq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function yS(t){return function u_(){if(void 0===qh&&(qh=null,Pe.trustedTypes))try{qh=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qh}()?.createScriptURL(t)||t}class _S{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aT})`}}function Wi(t){return t instanceof _S?t.changingThisBreaksApplicationSecurity:t}function vc(t,e){const n=function qq(t){return t instanceof _S&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${aT})`)}return n===e}const Yq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var da=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(da||{});function Kh(t){const e=Ic();return e?e.sanitize(da.URL,t)||"":vc(t,"URL")?Wi(t):function c_(t){return(t=String(t)).match(Yq)?t:"unsafe:"+t}(X(t))}function bS(t){const e=Ic();if(e)return yS(e.sanitize(da.RESOURCE_URL,t)||"");if(vc(t,"ResourceURL"))return yS(Wi(t));throw new S(904,!1)}function Ic(){const t=D();return t&&t[$o].sanitizer}class O{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ec=new O("ENVIRONMENT_INITIALIZER"),SS=new O("INJECTOR",-1),AS=new O("INJECTOR_DEF_TYPES");class f_{get(e,n=Qu){if(n===Qu){const r=new Error(`NullInjectorError: No provider for ${wt(e)}!`);throw r.name="NullInjectorError",r}return n}}function c6(...t){return{\u0275providers:MS(0,t),\u0275fromNgModule:!0}}function MS(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return ia(e,o=>{const a=o;Qh(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&xS(i,s),n}function xS(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];g_(i,s=>{e(s,r)})}}function Qh(t,e,n,r){if(!(t=W(t)))return!1;let i=null,s=sh(t);const o=!s&&he(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=sh(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Qh(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ia(s.imports,l=>{Qh(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&xS(c,e)}if(!a){const c=Ns(i)||(()=>new i);e({provide:i,useFactory:c,deps:ye},i),e({provide:AS,useValue:i,multi:!0},i),e({provide:Ec,useValue:()=>U(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;g_(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function g_(t,e){for(let n of t)sy(n)&&(n=n.\u0275providers),Array.isArray(n)?g_(n,e):e(n)}const l6=De({provide:String,useValue:De});function m_(t){return null!==t&&"object"==typeof t&&l6 in t}function Ls(t){return"function"==typeof t}const y_=new O("Set Injector scope."),Yh={},h6={};let __;function Xh(){return void 0===__&&(__=new f_),__}class Bn{}class Jh extends Bn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,w_(e,o=>this.processProvider(o)),this.records.set(SS,ha(void 0,this)),i.has("environment")&&this.records.set(Bn,ha(void 0,this));const s=this.records.get(y_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(AS.multi,ye,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Bi(this),r=En(void 0);try{return e()}finally{Bi(n),En(r)}}get(e,n=Qu,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mT))return e[mT](this);r=uh(r);const s=Bi(this),o=En(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function y6(t){return"function"==typeof t||"object"==typeof t&&t instanceof O}(e)&&ih(e);u=c&&this.injectableDefInScope(c)?ha(v_(e),Yh):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&oe.Self?Xh():this.parent).get(e,n=r&oe.Optional&&n===Qu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[ah]=a[ah]||[]).unshift(wt(e)),s)throw a;return function p3(t,e,n,r){const i=t[ah];throw e[fT]&&i.unshift(e[fT]),t.message=function g3(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):wt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(c3,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ah]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{En(o),Bi(s)}}resolveInjectorInitializers(){const e=Bi(this),n=En(void 0);try{const i=this.get(Ec.multi,ye,oe.Self);for(const s of i)s()}finally{Bi(e),En(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=Ls(e=W(e))?e:W(e&&e.provide);const r=function p6(t){return m_(t)?ha(void 0,t.useValue):ha(kS(t),Yh)}(e);if(Ls(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ha(void 0,Yh,!0),i.factory=()=>py(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Yh&&(n.value=h6,n.value=n.factory()),"object"==typeof n.value&&n.value&&function m6(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=W(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function v_(t){const e=ih(t),n=null!==e?e.factory:Ns(t);if(null!==n)return n;if(t instanceof O)throw new S(204,!1);if(t instanceof Function)return function f6(t){const e=t.length;if(e>0)throw function fc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function s3(t){return t&&(t[oh]||t[cT])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function kS(t,e,n){let r;if(Ls(t)){const i=W(t);return Ns(i)||v_(i)}if(m_(t))r=()=>W(t.useValue);else if(function NS(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...py(t.deps||[]));else if(function RS(t){return!(!t||!t.useExisting)}(t))r=()=>U(W(t.useExisting));else{const i=W(t&&(t.useClass||t.provide));if(!function g6(t){return!!t.deps}(t))return Ns(i)||v_(i);r=()=>new i(...py(t.deps))}return r}function ha(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function w_(t,e){for(const n of t)Array.isArray(n)?w_(n,e):n&&sy(n)?w_(n.\u0275providers,e):e(n)}const Zh=new O("AppId",{providedIn:"root",factory:()=>_6}),_6="ng",PS=new O("Platform Initializer"),ci=new O("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),OS=new O("CSP nonce",{providedIn:"root",factory:()=>function la(){if(void 0!==a_)return a_;if(typeof document<"u")return document;throw new S(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let FS=(t,e,n)=>null;function A_(t,e,n=!1){return FS(t,e,n)}class A6{}class US{}class x6{resolveComponentFactory(e){throw function M6(t){const e=Error(`No component factory found for ${wt(t)}.`);return e.ngComponent=t,e}(e)}}let af=(()=>{class e{}return e.NULL=new x6,e})();function R6(){return ga(Vt(),D())}function ga(t,e){return new jn(bn(t,e))}let jn=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=R6,e})();class jS{}let li=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function k6(){const t=D(),n=Vn(Vt().index,t);return(Dn(n)?n:t)[J]}(),e})(),P6=(()=>{var t;class e{}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:()=>null}),e})();class ma{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const $S=new ma("16.2.4"),R_={};function qS(t,e=null,n=null,r){const i=WS(t,e,n,r);return i.resolveInjectorInitializers(),i}function WS(t,e=null,n=null,r,i=new Set){const s=[n||ye,c6(t)];return r=r||("object"==typeof t?void 0:wt(t)),new Jh(s,e||Xh(),r||null,i)}let hn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return qS({name:""},i,r,"");{const s=r.name??"";return qS({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=Qu,t.NULL=new f_,t.\u0275prov=$({token:t,providedIn:"any",factory:()=>U(SS)}),t.__NG_ELEMENT_ID__=-1,e})();function P_(t){return e=>{setTimeout(t,void 0,e)}}const xe=class j6 extends ur{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=P_(s),i&&(i=P_(i)),o&&(o=P_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof In&&e.add(a),a}};function KS(...t){}class be{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function $6(){const t="function"==typeof Pe.requestAnimationFrame;let e=Pe[t?"requestAnimationFrame":"setTimeout"],n=Pe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function z6(t){const e=()=>{!function G6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,F_(t),t.isCheckStableRunning=!0,O_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),F_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function W6(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return QS(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),YS(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return QS(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),YS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,F_(t),O_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!be.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(be.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,H6,KS,KS);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const H6={};function O_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function F_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function QS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function YS(t){t._nesting--,O_(t)}class q6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const XS=new O("",{providedIn:"root",factory:JS});function JS(){const t=F(be);let e=!0;return function QG(...t){const e=Ku(t),n=function $G(t,e){return"number"==typeof ty(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Pn(r[0]):Vo(n)(pt(r,e)):Ar}(new ze(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ze(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{be.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(oT()))}function di(t){return t instanceof Function?t():t}let L_=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new S(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:()=>new t}),e})();function bc(t){for(;t;){t[te]|=64;const e=mc(t);if(wy(t)&&!e)return t;t=e}return null}function V_(t){return t.ngOriginalError}class Vs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&V_(e);for(;n&&V_(n);)n=V_(n);return n||null}}const rA=new O("",{providedIn:"root",factory:()=>!1});let cf=null;function aA(t,e){return t[e]??lA()}function uA(t,e){const n=lA();n.producerNode?.length&&(t[e]=cf,n.lView=t,cf=cA())}const r5={...gh,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{bc(t.lView)},lView:null};function cA(){return Object.create(r5)}function lA(){return cf??=cA(),cf}const ee={};function H(t){dA(fe(),D(),ln()+t,!1)}function dA(t,e,n,r){if(!r)if(3==(3&e[te])){const s=t.preOrderCheckHooks;null!==s&&Ch(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Dh(e,s,0,n)}ks(n)}function T(t,e=oe.Default){const n=D();return null===n?U(t,e):b0(Vt(),n,W(t),e)}function lf(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Xe]=i,d[te]=140|r,(null!==c||t&&2048&t[te])&&(d[te]|=2048),ZT(d),d[qe]=d[Ho]=t,d[rt]=n,d[$o]=o||t&&t[$o],d[J]=a||t&&t[J],d[ji]=u||t&&t[ji]||null,d[Qt]=s,d[nc]=function dq(){return lq++}(),d[si]=l,d[MT]=c,d[it]=2==e.type?t[it]:d,d}function va(t,e,n,r,i){let s=t.data[e];if(null===s)s=function U_(t,e,n,r,i){const s=o0(),o=Ay(),u=t.data[e]=function d5(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Ko(){return null!==q.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function dz(){return q.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ac(){const t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return kr(s,!0),s}function Tc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function fA(t,e,n,r,i){const s=aA(e,rc),o=ln(),a=2&r;try{ks(-1),a&&e.length>ae&&dA(t,e,ae,!1),Nr(a?2:0,i);const c=a?s:null,l=mh(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{yh(c,l)}}finally{a&&null===e[rc]&&uA(e,rc),ks(o),Nr(a?3:1,i)}}function B_(t,e,n){if(vy(e)){const r=Zn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Zn(r)}}}function j_(t,e,n){s0()&&(function _5(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Rs(n)&&function b5(t,e,n){const r=bn(e,t),i=pA(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=df(t,lf(t,i,null,o,r,e,null,t[$o].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Th(n,e),Yt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Os(e,t,a,n);Yt(c,e),null!==o&&T5(0,a-i,c,u,0,o),pr(u)&&(Vn(n.index,e)[rt]=Os(e,t,a,n))}}(t,e,n,bn(n,e)),64==(64&n.flags)&&vA(t,e,n))}function $_(t,e,n=bn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function pA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=H_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function H_(t,e,n,r,i,s,o,a,u,c,l){const d=ae+r,h=d+i,f=function s5(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ee);return n}(d,h),p="function"==typeof c?c():c;return f[P]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let gA=t=>null;function mA(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?yA(n,e,i,s):r.hasOwnProperty(i)&&yA(n,e,r[i],s)}return n}function yA(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function $n(t,e,n,r,i,s,o,a){const u=bn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(K_(t,n,l,r,i),Rs(e)&&function p5(t,e){const n=Vn(e,t);16&n[te]||(n[te]|=64)}(n,e.index)):3&e.type&&(r=function f5(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function G_(t,e,n,r){if(s0()){const i=null===r?null:{"":-1},s=function w5(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(CT(e,o.selectors,!1))if(r||(r=[]),pr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),z_(t,e,a.length)}else r.unshift(o),z_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&_A(t,e,n,o,i,a),i&&function I5(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Ju(n.mergedAttrs,n.attrs)}function _A(t,e,n,r,i,s){for(let c=0;c<r.length;c++)By(Th(n,e),t,r[c].type);!function C5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Tc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Ju(n.mergedAttrs,l.hostAttrs),D5(t,n,e,u,l),E5(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function h5(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=mA(d.inputs,l,u,h?h.inputs:null),c=mA(d.outputs,l,c,p);const g=null===u||null===o||ET(e)?null:S5(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function vA(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function fz(){return q.lFrame.currentDirectiveIndex}();try{ks(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];xy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&v5(u,c)}}finally{ks(-1),xy(o)}}function v5(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function z_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function E5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pr(e)&&(n[""]=t)}}function D5(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ns(i.type)),o=new uc(s,pr(i),T);t.blueprint[r]=o,n[r]=o,function m5(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function y5(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Tc(t,n,i.hostVars,ee),i)}function Or(t,e,n,r,i,s){const o=bn(t,e);!function q_(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?X(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[J],o,s,t.value,n,r,i)}function T5(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)wA(r,n,o[a++],o[a++],o[a++])}function wA(t,e,n,r,i){const s=Zn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Zn(s)}}function S5(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function IA(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function EA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Ny(n[r]),o.contentQueries(2,e[s],s)}}}function df(t,e){return t[ec]?t[AT][fr]=e:t[ec]=e,t[AT]=e,e}function W_(t,e,n){Ny(0);const r=Zn(null);try{e(t,n)}finally{Zn(r)}}function TA(t,e){const n=t[ji],r=n?n.get(Vs,null):null;r&&r.handleError(e)}function K_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];wA(t.data[o],e[o],r,a,i)}}function A5(t,e){const n=Vn(e,t),r=n[P];!function M5(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Xe];null!==i&&null===n[si]&&(n[si]=A_(i,n[ji])),Q_(r,n,n[rt])}function Q_(t,e,n){ky(e);try{const r=t.viewQuery;null!==r&&W_(1,r,n);const i=t.template;null!==i&&fA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&EA(t,e),t.staticViewQueries&&W_(2,t.viewQuery,n);const s=t.components;null!==s&&function x5(t,e){for(let n=0;n<e.length;n++)A5(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,Py()}}let SA=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function H3(t,e,n){const r=Object.create(G3);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>LT(r),run:()=>{if(r.dirty=!1,r.hasRun&&!VT(r))return;r.hasRun=!0;const o=mh(r);try{r.cleanupFn(),r.cleanupFn=qT,r.fn(i)}finally{yh(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,l=>{this.all.has(l)&&this.queue.set(l,o)},s);let u;this.all.add(a),a.notify();const c=()=>{a.cleanup(),u?.(),this.all.delete(a),this.queue.delete(a)};return u=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:()=>new t}),e})();function hf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=ry(i,a):2==s&&(r=ry(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Sc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Oe(s)),un(s)&&AA(s,r);const o=n.type;if(8&o)Sc(t,e,n.child,r);else if(32&o){const a=Jy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=lS(e,n);if(Array.isArray(a))r.push(...a);else{const u=mc(e[it]);Sc(u[P],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function AA(t,e){for(let n=Ft;n<t.length;n++){const r=t[n],i=r[P].firstChild;null!==i&&Sc(r[P],r,i,e)}t[Rr]!==t[Xe]&&e.push(t[Rr])}function ff(t,e,n,r=!0){const i=e[$o],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{MA(t,e,t.template,n)}catch(u){throw r&&TA(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function MA(t,e,n,r){const i=e[te];if(256!=(256&i)){e[$o].effectManager?.flush(),ky(e);try{ZT(e),function u0(t){return q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&fA(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Ch(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Dh(e,c,0,null),Oy(e,0)}if(function k5(t){for(let e=J0(t);null!==e;e=Z0(e)){if(!e[xT])continue;const n=e[zo];for(let r=0;r<n.length;r++){ez(n[r])}}}(e),xA(e,2),null!==t.contentQueries&&EA(t,e),o){const c=t.contentCheckHooks;null!==c&&Ch(e,c)}else{const c=t.contentHooks;null!==c&&Dh(e,c,1),Oy(e,1)}!function i5(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=aA(e,ic);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ks(~s);else{const o=s,a=n[++i],u=n[++i];hz(a,o),r.dirty=!1;const c=mh(r);try{u(2,e[o])}finally{yh(r,c)}}}}finally{null===e[ic]&&uA(e,ic),ks(-1)}}(t,e);const a=t.components;null!==a&&NA(e,a,0);const u=t.viewQuery;if(null!==u&&W_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Ch(e,c)}else{const c=t.viewHooks;null!==c&&Dh(e,c,2),Oy(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[te]&=-73,e0(e)}finally{Py()}}}function xA(t,e){for(let n=J0(t);null!==n;n=Z0(n))for(let r=Ft;r<n.length;r++)RA(n[r],e)}function P5(t,e,n){RA(Vn(e,t),n)}function RA(t,e){if(!function J3(t){return 128==(128&t[te])}(t))return;const n=t[P],r=t[te];if(80&r&&0===e||1024&r||2===e)MA(n,t,n.template,t[rt]);else if(t[Zu]>0){xA(t,1);const i=n.components;null!==i&&NA(t,i,1)}}function NA(t,e,n){for(let r=0;r<e.length;r++)P5(t,e[r],n)}class Ac{get rootNodes(){const e=this._lView,n=e[P];return Sc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rt]}set context(e){this._lView[rt]=e}get destroyed(){return 256==(256&this._lView[te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[qe];if(un(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(jh(e,r),xh(n,r))}this._attachedToViewContainer=!1}e_(this._lView[P],this._lView)}onDestroy(e){!function n0(t,e){if(256==(256&t[te]))throw new S(911,!1);null===t[$i]&&(t[$i]=[]),t[$i].push(e)}(this._lView,e)}markForCheck(){bc(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-129}reattach(){this._lView[te]|=128}detectChanges(){ff(this._lView[P],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bq(t,e){_c(t,e,e[J],2,null,null)}(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class O5 extends Ac{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ff(e[P],e,e[rt],!1)}checkNoChanges(){}get context(){return null}}class kA extends af{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=he(e);return new Mc(n,this.ngModule)}}function PA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class L5{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=uh(r);const i=this.injector.get(e,R_,r);return i!==R_||n===R_?i:this.parentInjector.get(e,n,r)}}class Mc extends US{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=PA(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return PA(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function b3(t){return t.map(D3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Bn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new L5(e,s):e,a=o.get(jS,null);if(null===a)throw new S(407,!1);const d={rendererFactory:a,sanitizer:o.get(P6,null),effectManager:o.get(SA,null),afterRenderEventManager:o.get(L_,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function o5(t,e,n,r){const s=r.get(rA,!1)||n===lr.ShadowDom,o=t.selectRootElement(e,s);return function a5(t){gA(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Bh(h,f,function F5(t){const e=t.toLowerCase();return"svg"===e?YT:"math"===e?"math":null}(f)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=A_(p,o,!0));const E=H_(0,null,null,1,0,null,null,null,null,null,null),C=lf(null,E,null,y,null,null,d,h,o,null,_);let k,Y;ky(C);try{const _e=this.componentDef;let ht,kt=null;_e.findHostDirectiveDefs?(ht=[],kt=new Map,_e.findHostDirectiveDefs(_e,ht,kt),ht.push(_e)):ht=[_e];const Qd=function U5(t,e){const n=t[P],r=ae;return t[r]=e,va(n,r,2,"#host",null)}(C,p),$m=function B5(t,e,n,r,i,s,o){const a=i[P];!function j5(t,e,n,r){for(const i of t)e.mergedAttrs=Ju(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(hf(e,e.mergedAttrs,!0),null!==n&&pS(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=A_(e,i[ji]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=lf(i,pA(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&z_(a,t,r.length-1),df(i,d),i[t.index]=d}(Qd,p,_e,ht,C,d,h);Y=JT(E,ae),p&&function H5(t,e,n,r){if(r)yy(t,n,["ng-version",$S.full]);else{const{attrs:i,classes:s}=function T3(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!dr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&yy(t,n,i),s&&s.length>0&&fS(t,n,s.join(" "))}}(h,_e,p,r),void 0!==n&&function G5(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Y,this.ngContentSelectors,n),k=function $5(t,e,n,r,i,s){const o=Vt(),a=i[P],u=bn(o,i);_A(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Yt(Os(i,a,o.directiveStart+l,o),i);vA(a,i,o),u&&Yt(u,i);const c=Os(i,a,o.directiveStart+o.componentOffset,o);if(t[rt]=i[rt]=c,null!==s)for(const l of s)l(c,e);return B_(a,o,t),c}($m,_e,ht,kt,C,[z5]),Q_(E,C,null)}finally{Py()}return new V5(this.componentType,k,ga(Y,C),C,Y)}}class V5 extends A6{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new O5(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;K_(s[P],s,i,e,n),this.previousInputValues.set(e,n),bc(Vn(this._tNode.index,s))}}get injector(){return new dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function z5(){const t=Vt();Eh(D()[P],t)}function ve(t){let e=function OA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(pr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=pf(t.inputs),o.inputTransforms=pf(t.inputTransforms),o.declaredInputs=pf(t.declaredInputs),o.outputs=pf(t.outputs);const a=i.hostBindings;a&&Q5(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&W5(t,u),c&&K5(t,c),nh(t.inputs,i.inputs),nh(t.declaredInputs,i.declaredInputs),nh(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),nh(o.inputTransforms,i.inputTransforms)),pr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ve&&(n=!1)}}e=Object.getPrototypeOf(e)}!function q5(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ju(i.hostAttrs,n=Ju(n,i.hostAttrs))}}(r)}function pf(t){return t===Mr?{}:t===ye?[]:t}function W5(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function K5(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Q5(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function UA(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function gf(t){return!!function Y_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Fr(t,e,n){return t[e]=n}function Xt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Jt(t,e,n,r){const i=D();return Xt(i,Xo(),e)&&(fe(),Or(Ke(),i,t,e,n,r)),Jt}function Ia(t,e,n,r){return Xt(t,Xo(),n)?e+X(n)+r:ee}function Ce(t,e,n,r,i,s,o,a){const u=D(),c=fe(),l=t+ae,d=c.firstCreatePass?function w9(t,e,n,r,i,s,o,a,u){const c=e.consts,l=va(e,t,4,o||null,Gi(c,a));G_(e,n,l,Gi(c,u)),Eh(e,l);const d=l.tView=H_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];kr(d,!1);const h=JA(c,u,d,t);Ih()&&Hh(c,u,h,d),Yt(h,u),df(u,u[l]=IA(h,u,h,d)),fh(d)&&j_(c,u,d),null!=o&&$_(u,d,a)}let JA=function ZA(t,e,n,r){return zi(!0),e[J].createComment("")};function Pc(t){return Wo(function lz(){return q.lFrame.contextLView}(),ae+t)}function ce(t,e,n){const r=D();return Xt(r,Xo(),e)&&$n(fe(),Ke(),r,t,e,r[J],n,!1),ce}function nv(t,e,n,r,i){const o=i?"class":"style";K_(t,n,e.inputs[o],o,r)}function ie(t,e,n,r){const i=D(),s=fe(),o=ae+t,a=i[J],u=s.firstCreatePass?function D9(t,e,n,r,i,s){const o=e.consts,u=va(e,t,2,r,Gi(o,i));return G_(e,n,u,Gi(o,s)),null!==u.attrs&&hf(u,u.attrs,!1),null!==u.mergedAttrs&&hf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=eM(s,i,u,a,e,t);i[o]=c;const l=fh(u);return kr(u,!0),pS(a,c,u),32!=(32&u.flags)&&Ih()&&Hh(s,i,c,u),0===function nz(){return q.lFrame.elementDepthCount}()&&Yt(c,i),function rz(){q.lFrame.elementDepthCount++}(),l&&(j_(s,i,u),B_(s,u,i)),null!==r&&$_(i,u),ie}function le(){let t=Vt();Ay()?function My(){q.lFrame.isParent=!1}():(t=t.parent,kr(t,!1));const e=t;(function sz(t){return q.skipHydrationRootTNode===t})(e)&&function cz(){q.skipHydrationRootTNode=null}(),function iz(){q.lFrame.elementDepthCount--}();const n=fe();return n.firstCreatePass&&(Eh(n,t),vy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Cz(t){return 0!=(8&t.flags)}(e)&&nv(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Dz(t){return 0!=(16&t.flags)}(e)&&nv(n,e,D(),e.stylesWithoutHost,!1),le}function Fe(t,e,n,r){return ie(t,e,n,r),le(),Fe}let eM=(t,e,n,r,i,s)=>(zi(!0),Bh(r,i,function m0(){return q.lFrame.currentNamespace}()));function wf(){return D()}function Oc(t){return!!t&&"function"==typeof t.then}function rM(t){return!!t&&"function"==typeof t.subscribe}function Bt(t,e,n,r){const i=D(),s=fe(),o=Vt();return function sM(t,e,n,r,i,s,o){const a=fh(r),c=t.firstCreatePass&&function DA(t){return t.cleanup||(t.cleanup=[])}(t),l=e[rt],d=function CA(t){return t[jo]||(t[jo]=[])}(e);let h=!0;if(3&r.type||o){const g=bn(r,e),m=o?o(g):g,y=d.length,_=o?C=>o(Oe(C[r.index])):r.index;let E=null;if(!o&&a&&(E=function x9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[jo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=aM(r,e,l,s,!1);const C=n.listen(m,i,s);d.push(s,C),c&&c.push(i,_,y,y+1)}}else s=aM(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const k=e[p[m]][p[m+1]].subscribe(s),Y=d.length;d.push(s,k),c&&c.push(i,r.index,Y,-(Y+1))}}}(s,i,i[J],o,t,e,r),Bt}function oM(t,e,n,r){try{return Nr(6,e,n),!1!==n(r)}catch(i){return TA(t,i),!1}finally{Nr(7,e,n)}}function aM(t,e,n,r,i){return function s(o){if(o===Function)return r;bc(t.componentOffset>-1?Vn(t.index,e):e);let u=oM(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=oM(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Re(t=1){return function gz(t){return(q.lFrame.contextLView=function mz(t,e){for(;t>0;)e=e[Ho],t--;return e}(t,q.lFrame.contextLView))[rt]}(t)}function Ma(t,e,n){return Fc(t,"",e,"",n),Ma}function Fc(t,e,n,r,i){const s=D(),o=Ia(s,e,n,r);return o!==ee&&$n(fe(),Ke(),s,t,o,s[J],i,!1),Fc}function If(t,e){return t<<17|e<<2}function Ki(t){return t>>17&32767}function sv(t){return 2|t}function Bs(t){return(131068&t)>>2}function ov(t,e){return-131069&t|e<<2}function av(t){return 1|t}function mM(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Ki(s):Bs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];U9(t[a],e)&&(u=!0,t[a+1]=r?av(l):sv(l)),a=r?Ki(l):Bs(l)}u&&(t[n+1]=r?sv(s):av(s))}function U9(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&sa(t,e)>=0}const Et={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yM(t){return t.substring(Et.key,Et.keyEnd)}function _M(t,e){const n=Et.textEnd;return n===e?-1:(e=Et.keyEnd=function H9(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Et.key=e,n),xa(t,e,n))}function xa(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Vr(t,e){for(let n=function j9(t){return function wM(t){Et.key=0,Et.keyEnd=0,Et.value=0,Et.valueEnd=0,Et.textEnd=t.length}(t),_M(t,xa(t,0,Et.textEnd))}(e);n>=0;n=_M(e,n))Un(t,yM(e),!0)}function mr(t,e,n,r){const i=fe(),s=function ai(t){const e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);i.firstUpdatePass&&function bM(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ln()],o=DM(t,n);MM(s,r)&&null===e&&!o&&(e=!1),e=function K9(t,e,n,r){const i=function Ry(t){const e=q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Lc(n=uv(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=uv(i,t,e,n,r),null===s){let u=function Q9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Bs(r))return t[Ki(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=uv(null,t,e,u[1],r),u=Lc(u,e.attrs,r),function Y9(t,e,n,r){t[Ki(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function X9(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Lc(r,t[s].hostAttrs,n);return Lc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function L9(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ki(o),u=Bs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||sa(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Ki(t[a+1]);t[r+1]=If(h,a),0!==h&&(t[h+1]=ov(t[h+1],r)),t[a+1]=function O9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=If(a,0),0!==a&&(t[a+1]=ov(t[a+1],r)),a=r;else t[r+1]=If(u,0),0===a?a=r:t[u+1]=ov(t[u+1],r),u=r;c&&(t[r+1]=sv(t[r+1])),mM(t,l,r,!0),mM(t,l,r,!1),function V9(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&sa(s,e)>=0&&(n[r+1]=av(n[r+1]))}(e,l,t,r,s),o=If(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(i,null,s,r);const o=D();if(n!==ee&&Xt(o,s,n)){const a=i.data[ln()];if(MM(a,r)&&!DM(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=ry(u,n||"")),nv(i,a,o,n,r)}else!function eW(t,e,n,r,i,s,o,a){i===ee&&(i=ye);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,g=f),null!==p&&SM(t,e,n,r,p,g,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[J],o[s+1],o[s+1]=function J9(t,e,n){if(null==n||""===n)return ye;const r=[],i=Wi(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function DM(t,e){return e>=t.expandoStartIndex}function uv(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Lc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Lc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Un(t,o,!!n||e[++s]))}return void 0===t?null:t}function SM(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function F9(t){return 1==(1&t)}(c)?AM(u,e,n,i,Bs(c),o):void 0;Cf(l)||(Cf(s)||function P9(t){return 2==(2&t)}(c)&&(s=AM(u,null,n,i,a,o)),function Oq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:qi.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=qi.Important),t.setStyle(n,r,i,s))}}(r,o,wh(ln(),n),i,s))}function AM(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ee&&(h=d?ye:void 0);let f=d?Hy(h,r):l===r?h:void 0;if(c&&!Cf(f)&&(f=Hy(u,r)),Cf(f)&&(a=f,o))return a;const p=t[i+1];i=o?Ki(p):Bs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Hy(u,r))}return a}function Cf(t){return void 0!==t}function MM(t,e){return 0!=(t.flags&(e?8:16))}function Ct(t,e=""){const n=D(),r=fe(),i=t+ae,s=r.firstCreatePass?va(r,i,1,e,null):r.data[i],o=xM(r,n,s,e,t);n[i]=o,Ih()&&Hh(r,n,o,s),kr(s,!1)}let xM=(t,e,n,r,i)=>(zi(!0),function Uh(t,e){return t.createText(e)}(e[J],r));function yr(t){return Df("",t,""),yr}function Df(t,e,n){const r=D(),i=Ia(r,t,e,n);return i!==ee&&function hi(t,e,n){const r=wh(e,t);!function tS(t,e,n){t.setValue(e,n)}(t[J],r,n)}(r,ln(),i),Df}function fi(t,e,n){mr(Un,Vr,Ia(D(),t,e,n),!0)}const Na="en-US";let JM=Na;function dv(t,e,n,r,i){if(t=W(t),Array.isArray(t))for(let s=0;s<t.length;s++)dv(t[s],e,n,r,i);else{const s=fe(),o=D(),a=Vt();let u=Ls(t)?t:W(t.provide);const c=kS(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Ls(t)||!t.multi){const f=new uc(c,i,T),p=fv(u,e,i?l:l+h,d);-1===p?(By(Th(a,o),s,u),hv(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=fv(u,e,l+h,d),p=fv(u,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){By(Th(a,o),s,u);const y=function I7(t,e,n,r,i){const s=new uc(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,Cx(s,i,r&&!n),s}(i?w7:v7,n.length,i,r,c);!i&&m&&(n[p].providerFactory=y),hv(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)}else hv(s,t,f>-1?f:p,Cx(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function hv(t,e,n,r){const i=Ls(e),s=function d6(t){return!!t.useClass}(e);if(i||s){const u=(s?W(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Cx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function fv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function v7(t,e,n,r){return pv(this.multi,[])}function w7(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Os(n,n[P],this.providerFactory.index,r);s=a.slice(0,o),pv(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],pv(i,s);return s}function pv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Be(t,e=[]){return n=>{n.providersResolver=(r,i)=>function _7(t,e,n){const r=fe();if(r.firstCreatePass){const i=pr(t);dv(n,r.data,r.blueprint,i,!0),dv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class $s{}class Dx{}class gv extends $s{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kA(this);const i=Ln(e);this._bootstrapComponents=di(i.bootstrap),this._r3Injector=WS(e,n,[{provide:$s,useValue:this},{provide:af,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class mv extends Dx{constructor(e){super(),this.moduleType=e}create(e){return new gv(this.moduleType,e,[])}}class bx extends $s{constructor(e){super(),this.componentFactoryResolver=new kA(this),this.instance=null;const n=new Jh([...e.providers,{provide:$s,useValue:this},{provide:af,useValue:this.componentFactoryResolver}],e.parent||Xh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function yv(t,e,n=null){return new bx({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let D7=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=MS(0,r.type),s=i.length>0?yv([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(U(Bn))}),e})();function Tx(t){t.getStandaloneInjector=e=>e.get(D7).getOrCreateStandaloneInjector(t)}function Ox(t,e,n,r,i,s){const o=e+n;return Xt(t,o,i)?Fr(t,o+1,s?r.call(s,i):r(i)):function Hc(t,e){const n=t[e];return n===ee?void 0:n}(t,o+1)}function vv(t,e){const n=fe();let r;const i=t+ae;n.firstCreatePass?(r=function j7(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Ns(r.type)),a=En(T);try{const u=bh(!1),c=s();return bh(u),function C9(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,D(),i,c),c}finally{En(a)}}function wv(t,e,n){const r=t+ae,i=D(),s=Wo(i,r);return function Gc(t,e){return t[P].data[e].pure}(i,r)?Ox(i,cn(),e,s.transform,n,s):s.transform(n)}function K7(t,e,n,r=!0){const i=e[P];if(function Sq(t,e,n,r){const i=Ft+r,s=n.length;r>0&&(n[i-1][fr]=e),r<s-Ft?(e[fr]=n[i],R0(n,Ft+r,e)):(n.push(e),e[fr]=null),e[qe]=n;const o=e[tc];null!==o&&n!==o&&function Aq(t,e){const n=t[zo];e[it]!==e[qe][qe][it]&&(t[xT]=!0),null===n?t[zo]=[e]:n.push(e)}(o,e);const a=e[xr];null!==a&&a.insertView(t),e[te]|=128}(i,e,t,n),r){const s=i_(n,t),o=e[J],a=$h(o,t[Rr]);null!==a&&function Dq(t,e,n,r,i,s){r[Xe]=i,r[Qt]=e,_c(t,r,n,1,i,s)}(i,t[Qt],o,e,a,s)}}let pi=(()=>{class e{}return e.__NG_ELEMENT_ID__=X7,e})();const Q7=pi,Y7=class extends Q7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function W7(t,e,n,r){const i=e.tView,a=lf(t,i,n,4096&t[te]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[tc]=t[e.index];const c=t[xr];return null!==c&&(a[xr]=c.createEmbeddedView(i)),Q_(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Ac(i)}};function X7(){return Mf(Vt(),D())}function Mf(t,e){return 4&t.type?new Y7(e,t,ga(t,e)):null}let _r=(()=>{class e{}return e.__NG_ELEMENT_ID__=r8,e})();function r8(){return function qx(t,e){let n;const r=e[t.index];return un(r)?n=r:(n=IA(r,e,null,t),e[t.index]=n,df(e,n)),Wx(n,e,t,r),new Gx(n,t,e)}(Vt(),D())}const i8=_r,Gx=class extends i8{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ga(this._hostTNode,this._hostLView)}get injector(){return new dn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Sh(this._hostTNode,this._hostLView);if(Ly(e)){const n=lc(e,this._hostLView),r=cc(e);return new dn(n[P].data[r+8],n)}return new dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=zx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function hc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new Mc(he(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(Bn,null);m&&(s=m)}he(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Z3(t){return un(t[qe])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[qe],l=new Gx(c,c[Qt],c[qe]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return K7(a,i,o,!r),e.attachToViewContainerRef(),R0(Ev(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=zx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=jh(this._lContainer,n);r&&(xh(Ev(this._lContainer),n),e_(r[P],r))}detach(e){const n=this._adjustIndex(e,-1),r=jh(this._lContainer,n);return r&&null!=xh(Ev(this._lContainer),n)?new Ac(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function zx(t){return t[8]}function Ev(t){return t[8]||(t[8]=[])}let Wx=function Kx(t,e,n,r){if(t[Rr])return;let i;i=8&n.type?Oe(r):function s8(t,e){const n=t[J],r=n.createComment(""),i=bn(e,t);return Fs(n,$h(n,i),r,function Nq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Rr]=i};function zc(t,e){return Mf(t,e)}const kv=new O("Application Initializer");let Pv=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=F(kv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Oc(o))r.push(o);else if(rM(o)){const a=new Promise((u,c)=>{o.subscribe({complete:u,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),v1=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const gi=new O("LocaleId",{providedIn:"root",factory:()=>F(gi,oe.Optional|oe.SkipSelf)||function O8(){return typeof $localize<"u"&&$localize.locale||Na}()});let Nf=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Yn(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class V8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let w1=(()=>{var t;class e{compileModuleSync(r){return new mv(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=di(Ln(r).declarations).reduce((a,u)=>{const c=he(u);return c&&a.push(new Mc(c)),a},[]);return new V8(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const D1=new O(""),Pf=new O("");let Uv,Lv=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Uv||(function iK(t){Uv=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(U(be),U(Vv),U(Pf))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})(),Vv=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Uv?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Qi=null;const b1=new O("AllowMultipleToken"),Bv=new O("PlatformDestroyListeners"),jv=new O("appBootstrapListener");class S1{constructor(e,n){this.name=e,this.token=n}}function M1(t,e,n=[]){const r=`Platform: ${e}`,i=new O(r);return(s=[])=>{let o=$v();if(!o||o.injector.get(b1,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function aK(t){if(Qi&&!Qi.get(b1,!1))throw new S(400,!1);(function T1(){!function V3(t){$T=t}(()=>{throw new S(600,!1)})})(),Qi=t;const e=t.get(R1);(function A1(t){t.get(PS,null)?.forEach(n=>n())})(t)}(function x1(t=[],e){return hn.create({name:e,providers:[{provide:y_,useValue:"platform"},{provide:Bv,useValue:new Set([()=>Qi=null])},...t]})}(a,r))}return function cK(t){const e=$v();if(!e)throw new S(401,!1);return e}()}}function $v(){return Qi?.get(R1)??null}let R1=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function lK(t="zone.js",e){return"noop"===t?new q6:"zone.js"===t?new be(e):t}(i?.ngZone,function N1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function C7(t,e,n){return new gv(t,e,n)}(r.moduleType,this.injector,function L1(t){return[{provide:be,useFactory:t},{provide:Ec,multi:!0,useFactory:()=>{const e=F(hK,{optional:!0});return()=>e.initialize()}},{provide:F1,useFactory:dK},{provide:XS,useFactory:JS}]}(()=>s)),a=o.injector.get(Vs,null);return s.runOutsideAngular(()=>{const u=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{Of(this._modules,o),u.unsubscribe()})}),function k1(t,e,n){try{const r=n();return Oc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const u=o.injector.get(Pv);return u.runInitializers(),u.donePromise.then(()=>(function ZM(t){Xn(t,"Expected localeId to be defined"),"string"==typeof t&&(JM=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(gi,Na)||Na),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=P1({},i);return function sK(t,e,n){const r=new mv(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(Oa);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new S(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Bv,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(U(hn))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function P1(t,e){return Array.isArray(e)?e.reduce(P1,t):{...t,...e}}let Oa=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(F1),this.zoneIsStable=F(XS),this.componentTypes=[],this.components=[],this.isStable=F(Nf).hasPendingTasks.pipe(cr(r=>r?G(!1):this.zoneIsStable),function YG(t,e=Vi){return t=t??XG,vt((n,r)=>{let i,s=!0;n.subscribe(ft(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),oT()),this._injector=F(Bn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof US;if(!this._injector.get(Pv).done)throw!s&&function Bo(t){const e=he(t)||Ot(t)||an(t);return null!==e&&e.standalone}(r),new S(405,!1);let a;a=s?r:this._injector.get(af).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const u=function oK(t){return t.isBoundToModule}(a)?void 0:this._injector.get($s),l=a.create(hn.NULL,[],i||a.selector,u),d=l.location.nativeElement,h=l.injector.get(D1,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Of(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Of(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(jv,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Of(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Of(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const F1=new O("",{providedIn:"root",factory:()=>F(Vs).handleError.bind(void 0)});function dK(){const t=F(be),e=F(Vs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let hK=(()=>{var t;class e{constructor(){this.zone=F(be),this.applicationRef=F(Oa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Ff=(()=>{class e{}return e.__NG_ELEMENT_ID__=pK,e})();function pK(t){return function gK(t,e,n){if(Rs(t)&&!n){const r=Vn(t.index,e);return new Ac(r,r)}return 47&t.type?new Ac(e[it],e):null}(Vt(),D(),16==(16&t))}class j1{constructor(){}supports(e){return gf(e)}create(e){return new IK(e)}}const wK=(t,e)=>e;class IK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||wK}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<H1(r,i,s)?n:r,a=H1(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!gf(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function n9(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new EK(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new $1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class EK{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class $1{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new CK,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function H1(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function z1(){return new Uf([new j1])}let Uf=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||z1()),deps:[[e,new Nh,new Tn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:z1}),e})();const AK=M1(null,"core",[]);let MK=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Oa))},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({}),e})();function Fa(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Kv=null;function Yi(){return Kv}class HK{}const Hn=new O("DocumentToken");let Qv=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return F(zK)},providedIn:"platform"}),e})();const GK=new O("Location Initialized");let zK=(()=>{var t;class e extends Qv{constructor(){super(),this._doc=F(Hn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yi().getBaseHref(this._doc)}onPopState(r){const i=Yi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Yi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function Yv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function tR(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function mi(t){return t&&"?"!==t[0]?"?"+t:t}let Gs=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return F(rR)},providedIn:"root"}),e})();const nR=new O("appBaseHref");let rR=(()=>{var t;class e extends Gs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(Hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Yv(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+mi(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+mi(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+mi(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Qv),U(nR,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),qK=(()=>{var t;class e extends Gs{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=Yv(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+mi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+mi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Qv),U(nR,8))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})(),Xv=(()=>{var t;class e{constructor(r){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function QK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(tR(iR(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+mi(i))}normalize(r){return e.stripTrailingSlash(function KK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,iR(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+mi(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+mi(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=mi,t.joinWithSlash=Yv,t.stripTrailingSlash=tR,t.\u0275fac=function(r){return new(r||t)(U(Gs))},t.\u0275prov=$({token:t,factory:function(){return function WK(){return new Xv(U(Gs))}()},providedIn:"root"}),e})();function iR(t){return t.replace(/\/index.html$/,"")}function fR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class OQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Va=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new OQ(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,a),mR(u,s)}});for(let s=0,o=i.length;s<o;s++){const u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{mR(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(T(_r),T(pi),T(Uf))},t.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function mR(t,e){t.context.$implicit=e.item}let Ua=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new FQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){yR("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){yR("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(T(_r),T(pi))},t.\u0275dir=K({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class FQ{constructor(){this.$implicit=null,this.ngIf=null}}function yR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}class UQ{createSubscription(e,n){return zT(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){zT(()=>e.unsubscribe())}}class BQ{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const jQ=new BQ,$Q=new UQ;let vR=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Oc(r))return jQ;if(rM(r))return $Q;throw function wr(t,e){return new S(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(T(Ff,16))},t.\u0275pipe=Cn({name:"async",type:t,pure:!1,standalone:!0}),e})(),hw=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({}),e})();function ER(t){return"server"===t}let cY=(()=>{var t;class e{}return(t=e).\u0275prov=$({token:t,providedIn:"root",factory:()=>new lY(U(Hn),window)}),e})();class lY{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function dY(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class CR{}class PY extends HK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class gw extends PY{static makeCurrent(){!function $K(t){Kv||(Kv=t)}(new gw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function OY(){return Jc=Jc||document.querySelector("base"),Jc?Jc.getAttribute("href"):null}();return null==n?null:function FY(t){Zf=Zf||document.createElement("a"),Zf.setAttribute("href",t);const e=Zf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Jc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fR(document.cookie,e)}}let Zf,Jc=null,VY=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const mw=new O("EventManagerPlugins");let AR=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(U(mw),U(be))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();class MR{constructor(e){this._doc=e}}const yw="ng-app-id";let xR=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ER(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${yw}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(yw),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(yw,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Hn),U(Zh),U(OS,8),U(ci))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const _w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vw=/%COMP%/g,$Y=new O("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function NR(t,e){return e.map(n=>n.replace(vw,t))}let kR=(()=>{var t;class e{constructor(r,i,s,o,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ER(u),this.defaultRenderer=new ww(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===lr.ShadowDom&&(i={...i,encapsulation:lr.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof OR?s.applyToHost(r):s instanceof Iw&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case lr.Emulated:o=new OR(c,l,i,this.appId,d,a,u,h);break;case lr.ShadowDom:return new qY(c,l,r,i,a,u,this.nonce,h);default:o=new Iw(c,l,i,d,a,u,h)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(U(AR),U(xR),U(Zh),U($Y),U(Hn),U(ci),U(be),U(OS))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();class ww{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_w[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(PR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(PR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=_w[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=_w[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(qi.DashCase|qi.Important)?e.style.setProperty(n,r,i&qi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&qi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Yi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function PR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class qY extends ww{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=NR(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Iw extends ww{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?NR(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class OR extends Iw{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function HY(t){return"_ngcontent-%COMP%".replace(vw,t)}(c),this.hostAttr=function GY(t){return"_nghost-%COMP%".replace(vw,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let WY=(()=>{var t;class e extends MR{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Hn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const FR=["alt","control","meta","shift"],KY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let YY=(()=>{var t;class e extends MR{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yi().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),FR.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=KY[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),FR.forEach(a=>{a!==s&&(0,QY[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Hn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const VR=[{provide:ci,useValue:"browser"},{provide:PS,useValue:function XY(){gw.makeCurrent()},multi:!0},{provide:Hn,useFactory:function ZY(){return function Bq(t){a_=t}(document),document},deps:[]}],eX=M1(AK,"browser",VR),tX=new O(""),UR=[{provide:Pf,useClass:class LY{addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Yi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:D1,useClass:Lv,deps:[be,Vv,Pf]},{provide:Lv,useClass:Lv,deps:[be,Vv,Pf]}],BR=[{provide:y_,useValue:"root"},{provide:Vs,useFactory:function JY(){return new Vs},deps:[]},{provide:mw,useClass:WY,multi:!0,deps:[Hn,be,ci]},{provide:mw,useClass:YY,multi:!0,deps:[Hn]},kR,xR,AR,{provide:jS,useExisting:kR},{provide:CR,useClass:VY,deps:[]},[]];let nX=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Zh,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(U(tX,12))},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({providers:[...BR,...UR],imports:[hw,MK]}),e})(),jR=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Hn))},t.\u0275prov=$({token:t,factory:function(r){let i=null;return i=r?new r:function iX(){return new jR(U(Hn))}(),i},providedIn:"root"}),e})();function Ba(t,e){return Me(e)?Pt(t,e,1):Pt(t,1)}function vi(t,e){return vt((n,r)=>{let i=0;n.subscribe(ft(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Zc(t){return vt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}typeof window<"u"&&window;class ep{}class tp{}class Ur{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ur?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ur;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ur?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class cX{encodeKey(e){return zR(e)}encodeValue(e){return zR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const dX=/%(\d[a-f0-9])/gi,hX={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zR(t){return encodeURIComponent(t).replace(dX,(e,n)=>hX[n]??e)}function np(t){return`${t}`}class Ji{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new cX,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lX(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(np):[np(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Ji({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(np(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(np(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class fX{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function qR(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function WR(t){return typeof Blob<"u"&&t instanceof Blob}function KR(t){return typeof FormData<"u"&&t instanceof FormData}class el{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function pX(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ur),this.context||(this.context=new fX),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Ji,this.urlWithParams=n}serializeBody(){return null===this.body?null:qR(this.body)||WR(this.body)||KR(this.body)||function gX(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ji?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||KR(this.body)?null:WR(this.body)?this.body.type||null:qR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ji?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new el(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var ja=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ja||{});class Cw{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ur,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Dw extends Cw{constructor(e={}){super(e),this.type=ja.ResponseHeader}clone(e={}){return new Dw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $a extends Cw{constructor(e={}){super(e),this.type=ja.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new $a({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class QR extends Cw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function bw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let YR=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof el)o=r;else{let c,l;c=s.headers instanceof Ur?s.headers:new Ur(s.headers),s.params&&(l=s.params instanceof Ji?s.params:new Ji({fromObject:s.params})),o=new el(r,i,void 0!==s.body?s.body:null,{headers:c,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=G(o).pipe(Ba(c=>this.handler.handle(c)));if(r instanceof el||"events"===s.observe)return a;const u=a.pipe(vi(c=>c instanceof $a));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(se(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return u.pipe(se(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return u.pipe(se(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return u.pipe(se(c=>c.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Ji).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,bw(s,i))}post(r,i,s={}){return this.request("POST",r,bw(s,i))}put(r,i,s={}){return this.request("PUT",r,bw(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(U(ep))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();function ZR(t,e){return e(t)}function yX(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const vX=new O(""),tl=new O(""),eN=new O("");function wX(){let t=null;return(e,n)=>{null===t&&(t=(F(vX,{optional:!0})??[]).reduceRight(yX,ZR));const r=F(Nf),i=r.add();return t(e,n).pipe(Zc(()=>r.remove(i)))}}let tN=(()=>{var t;class e extends ep{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=F(Nf)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(tl),...this.injector.get(eN,[])]));this.chain=s.reduceRight((o,a)=>function _X(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),ZR)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Zc(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(U(tp),U(Bn))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const DX=/^\)\]\}',?\n/;let rN=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new S(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?pt(i.\u0275loadImpl()):G(null)).pipe(cr(()=>new ze(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,y)=>a.setRequestHeader(m,y.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const m=r.detectContentTypeHeader();null!==m&&a.setRequestHeader("Content-Type",m)}if(r.responseType){const m=r.responseType.toLowerCase();a.responseType="json"!==m?m:"text"}const u=r.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=a.statusText||"OK",y=new Ur(a.getAllResponseHeaders()),_=function bX(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return c=new Dw({headers:y,status:a.status,statusText:m,url:_}),c},d=()=>{let{headers:m,status:y,statusText:_,url:E}=l(),C=null;204!==y&&(C=typeof a.response>"u"?a.responseText:a.response),0===y&&(y=C?200:0);let k=y>=200&&y<300;if("json"===r.responseType&&"string"==typeof C){const Y=C;C=C.replace(DX,"");try{C=""!==C?JSON.parse(C):null}catch(_e){C=Y,k&&(k=!1,C={error:_e,text:C})}}k?(o.next(new $a({body:C,headers:m,status:y,statusText:_,url:E||void 0})),o.complete()):o.error(new QR({error:C,headers:m,status:y,statusText:_,url:E||void 0}))},h=m=>{const{url:y}=l(),_=new QR({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});o.error(_)};let f=!1;const p=m=>{f||(o.next(l()),f=!0);let y={type:ja.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===r.responseType&&a.responseText&&(y.partialText=a.responseText),o.next(y)},g=m=>{let y={type:ja.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",p),null!==u&&a.upload&&a.upload.addEventListener("progress",g)),a.send(u),o.next({type:ja.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",p),null!==u&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(U(CR))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();const Tw=new O("XSRF_ENABLED"),iN=new O("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),sN=new O("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class oN{}let AX=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=fR(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(U(Hn),U(ci),U(iN))},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();function MX(t,e){const n=t.url.toLowerCase();if(!F(Tw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=F(oN).getToken(),i=F(sN);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Zi=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Zi||{});function zs(t,e){return{\u0275kind:t,\u0275providers:e}}function xX(...t){const e=[YR,rN,tN,{provide:ep,useExisting:tN},{provide:tp,useExisting:rN},{provide:tl,useValue:MX,multi:!0},{provide:Tw,useValue:!0},{provide:oN,useClass:AX}];for(const n of t)e.push(...n.\u0275providers);return function p_(t){return{\u0275providers:t}}(e)}const aN=new O("LEGACY_INTERCEPTOR_FN");let NX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({providers:[xX(zs(Zi.LegacyInterceptors,[{provide:aN,useFactory:wX},{provide:tl,useExisting:aN,multi:!0}]))]}),e})();function uN(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){uN(s,r,i,o,a,"next",u)}function a(u){uN(s,r,i,o,a,"throw",u)}o(void 0)})}}const cN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Aw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new jX;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ip=function(t){return function(t){const e=cN(t);return Aw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},sp=function(t){try{return Aw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},op=()=>{try{return function GX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},dN=()=>{var t;return null===(t=op())||void 0===t?void 0:t.config};class ap{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function zn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function qs(){try{return"object"==typeof indexedDB}catch{return!1}}function nl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function xw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Br.prototype.create)}}class Br{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function nJ(t,e){return t.replace(rJ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ir(i,`${this.serviceName}: ${o} (${i}).`,r)}}const rJ=/\{\$([^}]+)}/g;function Rw(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fN(s)&&fN(o)){if(!Rw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fN(t){return null!==t&&"object"==typeof t}function pN(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class sJ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function oJ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Nw),void 0===i.error&&(i.error=Nw),void 0===i.complete&&(i.complete=Nw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nw(){}const aJ=1e3,uJ=2,cJ=144e5,lJ=.5;function Pw(t,e=aJ,n=uJ){const r=e*Math.pow(n,t),i=Math.round(lJ*r*(Math.random()-.5)*2);return Math.min(cJ,r+i)}function qn(t){return t&&t._delegate?t._delegate:t}class Zt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ws="[DEFAULT]";class hJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ap;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function pJ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ws?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Ow=[];var me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(me||{});const gN={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},mJ=me.INFO,yJ={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},_J=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=yJ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ha{constructor(e){this.name=e,this._logLevel=mJ,this._logHandler=_J,this._userLogHandler=null,Ow.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?gN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const vJ=(t,e)=>e.some(n=>t instanceof n);let mN,yN;const _N=new WeakMap,Fw=new WeakMap,vN=new WeakMap,Lw=new WeakMap,Vw=new WeakMap;let Uw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Fw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||vN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function TJ(t){return"function"==typeof t?function bJ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function IJ(){return yN||(yN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Bw(this),e),es(_N.get(this))}:function(...e){return es(t.apply(Bw(this),e))}:function(e,...n){const r=t.call(Bw(this),e,...n);return vN.set(r,e.sort?e.sort():[e]),es(r)}}(t):(t instanceof IDBTransaction&&function CJ(t){if(Fw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fw.set(t,e)}(t),vJ(t,function wJ(){return mN||(mN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Uw):t)}function es(t){if(t instanceof IDBRequest)return function EJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(es(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_N.set(n,t)}).catch(()=>{}),Vw.set(e,t),e}(t);if(Lw.has(t))return Lw.get(t);const e=TJ(t);return e!==t&&(Lw.set(t,e),Vw.set(e,t)),e}const Bw=t=>Vw.get(t),AJ=["get","getKey","getAll","getAllKeys","count"],MJ=["put","add","delete","clear"],jw=new Map;function wN(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(jw.get(e))return jw.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=MJ.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!AJ.includes(r))return;const o=function(u){return(n=n||v(function*(c,...l){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[r](...l),s&&d.done]))[0]})).apply(this,arguments)};return jw.set(e,o),o}var EN,CN;!function DJ(t){Uw=t(Uw)}(t=>({...t,get:(e,n,r)=>wN(e,n)||t.get(e,n,r),has:(e,n)=>!!wN(e,n)||t.has(e,n)}));class xJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function RJ(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const $w="@firebase/app",Ks=new Ha("@firebase/app"),cp="[DEFAULT]",rZ={[$w]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qs=new Map,lp=new Map;function iZ(t,e){try{t.container.addComponent(e)}catch(n){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mn(t){const e=t.name;if(lp.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,t);for(const n of Qs.values())iZ(n,t);return!0}function dp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const wi=new Br("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class oZ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}const rl="9.23.0";function bN(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:cp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw wi.create("bad-app-name",{appName:String(i)});if(n||(n=dN()),!n)throw wi.create("no-options");const s=Qs.get(i);if(s){if(Rw(n,s.options)&&Rw(r,s.config))return s;throw wi.create("duplicate-app",{appName:i})}const o=new gJ(i);for(const u of lp.values())o.addComponent(u);const a=new oZ(n,r,o);return Qs.set(i,a),a}function TN(t=cp){const e=Qs.get(t);if(!e&&t===cp&&dN())return bN();if(!e)throw wi.create("no-app",{appName:t});return e}function SN(){return Array.from(Qs.values())}function ot(t,e,n){var r;let i=null!==(r=rZ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ks.warn(a.join(" "))}mn(new Zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const aZ="firebase-heartbeat-database",uZ=1,il="firebase-heartbeat-store";let Hw=null;function AN(){return Hw||(Hw=function SJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=es(o);return r&&o.addEventListener("upgradeneeded",u=>{r(es(o.result),u.oldVersion,u.newVersion,es(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(aZ,uZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(il)}}).catch(t=>{throw wi.create("idb-open",{originalErrorMessage:t.message})})),Hw}function MN(t,e){return(CN=CN||v(function*(n,r){try{const s=(yield AN()).transaction(il,"readwrite");yield s.objectStore(il).put(r,xN(n)),yield s.done}catch(i){if(i instanceof Ir)Ks.warn(i.message);else{const s=wi.create("idb-set",{originalErrorMessage:i?.message});Ks.warn(s.message)}}})).apply(this,arguments)}function xN(t){return`${t.name}!${t.options.appId}`}class hZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=RN();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=RN(),{heartbeatsToSend:r,unsentEntries:i}=function fZ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=ip(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function RN(){return(new Date).toISOString().substring(0,10)}class pZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!qs()&&nl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function cZ(t){return(EN=EN||v(function*(e){try{return yield(yield AN()).transaction(il).objectStore(il).get(xN(e))}catch(n){if(n instanceof Ir)Ks.warn(n.message);else{const r=wi.create("idb-get",{originalErrorMessage:n?.message});Ks.warn(r.message)}}})).apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return MN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return MN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function NN(t){return ip(JSON.stringify({version:2,heartbeats:t})).length}!function gZ(t){mn(new Zt("platform-logger",e=>new xJ(e),"PRIVATE")),mn(new Zt("heartbeat",e=>new hZ(e),"PRIVATE")),ot($w,"0.9.13",t),ot($w,"0.9.13","esm2017"),ot("fire-js","")}(""),ot("firebase","9.23.0","app");const _Z=(t,e)=>e.some(n=>t instanceof n);let kN,PN;const ON=new WeakMap,Gw=new WeakMap,FN=new WeakMap,zw=new WeakMap,qw=new WeakMap;let Ww={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Gw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||FN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function bZ(t){return"function"==typeof t?function DZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function wZ(){return PN||(PN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Kw(this),e),ts(ON.get(this))}:function(...e){return ts(t.apply(Kw(this),e))}:function(e,...n){const r=t.call(Kw(this),e,...n);return FN.set(r,e.sort?e.sort():[e]),ts(r)}}(t):(t instanceof IDBTransaction&&function EZ(t){if(Gw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Gw.set(t,e)}(t),_Z(t,function vZ(){return kN||(kN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Ww):t)}function ts(t){if(t instanceof IDBRequest)return function IZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ts(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ON.set(n,t)}).catch(()=>{}),qw.set(e,t),e}(t);if(zw.has(t))return zw.get(t);const e=bZ(t);return e!==t&&(zw.set(t,e),qw.set(e,t)),e}const Kw=t=>qw.get(t),SZ=["get","getKey","getAll","getAllKeys","count"],AZ=["put","add","delete","clear"],Qw=new Map;function LN(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Qw.get(e))return Qw.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=AZ.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!SZ.includes(r))return;const o=function(u){return(n=n||v(function*(c,...l){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[r](...l),s&&d.done]))[0]})).apply(this,arguments)};return Qw.set(e,o),o}var VN,UN,BN,jN,$N,HN,GN,zN,qN,WN,KN,QN,YN,XN,JN,ZN;!function CZ(t){Ww=t(Ww)}(t=>({...t,get:(e,n,r)=>LN(e,n)||t.get(e,n,r),has:(e,n)=>!!LN(e,n)||t.has(e,n)}));const nk="@firebase/installations",Yw="0.6.4",rk=1e4,ik=`w:${Yw}`,sk="FIS_v2",MZ="https://firebaseinstallations.googleapis.com/v1",xZ=36e5,Ii=new Br("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ok(t){return t instanceof Ir&&t.code.includes("request-failed")}function Xw({projectId:t}){return`${MZ}/projects/${t}/installations`}function ak(t){return{token:t.token,requestStatus:2,expiresIn:PZ(t.expiresIn),creationTime:Date.now()}}function Jw(t,e){return(VN=VN||v(function*(n,r){const s=(yield r.json()).error;return Ii.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})})).apply(this,arguments)}function uk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Zw(t){return(UN=UN||v(function*(e){const n=yield e();return n.status>=500&&n.status<600?e():n})).apply(this,arguments)}function PZ(t){return Number(t.replace("s","000"))}function lk(t){return new Promise(e=>{setTimeout(e,t)})}const VZ=/^[cdef][\w-]{21}$/,eI="";function UZ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function BZ(t){return function LZ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return VZ.test(n)?n:eI}catch{return eI}}function Ga(t){return`${t.appName}!${t.appId}`}const za=new Map;function dk(t,e){const n=Ga(t);hk(n,e),function HZ(t,e){const n=function fk(){return!Ys&&"BroadcastChannel"in self&&(Ys=new BroadcastChannel("[Firebase] FID Change"),Ys.onmessage=t=>{hk(t.data.key,t.data.fid)}),Ys}();n&&n.postMessage({key:t,fid:e}),function pk(){0===za.size&&Ys&&(Ys.close(),Ys=null)}()}(n,e)}function hk(t,e){const n=za.get(t);if(n)for(const r of n)r(e)}let Ys=null;const GZ="firebase-installations-database",zZ=1,Xs="firebase-installations-store";let tI=null;function nI(){return tI||(tI=function TZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ts(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ts(o.result),u.oldVersion,u.newVersion,ts(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(GZ,zZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Xs)}})),tI}function hp(t,e){return(jN=jN||v(function*(n,r){const i=Ga(n),o=(yield nI()).transaction(Xs,"readwrite"),a=o.objectStore(Xs),u=yield a.get(i);return yield a.put(r,i),yield o.done,(!u||u.fid!==r.fid)&&dk(n,r.fid),r})).apply(this,arguments)}function rI(t){return($N=$N||v(function*(e){const n=Ga(e),i=(yield nI()).transaction(Xs,"readwrite");yield i.objectStore(Xs).delete(n),yield i.done})).apply(this,arguments)}function sl(t,e){return(HN=HN||v(function*(n,r){const i=Ga(n),o=(yield nI()).transaction(Xs,"readwrite"),a=o.objectStore(Xs),u=yield a.get(i),c=r(u);return void 0===c?yield a.delete(i):yield a.put(c,i),yield o.done,c&&(!u||u.fid!==c.fid)&&dk(n,c.fid),c})).apply(this,arguments)}function iI(t){return(GN=GN||v(function*(e){let n;const r=yield sl(e.appConfig,i=>{const s=function qZ(t){return mk(t||{fid:UZ(),registrationStatus:0})}(i),o=function WZ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ii.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function KZ(t,e){return(zN=zN||v(function*(n,r){try{const i=yield function FZ(t,e){return(BN=BN||v(function*({appConfig:n,heartbeatServiceProvider:r},{fid:i}){const s=Xw(n),o=uk(n),a=r.getImmediate({optional:!0});if(a){const d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const c={method:"POST",headers:o,body:JSON.stringify({fid:i,authVersion:sk,appId:n.appId,sdkVersion:ik})},l=yield Zw(()=>fetch(s,c));if(l.ok){const d=yield l.json();return{fid:d.fid||i,registrationStatus:2,refreshToken:d.refreshToken,authToken:ak(d.authToken)}}throw yield Jw("Create Installation",l)})).apply(this,arguments)}(n,r);return hp(n.appConfig,i)}catch(i){throw ok(i)&&409===i.customData.serverCode?yield rI(n.appConfig):yield hp(n.appConfig,{fid:r.fid,registrationStatus:0}),i}})).apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:QZ(t)}:{installationEntry:e}}(e,s);return n=o.registrationPromise,o.installationEntry});return r.fid===eI?{installationEntry:yield n}:{installationEntry:r,registrationPromise:n}})).apply(this,arguments)}function QZ(t){return(qN=qN||v(function*(e){let n=yield gk(e.appConfig);for(;1===n.registrationStatus;)yield lk(100),n=yield gk(e.appConfig);if(0===n.registrationStatus){const{installationEntry:r,registrationPromise:i}=yield iI(e);return i||r}return n})).apply(this,arguments)}function gk(t){return sl(t,e=>{if(!e)throw Ii.create("installation-not-found");return mk(e)})}function mk(t){return function YZ(t){return 1===t.registrationStatus&&t.registrationTime+rk<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function XZ(t,e){return(WN=WN||v(function*({appConfig:n,heartbeatServiceProvider:r},i){const s=function JZ(t,{fid:e}){return`${Xw(t)}/${e}/authTokens:generate`}(n,i),o=function ck(t,{refreshToken:e}){const n=uk(t);return n.append("Authorization",function OZ(t){return`${sk} ${t}`}(e)),n}(n,i),a=r.getImmediate({optional:!0});if(a){const d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const c={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:ik,appId:n.appId}})},l=yield Zw(()=>fetch(s,c));if(l.ok)return ak(yield l.json());throw yield Jw("Generate Auth Token",l)})).apply(this,arguments)}function sI(t){return(KN=KN||v(function*(e,n=!1){let r;const i=yield sl(e.appConfig,o=>{if(!_k(o))throw Ii.create("not-registered");const a=o.authToken;if(!n&&function tee(t){return 2===t.requestStatus&&!function nee(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+xZ}(t)}(a))return o;if(1===a.requestStatus)return r=function ZZ(t,e){return(QN=QN||v(function*(n,r){let i=yield yk(n.appConfig);for(;1===i.authToken.requestStatus;)yield lk(100),i=yield yk(n.appConfig);const s=i.authToken;return 0===s.requestStatus?sI(n,r):s})).apply(this,arguments)}(e,n),o;{if(!navigator.onLine)throw Ii.create("app-offline");const u=function ree(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return r=function eee(t,e){return(YN=YN||v(function*(n,r){try{const i=yield XZ(n,r),s=Object.assign(Object.assign({},r),{authToken:i});return yield hp(n.appConfig,s),i}catch(i){if(!ok(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode){const s=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}});yield hp(n.appConfig,s)}else yield rI(n.appConfig);throw i}})).apply(this,arguments)}(e,u),u}});return r?yield r:i.authToken})).apply(this,arguments)}function yk(t){return sl(t,e=>{if(!_k(e))throw Ii.create("not-registered");return function iee(t){return 1===t.requestStatus&&t.requestTime+rk<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function _k(t){return void 0!==t&&2===t.registrationStatus}function oI(t){return Ii.create("missing-app-config-values",{valueName:t})}const vk="installations",hee=t=>{const e=t.getProvider("app").getImmediate(),n=function lee(t){if(!t||!t.options)throw oI("App Configuration");if(!t.name)throw oI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw oI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:dp(e,"heartbeat"),_delete:()=>Promise.resolve()}},fee=t=>{const n=dp(t.getProvider("app").getImmediate(),vk).getImmediate();return{getId:()=>function see(t){return(XN=XN||v(function*(e){const n=e,{installationEntry:r,registrationPromise:i}=yield iI(n);return i?i.catch(console.error):sI(n).catch(console.error),r.fid})).apply(this,arguments)}(n),getToken:i=>function oee(t){return(JN=JN||v(function*(e,n=!1){const r=e;return yield function aee(t){return(ZN=ZN||v(function*(e){const{registrationPromise:n}=yield iI(e);n&&(yield n)})).apply(this,arguments)}(r),(yield sI(r,n)).token})).apply(this,arguments)}(n,i)}};var Ck;(function pee(){mn(new Zt(vk,hee,"PUBLIC")),mn(new Zt("installations-internal",fee,"PRIVATE"))})(),ot(nk,Yw),ot(nk,Yw,"esm2017");const aI="@firebase/remote-config",xn=new Br("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bee{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Tee(t=navigator){return t.languages&&t.languages[0]||t.language}class See{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Tee()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((y,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(y){let _="fetch-client-network";throw"AbortError"===y?.name&&(_="fetch-timeout"),xn.create(_,{originalErrorMessage:y?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let y;try{y=yield h.json()}catch(_){throw xn.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=y.entries,m=y.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw xn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class xee{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return v(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return v(function*(){yield function Aee(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Mee(t){if(!(t instanceof Ir&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Pw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class kee{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pp(t,e){const n=t.target.error||void 0;return xn.create(e,{originalErrorMessage:n&&n?.message})}const Js="app_namespace_store";class Lee{constructor(e,n,r,i=function Fee(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(pp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Js,{keyPath:"compositeKey"})}}catch(n){e(xn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Js],"readonly").objectStore(Js),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(pp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(xn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Js],"readwrite").objectStore(Js),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(pp(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(xn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Js],"readwrite").objectStore(Js),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(pp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(xn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Vee{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Bee(){return(Ck=Ck||v(function*(){if(!qs())return!1;try{return yield nl()}catch{return!1}})).apply(this,arguments)}!function Uee(){mn(new Zt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xn.create("registration-window");if(!qs())throw xn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw xn.create("registration-project-id");if(!o)throw xn.create("registration-api-key");if(!a)throw xn.create("registration-app-id");const u=new Lee(a,r.name,n=n||"firebase"),c=new Vee(u),l=new Ha(aI);l.logLevel=me.ERROR;const d=new See(i,rl,n,s,o,a),h=new xee(d,u),f=new bee(h,u,c,l),p=new kee(r,f,c,u,l);return function Eee(t){const e=qn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ot(aI,"0.4.4"),ot(aI,"0.4.4","esm2017")}();const jee=(t,e)=>e.some(n=>t instanceof n);let Sk,Ak;const Mk=new WeakMap,cI=new WeakMap,xk=new WeakMap,lI=new WeakMap,dI=new WeakMap;let hI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return cI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||xk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Kee(t){return"function"==typeof t?function Wee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Hee(){return Ak||(Ak=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(fI(this),e),Ei(Mk.get(this))}:function(...e){return Ei(t.apply(fI(this),e))}:function(e,...n){const r=t.call(fI(this),e,...n);return xk.set(r,e.sort?e.sort():[e]),Ei(r)}}(t):(t instanceof IDBTransaction&&function zee(t){if(cI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cI.set(t,e)}(t),jee(t,function $ee(){return Sk||(Sk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,hI):t)}function Ei(t){if(t instanceof IDBRequest)return function Gee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ei(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Mk.set(n,t)}).catch(()=>{}),dI.set(e,t),e}(t);if(lI.has(t))return lI.get(t);const e=Kee(t);return e!==t&&(lI.set(t,e),dI.set(e,t)),e}const fI=t=>dI.get(t);function Rk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ei(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ei(o.result),u.oldVersion,u.newVersion,Ei(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function pI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ei(n).then(()=>{})}const Qee=["get","getKey","getAll","getAllKeys","count"],Yee=["put","add","delete","clear"],gI=new Map;function Nk(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(gI.get(e))return gI.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,s=Yee.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!Qee.includes(r))return;const o=function(u){return(n=n||v(function*(c,...l){const d=this.transaction(c,s?"readwrite":"readonly");let h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[r](...l),s&&d.done]))[0]})).apply(this,arguments)};return gI.set(e,o),o}var kk,Pk,Ok,Fk,Lk,Vk,Uk,Bk,jk,$k,Hk,Gk,zk,qk,Wk,Kk,Qk,Yk,Xk,Jk;!function qee(t){hI=t(hI)}(t=>({...t,get:(e,n,r)=>Nk(e,n)||t.get(e,n,r),has:(e,n)=>!!Nk(e,n)||t.has(e,n)}));const Xee="/firebase-messaging-sw.js",Jee="/firebase-cloud-messaging-push-scope",tP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zee="https://fcmregistrations.googleapis.com/v1",nP="google.c.a.c_id",ete="google.c.a.c_l",tte="google.c.a.ts";var gp=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(gp||{});function Ci(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ite(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const mI="fcm_token_details_db",ste=5,rP="fcm_token_object_Store",ute="firebase-messaging-database",cte=1,Zs="firebase-messaging-store";let yI=null;function _I(){return yI||(yI=Rk(ute,cte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Zs)}})),yI}function iP(t){return(Pk=Pk||v(function*(e){const n=wI(e),i=yield(yield _I()).transaction(Zs).objectStore(Zs).get(n);if(i)return i;{const s=yield function ote(t){return(kk=kk||v(function*(e){var n;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(mI))return null;let r=null;return(yield Rk(mI,ste,{upgrade:function(o,a,u,c){return(n=n||v(function*(l,d,h,f){var p;if(d<2||!l.objectStoreNames.contains(rP))return;const g=f.objectStore(rP),m=yield g.index("fcmSenderId").get(e);if(yield g.clear(),m)if(2===d){const y=m;if(!y.auth||!y.p256dh||!y.endpoint)return;r={token:y.fcmToken,createTime:null!==(p=y.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:"string"==typeof y.vapidKey?y.vapidKey:Ci(y.vapidKey)}}}else if(3===d){const y=m;r={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Ci(y.auth),p256dh:Ci(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Ci(y.vapidKey)}}}else if(4===d){const y=m;r={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:Ci(y.auth),p256dh:Ci(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:Ci(y.vapidKey)}}}})).apply(this,arguments)}})).close(),yield pI(mI),yield pI("fcm_vapid_details_db"),yield pI("undefined"),function ate(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(r)?r:null})).apply(this,arguments)}(e.appConfig.senderId);if(s)return yield vI(e,s),s}})).apply(this,arguments)}function vI(t,e){return(Ok=Ok||v(function*(n,r){const i=wI(n),o=(yield _I()).transaction(Zs,"readwrite");return yield o.objectStore(Zs).put(r,i),yield o.done,r})).apply(this,arguments)}function wI({appConfig:t}){return t.appId}const jt=new Br("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function hte(t,e){return(Lk=Lk||v(function*(n,r){const i=yield EI(n),s=oP(r),o={method:"POST",headers:i,body:JSON.stringify(s)};let a;try{a=yield(yield fetch(II(n.appConfig),o)).json()}catch(u){throw jt.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(a.error)throw jt.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw jt.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function sP(t,e){return(Uk=Uk||v(function*(n,r){const s={method:"DELETE",headers:yield EI(n)};try{const a=yield(yield fetch(`${II(n.appConfig)}/${r}`,s)).json();if(a.error)throw jt.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(o){throw jt.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}})).apply(this,arguments)}function II({projectId:t}){return`${Zee}/projects/${t}/registrations`}function EI(t){return(Bk=Bk||v(function*({appConfig:e,installations:n}){const r=yield n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})).apply(this,arguments)}function oP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==tP&&(i.web.applicationPubKey=r),i}const pte=6048e5;function gte(t){return(jk=jk||v(function*(e){const n=yield function yte(t,e){return(zk=zk||v(function*(n,r){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ite(r)})})).apply(this,arguments)}(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:n.endpoint,auth:Ci(n.getKey("auth")),p256dh:Ci(n.getKey("p256dh"))},i=yield iP(e.firebaseDependencies);if(i){if(function _te(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(i.subscriptionOptions,r))return Date.now()>=i.createTime+pte?function mte(t,e){return(Hk=Hk||v(function*(n,r){try{const i=yield function fte(t,e){return(Vk=Vk||v(function*(n,r){const i=yield EI(n),s=oP(r.subscriptionOptions),o={method:"PATCH",headers:i,body:JSON.stringify(s)};let a;try{a=yield(yield fetch(`${II(n.appConfig)}/${r.token}`,o)).json()}catch(u){throw jt.create("token-update-failed",{errorInfo:u?.toString()})}if(a.error)throw jt.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw jt.create("token-update-no-token");return a.token})).apply(this,arguments)}(n.firebaseDependencies,r),s=Object.assign(Object.assign({},r),{token:i,createTime:Date.now()});return yield vI(n.firebaseDependencies,s),i}catch(i){throw yield function aP(t){return($k=$k||v(function*(e){const n=yield iP(e.firebaseDependencies);n&&(yield sP(e.firebaseDependencies,n.token),yield function lte(t){return(Fk=Fk||v(function*(e){const n=wI(e),i=(yield _I()).transaction(Zs,"readwrite");yield i.objectStore(Zs).delete(n),yield i.done})).apply(this,arguments)}(e.firebaseDependencies));const r=yield e.swRegistration.pushManager.getSubscription();return!r||r.unsubscribe()})).apply(this,arguments)}(n),i}})).apply(this,arguments)}(e,{token:i.token,createTime:Date.now(),subscriptionOptions:r}):i.token;try{yield sP(e.firebaseDependencies,i.token)}catch(s){console.warn(s)}return uP(e.firebaseDependencies,r)}return uP(e.firebaseDependencies,r)})).apply(this,arguments)}function uP(t,e){return(Gk=Gk||v(function*(n,r){const s={token:yield hte(n,r),createTime:Date.now(),subscriptionOptions:r};return yield vI(n,s),s.token})).apply(this,arguments)}function cP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function vte(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function wte(t,e){e.data&&(t.data=e.data)}(e,t),function Ite(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function lP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function CI(t){return jt.create("missing-app-config-values",{valueName:t})}lP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),lP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dte{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Cte(t){if(!t||!t.options)throw CI("App Configuration Object");if(!t.name)throw CI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw CI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function hP(t,e){return(Qk=Qk||v(function*(n,r){if(!navigator)throw jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jt.create("permission-blocked");return yield function Tte(t,e){return(Kk=Kk||v(function*(n,r){r?n.vapidKey=r:n.vapidKey||(n.vapidKey=tP)})).apply(this,arguments)}(n,r?.vapidKey),yield function bte(t,e){return(Wk=Wk||v(function*(n,r){if(!r&&!n.swRegistration&&(yield function dP(t){return(qk=qk||v(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(Xee,{scope:Jee}),e.swRegistration.update().catch(()=>{})}catch(n){throw jt.create("failed-service-worker-registration",{browserErrorMessage:n?.message})}})).apply(this,arguments)}(n)),r||!n.swRegistration){if(!(r instanceof ServiceWorkerRegistration))throw jt.create("invalid-sw-registration");n.swRegistration=r}})).apply(this,arguments)}(n,r?.serviceWorkerRegistration),gte(n)})).apply(this,arguments)}function Mte(t,e){return(Xk=Xk||v(function*(n,r){const i=r.data;if(!i.isFirebaseMessaging)return;n.onMessageHandler&&i.messageType===gp.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(cP(i)):n.onMessageHandler.next(cP(i)));const s=i.data;(function Ete(t){return"object"==typeof t&&!!t&&nP in t})(s)&&"1"===s["google.c.a.e"]&&(yield function Ste(t,e,n){return(Yk=Yk||v(function*(r,i,s){const o=function Ate(t){switch(t){case gp.NOTIFICATION_CLICKED:return"notification_open";case gp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(i);(yield r.firebaseDependencies.analyticsProvider.get()).logEvent(o,{message_id:s[nP],message_name:s[ete],message_time:s[tte],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(n,i.messageType,s))})).apply(this,arguments)}const fP="@firebase/messaging",xte=t=>{const e=new Dte(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>Mte(e,n)),e},Rte=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>hP(e,r)}};function gP(){return(Jk=Jk||v(function*(){try{yield nl()}catch{return!1}return typeof window<"u"&&qs()&&xw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var mP,yP,_P,vP,wP,IP,SP,AP,MP;!function Nte(){mn(new Zt("messaging",xte,"PUBLIC")),mn(new Zt("messaging-internal",Rte,"PRIVATE")),ot(fP,"0.12.4"),ot(fP,"0.12.4","esm2017")}();const mp="analytics",Ote="firebase_id",Fte="origin",Lte=6e4,Vte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",DI="https://www.googletagmanager.com/gtag/js",Tt=new Ha("@firebase/analytics"),yn=new Br("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Bte(t){if(!t.startsWith(DI)){const e=yn.create("invalid-gtag-resource",{gtagURL:t});return Tt.warn(e.message),""}return t}function RP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}const Qte=30,NP=new class Xte{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Jte(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function ene(t){return(vP=vP||v(function*(e,n=NP,r){const{appId:i,apiKey:s,measurementId:o}=e.options;if(!i)throw yn.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw yn.create("no-api-key")}const a=n.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new rne;return setTimeout(v(function*(){u.abort()}),void 0!==r?r:Lte),kP({appId:i,apiKey:s,measurementId:o},a,u,n)})).apply(this,arguments)}function kP(t,e,n){return(wP=wP||v(function*(r,{throttleEndTimeMillis:i,backoffCount:s},o,a=NP){var u;const{appId:c,measurementId:l}=r;try{yield function tne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(o,i)}catch(d){if(l)return Tt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:c,measurementId:l};throw d}try{const d=yield function Zte(t){return(_P=_P||v(function*(e){var n;const{appId:r,apiKey:i}=e,s={method:"GET",headers:Jte(i)},o=Vte.replace("{app-id}",r),a=yield fetch(o,s);if(200!==a.status&&304!==a.status){let u="";try{const c=yield a.json();null!==(n=c.error)&&void 0!==n&&n.message&&(u=c.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()})).apply(this,arguments)}(r);return a.deleteThrottleMetadata(c),d}catch(d){const h=d;if(!function nne(t){if(!(t instanceof Ir&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h)){if(a.deleteThrottleMetadata(c),l)return Tt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:c,measurementId:l};throw d}const f=503===Number(null===(u=h?.customData)||void 0===u?void 0:u.httpStatus)?Pw(s,a.intervalMillis,Qte):Pw(s,a.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:s+1};return a.setThrottleMetadata(c,p),Tt.debug(`Calling attemptFetch again in ${f} millis`),kP(r,p,o,a)}})).apply(this,arguments)}class rne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let bI,TI;function dne(t,e,n,r,i,s,o){return(AP=AP||v(function*(a,u,c,l,d,h,f){var p;const g=ene(a);g.then(C=>{c[C.measurementId]=C.appId,a.options.measurementId&&C.measurementId!==a.options.measurementId&&Tt.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>Tt.error(C)),u.push(g);const m=function lne(){return(SP=SP||v(function*(){if(!qs())return Tt.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield nl()}catch(t){return Tt.warn(yn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(C=>{if(C)return l.getId()}),[y,_]=yield Promise.all([g,m]);(function Kte(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(DI)&&n.src.includes(t))return n;return null})(h)||function $te(t,e){const n=function jte(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Bte}),r=document.createElement("script"),i=`${DI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(h,y.measurementId),TI&&(d("consent","default",TI),function PP(t){TI=t}(void 0)),d("js",new Date);const E=null!==(p=f?.config)&&void 0!==p?p:{};return E[Fte]="firebase",E.update=!0,null!=_&&(E[Ote]=_),d("config",y.measurementId,E),bI&&(d("set",bI),function OP(t){bI=t}(void 0)),y.measurementId})).apply(this,arguments)}class hne{constructor(e){this.app=e}_delete(){return delete jr[this.app.options.appId],Promise.resolve()}}let jr={},FP=[];const LP={};let UP,$r,yp="dataLayer",SI=!1;function pne(t,e,n){!function fne(){const t=[];if(Mw()&&t.push("This is a browser extension environment."),xw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=yn.create("invalid-analytics-context",{errorInfo:e});Tt.warn(n.message)}}();const r=t.options.appId;if(!r)throw yn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw yn.create("no-api-key");Tt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jr[r])throw yn.create("already-exists",{id:r});if(!SI){!function Hte(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(yp);const{wrappedGtag:s,gtagCore:o}=function Wte(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function qte(t,e,n,r){var i;return function s(o){return(i=i||v(function*(a,...u){try{if("event"===a){const[c,l]=u;yield function zte(t,e,n,r,i){return(yP=yP||v(function*(s,o,a,u,c){try{let l=[];if(c&&c.send_to){let d=c.send_to;Array.isArray(d)||(d=[d]);const h=yield RP(a);for(const f of d){const p=h.find(m=>m.measurementId===f),g=p&&o[p.appId];if(!g){l=[];break}l.push(g)}}0===l.length&&(l=Object.values(o)),yield Promise.all(l),s("event",u,c||{})}catch(l){Tt.error(l)}})).apply(this,arguments)}(t,e,n,c,l)}else if("config"===a){const[c,l]=u;yield function Gte(t,e,n,r,i,s){return(mP=mP||v(function*(o,a,u,c,l,d){const h=c[l];try{if(h)yield a[h];else{const p=(yield RP(u)).find(g=>g.measurementId===l);p&&(yield a[p.appId])}}catch(f){Tt.error(f)}o("config",l,d)})).apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===a){const[c]=u;t("consent","update",c)}else if("get"===a){const[c,l,d]=u;t("get",c,l,d)}else if("set"===a){const[c]=u;t("set",c)}else t(a,...u)}catch(c){Tt.error(c)}})).apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(jr,FP,LP,yp,"gtag");$r=s,UP=o,SI=!0}return jr[r]=dne(t,FP,LP,e,UP,yp,n),new hne(t)}function mne(){return(MP=MP||v(function*(){if(Mw()||!xw()||!qs())return!1;try{return yield nl()}catch{return!1}})).apply(this,arguments)}const BP="@firebase/analytics";!function _ne(){mn(new Zt(mp,(e,{options:n})=>pne(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),mn(new Zt("analytics-internal",function t(e){try{const n=e.getProvider(mp).getImmediate();return{logEvent:(r,i,s)=>function yne(t,e,n,r){t=qn(t),function ine(t,e,n,r,i){return(IP=IP||v(function*(s,o,a,u,c){if(c&&c.global)s("event",a,u);else{const l=yield o;s("event",a,Object.assign(Object.assign({},u),{send_to:l}))}})).apply(this,arguments)}($r,jr[t.app.options.appId],e,n,r).catch(i=>Tt.error(i))}(n,r,i,s)}}catch(n){throw yn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),ot(BP,"0.10.0"),ot(BP,"0.10.0","esm2017")}();class vne extends In{constructor(e,n){super()}schedule(e,n=0){return this}}const _p={setInterval(t,e,...n){const{delegate:r}=_p;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=_p;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class $P extends vne{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return _p.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&_p.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Lo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const HP={now:()=>(HP.delegate||Date).now(),delegate:void 0};class ol{constructor(e,n=ol.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ol.now=HP.now;class GP extends ol{constructor(e,n=ol.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Ene=new class Ine extends GP{}(class wne extends $P{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Cne=new GP($P);function $t(t,e,n){const r=Me(t)||e||n?{next:t,error:e,complete:n}:t;return r?vt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ft(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Vi}const AI=new ma("7.6.1"),MI="__angularfire_symbol__analyticsIsSupportedValue",xI="__angularfire_symbol__analyticsIsSupported",RI="__angularfire_symbol__remoteConfigIsSupportedValue",NI="__angularfire_symbol__remoteConfigIsSupported",kI="__angularfire_symbol__messagingIsSupportedValue",PI="__angularfire_symbol__messagingIsSupported";globalThis[xI]||(globalThis[xI]=mne().then(t=>globalThis[MI]=t).catch(()=>globalThis[MI]=!1)),globalThis[PI]||(globalThis[PI]=gP().then(t=>globalThis[kI]=t).catch(()=>globalThis[kI]=!1)),globalThis[NI]||(globalThis[NI]=Bee().then(t=>globalThis[RI]=t).catch(()=>globalThis[RI]=!1));const LI=(t,e)=>{const n=e?[e]:SN(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function qa(){}class zP{constructor(e,n=Ene){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Dne{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qa,{},qa,qa)),n.pipe($t({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qP=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new zP(Zone.current)),this.insideAngular=n.run(()=>new zP(Zone.current,Cne)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(U(be))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function to(t){return eo().ngZone.run(()=>t())}function Tne(t){return eo(),function Sne(t){return function(n){return(n=n.lift(new Dne(t.ngZone))).pipe(th(t.outsideAngular),eh(t.insideAngular))}}(eo())(t)}const Ane=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),to(()=>t.apply(void 0,r))},Hr=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=to(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qa,{},qa,qa)))),r[s]=Ane(r[s],n));const i=function bne(t){return eo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof ze){const s=eo();return i.pipe(th(s.outsideAngular),eh(s.insideAngular))}return to(()=>i)}return i instanceof ze?i.pipe(Tne):i instanceof Promise?to(()=>new Promise((s,o)=>i.then(a=>to(()=>s(a)),a=>to(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:to(()=>i)};class Wa{constructor(e){return e}}class WP{constructor(){return SN()}}const VI=new O("angularfire2._apps"),xne={provide:Wa,useFactory:function Mne(t){return t&&1===t.length?t[0]:new Wa(TN())},deps:[[new Tn,VI]]},Rne={provide:WP,deps:[[new Tn,VI]]};function Nne(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Wa(r)}}let kne=(()=>{class t{constructor(n){ot("angularfire",AI.full,"core"),ot("angularfire",AI.full,"app"),ot("angular",$S.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(U(ci))},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({providers:[xne,Rne]}),t})();function Pne(t,...e){return{ngModule:kne,providers:[{provide:VI,useFactory:Nne(t),multi:!0,deps:[be,hn,qP,...e]}]}}const One=Hr(bN,!0);var KP,QP,XP,ZP,eO,tO,nO,rO,iO,oO;const Fne=function EF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},CF=new Br("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vp=new Ha("@firebase/auth");function wp(t,...e){vp.logLevel<=me.ERROR&&vp.error(`Auth (${rl}): ${t}`,...e)}function Rn(t,...e){throw UI(t,...e)}function Gr(t,...e){return UI(t,...e)}function UI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CF.create(t,...e)}function M(t,e,...n){if(!t)throw UI(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wp(e),new Error(e)}function ns(t,e){t||zr(e)}function bF(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class ul{constructor(e,n){this.shortDelay=e,this.longDelay=n,ns(n>e,"Short delay should be less than long delay!"),this.isMobile=function JX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}()||function eJ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Vne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function BI(){return"http:"===bF()||"https:"===bF()}()||Mw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class TF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jne=new ul(3e4,6e4);function Ze(t,e,n,r){return(KP=KP||v(function*(i,s,o,a,u={}){return SF(i,u,v(function*(){let c={},l={};a&&("GET"===s?l=a:c={body:JSON.stringify(a)});const d=pN(Object.assign({key:i.config.apiKey},l)).slice(1),h=yield i._getAdditionalHeaders();return h["Content-Type"]="application/json",i.languageCode&&(h["X-Firebase-Locale"]=i.languageCode),TF.fetch()(AF(i,i.config.apiHost,o,d),Object.assign({method:s,headers:h,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function SF(t,e,n){return(QP=QP||v(function*(r,i,s){r._canInitEmulator=!1;const o=Object.assign(Object.assign({},Bne),i);try{const a=new $ne(r),u=yield Promise.race([s(),a.promise]);a.clearNetworkTimeout();const c=yield u.json();if("needConfirmation"in c)throw cl(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const l=u.ok?c.errorMessage:c.error.message,[d,h]=l.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===d)throw cl(r,"credential-already-in-use",c);if("EMAIL_EXISTS"===d)throw cl(r,"email-already-in-use",c);if("USER_DISABLED"===d)throw cl(r,"user-disabled",c);const f=o[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw function DF(t,e,n){const r=Object.assign(Object.assign({},Fne()),{[e]:n});return new Br("auth","Firebase",r).create(e,{appName:t.name})}(r,f,h);Rn(r,f)}}catch(a){if(a instanceof Ir)throw a;Rn(r,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function AF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function jI(t,e){ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class $ne{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),jne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gr(t,e,r);return i.customData._tokenResponse=n,i}function ll(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $I(t){return 1e3*Number(t)}function Ip(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return wp("JWT malformed, contained fewer than 3 sections"),null;try{const i=sp(n);return i?JSON.parse(i):(wp("Failed to decode base64 JWT payload"),null)}catch(i){return wp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function bi(t,e){return(tO=tO||v(function*(n,r,i=!1){if(i)return r;try{return yield r}catch(s){throw s instanceof Ir&&function Kne({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(s)&&n.auth.currentUser===n&&(yield n.auth.signOut()),s}})).apply(this,arguments)}class Qne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class MF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ll(this.lastLoginAt),this.creationTime=ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dl(t){return(nO=nO||v(function*(e){var n;const r=e.auth,i=yield e.getIdToken(),s=yield bi(e,function zne(t,e){return(ZP=ZP||v(function*(n,r){return Ze(n,"POST","/v1/accounts:lookup",r)})).apply(this,arguments)}(r,{idToken:i}));M(s?.users.length,r,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const a=null!==(n=o.providerUserInfo)&&void 0!==n&&n.length?function Jne(t){return t.map(e=>{var{providerId:n}=e,r=Jm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],u=function Xne(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(e.providerData,a),d=!!e.isAnonymous&&!(e.email&&o.passwordHash||u?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new MF(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,h)})).apply(this,arguments)}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Wne(t){const e=Ip(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Zne(t,e){return(iO=iO||v(function*(n,r){const i=yield SF(n,{},v(function*(){const s=pN({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=AF(n,o,"/v1/token",`key=${a}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",TF.fetch()(u,{method:"POST",headers:c,body:s})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})).apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new hl;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return zr("not implemented")}}function rs(t,e){M("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class no{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new MF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield bi(n,n.stsTokenManager.getToken(n.auth,e));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function qne(t){return(eO=eO||v(function*(e,n=!1){const r=qn(e),i=yield r.getIdToken(n),s=Ip(i);M(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=o?.sign_in_provider;return{claims:s,token:i,authTime:ll($I(s.auth_time)),issuedAtTime:ll($I(s.iat)),expirationTime:ll($I(s.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}(this,e)}reload(){return function Yne(t){return(rO=rO||v(function*(e){const n=qn(e);yield dl(n),yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)})).apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new no(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield dl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield bi(e,function Hne(t,e){return(XP=XP||v(function*(n,r){return Ze(n,"POST","/v1/accounts:delete",r)})).apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:C,isAnonymous:k,providerData:Y,stsTokenManager:_e}=n;M(E&&_e,e,"internal-error");const ht=hl.fromJSON(this.name,_e);M("string"==typeof E,e,"internal-error"),rs(d,e.name),rs(h,e.name),M("boolean"==typeof C,e,"internal-error"),M("boolean"==typeof k,e,"internal-error"),rs(f,e.name),rs(p,e.name),rs(g,e.name),rs(m,e.name),rs(y,e.name),rs(_,e.name);const kt=new no({uid:E,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:k,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ht,createdAt:y,lastLoginAt:_});return Y&&Array.isArray(Y)&&(kt.providerData=Y.map(Qd=>Object.assign({},Qd))),m&&(kt._redirectEventId=m),kt}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new hl;i.updateFromServerResponse(n);const s=new no({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield dl(s),s})()}}const xF=new Map;function Ti(t){ns(t instanceof Function,"Expected a class definition");let e=xF.get(t);return e?(ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xF.set(t,e),e)}const RF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Ep(t,e,n){return`firebase:${t}:${e}:${n}`}class Qa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ep(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ep("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?no._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){var i,s;if(!n.length)return new Qa(Ti(RF),e,r);const o=(yield Promise.all(n.map(function(d){return(i=i||v(function*(h){if(yield h._isAvailable())return h})).apply(this,arguments)}))).filter(d=>d);let a=o[0]||Ti(RF);const u=Ep(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const h=yield d._get(u);if(h){const f=no._fromJSON(e,h);d!==a&&(c=f),a=d;break}}catch{}const l=o.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&l.length?(a=l[0],c&&(yield a._set(u,c.toJSON())),yield Promise.all(n.map(function(d){return(s=s||v(function*(h){if(h!==a)try{yield h._remove(u)}catch{}})).apply(this,arguments)})),new Qa(a,e,r)):new Qa(a,e,r)})()}}function NF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function OF(t=zn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function kF(t=zn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function LF(t=zn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function VF(t=zn()){return/webos/i.test(t)}(e))return"Webos";if(function HI(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function PF(t=zn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function FF(t=zn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function UF(t,e=[]){let n;switch(t){case"Browser":n=NF(zn());break;case"Worker":n=`${NF(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${r}`}function BF(t,e){return(oO=oO||v(function*(n,r){return Ze(n,"GET","/v2/recaptchaConfig",function Qe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(n,r))})).apply(this,arguments)}function $F(t){return void 0!==t&&void 0!==t.enterprise}class HF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class zF{constructor(e){this.type="recaptcha-enterprise",this.auth=St(e)}verify(e="verify",n=!1){var r=this;return v(function*(){var i;function o(a,u,c){const l=window.grecaptcha;$F(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function s(a){return(i=i||v(function*(u){var c;if(!n){if(null==u.tenantId&&null!=u._agentRecaptchaConfig)return u._agentRecaptchaConfig.siteKey;if(null!=u.tenantId&&void 0!==u._tenantRecaptchaConfigs[u.tenantId])return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(function(l,d){return(c=c||v(function*(h,f){BF(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(void 0!==p.recaptchaKey){const g=new HF(p);return null==u.tenantId?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}f(new Error("recaptcha Enterprise site key undefined"))}).catch(p=>{f(p)})})).apply(this,arguments)})})).apply(this,arguments)})(r.auth).then(c=>{if(!n&&$F(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function GI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function rre(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class are{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class ure{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qF(this),this.idTokenSubscription=new qF(this),this.beforeStateQueue=new are(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Qa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield dl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Une(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?qn(e):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(Ti(e))}))}initializeRecaptchaConfig(){var e=this;return v(function*(){const n=yield BF(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new HF(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new zF(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Br("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&Ti(e)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield Qa.create(n,[Ti(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Lne(t,...e){vp.logLevel<=me.WARN&&vp.warn(`Auth (${rl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function St(t){return qn(t)}class qF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function iJ(t,e){const n=new sJ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function GF(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new ul(3e4,6e4),new ul(2e3,1e4),new ul(3e4,6e4),new ul(5e3,15e3),encodeURIComponent("fac");var TL,SL,RL,NL,kL,IL="@firebase/auth";class ese{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}op(),function nse(t){mn(new Zt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UF(t)},c=new ure(r,i,s,u);return function lre(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ti);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mn(new Zt("auth-internal",e=>{const n=St(e.getProvider("auth").getImmediate());return new ese(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(IL,"0.23.2",function tse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),ot(IL,"0.23.2","esm2017")}("Browser");class bL{constructor(){return LI("auth")}}const yE=new Map,FL={activated:!1,tokenObservers:[]},cse={initialized:!1,enabled:!1};function et(t){return yE.get(t)||Object.assign({},FL)}function Op(){return cse}const _E="https://content-firebaseappcheck.googleapis.com/v1",fse="exchangeDebugToken",LL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class gse{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return v(function*(){n.stop();try{n.pending=new ap,yield function mse(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new ap,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ht=new Br("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vE(t){if(!et(t).activated)throw Ht.create("use-before-activation",{appName:t.name})}function Vp(t,e){return(TL=TL||v(function*({url:n,body:r},i){const s={"Content-Type":"application/json"},o=i.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(r),headers:s};let u,c;try{u=yield fetch(n,a)}catch(f){throw Ht.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==u.status)throw Ht.create("fetch-status-error",{httpStatus:u.status});try{c=yield u.json()}catch(f){throw Ht.create("fetch-parse-error",{originalErrorMessage:f?.message})}const l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(l[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function VL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${_E}/projects/${n}/apps/${r}:${fse}?key=${i}`,body:{debug_token:e}}}const wse="firebase-app-check-database",Ise=1,yl="firebase-app-check-store";let Up=null;function jL(t,e){return(SL=SL||v(function*(n,r){const s=(yield function BL(){return Up||(Up=new Promise((t,e)=>{try{const n=indexedDB.open(wse,Ise);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ht.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(yl,{keyPath:"compositeKey"})}}catch(n){e(Ht.create("storage-open",{originalErrorMessage:n?.message}))}}),Up)}()).transaction(yl,"readwrite"),a=s.objectStore(yl).put({compositeKey:n,value:r});return new Promise((u,c)=>{a.onsuccess=l=>{u()},s.onerror=l=>{var d;c(Ht.create("storage-set",{originalErrorMessage:null===(d=l.target.error)||void 0===d?void 0:d.message}))}})})).apply(this,arguments)}const _l=new Ha("@firebase/app-check");function IE(t,e){return qs()?function Cse(t,e){return jL(function HL(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{_l.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function EE(){return Op().enabled}function CE(){return(RL=RL||v(function*(){const t=Op();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Mse={error:"UNKNOWN_ERROR"};function xse(t){return Aw.encodeString(JSON.stringify(t),!1)}function Bp(t){return(NL=NL||v(function*(e,n=!1){const r=e.app;vE(r);const i=et(r);let o,s=i.token;if(s&&!Xa(s)&&(i.token=void 0,s=void 0),!s){const c=yield i.cachedTokenPromise;c&&(Xa(c)?s=c:yield IE(r,void 0))}if(!n&&s&&Xa(s))return{token:s.token};let u,a=!1;if(EE()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Vp(VL(r,yield CE()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const c=yield i.exchangeTokenPromise;return yield IE(r,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield et(r).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?_l.warn(c.message):_l.error(c),o=c}return s?o?u=Xa(s)?{token:s.token,internalError:o}:WL(o):(u={token:s.token},i.token=s,yield IE(r,s)):u=WL(o),a&&function qL(t,e){const n=et(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(r,u),u})).apply(this,arguments)}function bE(t,e){const n=et(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function zL(t){const{app:e}=t,n=et(e);let r=n.tokenRefresher;r||(r=function Rse(t){const{app:e}=t;return new gse(v(function*(){let r;if(r=et(e).token?yield Bp(t,!0):yield Bp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=et(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},LL.RETRIAL_MIN_WAIT,LL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Xa(t){return t.expireTimeMillis-Date.now()>0}function WL(t){return{token:xse(Mse),error:t}}class Nse{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=et(this.app);for(const n of e)bE(this.app,n.next);return Promise.resolve()}}const t2="app-check-internal";!function qse(){mn(new Zt("app-check",t=>function kse(t,e){return new Nse(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(t2).initialize()})),mn(new Zt(t2,t=>function Pse(t){return{getToken:e=>Bp(t,e),getLimitedUseToken:()=>function GL(t){return(kL=kL||v(function*(e){const n=e.app;vE(n);const{provider:r}=et(n);if(EE()){const i=yield CE(),{token:s}=yield Vp(VL(n,i),e.heartbeatServiceProvider);return{token:s}}{const{token:i}=yield r.getToken();return{token:i}}})).apply(this,arguments)}(t),addTokenListener:e=>function DE(t,e,n,r){const{app:i}=t,s=et(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Xa(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),zL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>zL(t))}(t,"INTERNAL",e),removeTokenListener:e=>bE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ot("@firebase/app-check","0.8.0")}();class r2{constructor(){return LI("app-check")}}typeof window<"u"&&window;var N,Xse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Er={},AE=AE||{},Z=Xse||self;function $p(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function vl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ME="closure_uid_"+(1e9*Math.random()>>>0),Zse=0;function eoe(t,e,n){return t.call.apply(t.bind,arguments)}function toe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function en(t,e,n){return(en=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eoe:toe).apply(null,arguments)}function Hp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function At(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ss(){this.s=this.s,this.o=this.o}ss.prototype.s=!1,ss.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Jse(t){Object.prototype.hasOwnProperty.call(t,ME)&&t[ME]||(t[ME]=++Zse)}(this)},ss.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const i2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function s2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if($p(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function tn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}tn.prototype.h=function(){this.defaultPrevented=!0};var roe=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",()=>{},e),Z.removeEventListener("test",()=>{},e)}catch{}return t}();function wl(t){return/^[\s\xa0]*$/.test(t)}function Gp(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function qr(t){return-1!=Gp().indexOf(t)}function RE(t){return RE[" "](t),t}RE[" "]=function(){};var kE,soe=qr("Opera"),Ja=qr("Trident")||qr("MSIE"),o2=qr("Edge"),NE=o2||Ja,a2=qr("Gecko")&&!(-1!=Gp().toLowerCase().indexOf("webkit")&&!qr("Edge"))&&!(qr("Trident")||qr("MSIE"))&&!qr("Edge"),ooe=-1!=Gp().toLowerCase().indexOf("webkit")&&!qr("Edge");function u2(){var t=Z.document;return t?t.documentMode:void 0}e:{var PE="",OE=function(){var t=Gp();return a2?/rv:([^\);]+)(\)|;)/.exec(t):o2?/Edge\/([\d\.]+)/.exec(t):Ja?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ooe?/WebKit\/(\S+)/.exec(t):soe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(OE&&(PE=OE?OE[1]:""),Ja){var FE=u2();if(null!=FE&&FE>parseFloat(PE)){kE=String(FE);break e}}kE=PE}var aoe=Z.document&&Ja&&(u2()||parseInt(kE,10))||void 0;function Il(t,e){if(tn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(a2){e:{try{RE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:uoe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Il.$.h.call(this)}}At(Il,tn);var uoe={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var El="closure_listenable_"+(1e6*Math.random()|0),coe=0;function loe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++coe,this.fa=this.ia=!1}function zp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function VE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function l2(t){const e={};for(const n in t)e[n]=t[n];return e}const d2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function h2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<d2.length;s++)n=d2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function qp(t){this.src=t,this.g={},this.h=0}function UE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=i2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(zp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function BE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}qp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=BE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new loe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var jE="closure_lm_"+(1e6*Math.random()|0),$E={};function f2(t,e,n,r,i){if(r&&r.once)return g2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)f2(t,e[s],n,r,i);return null}return n=qE(n),t&&t[El]?t.O(e,n,vl(r)?!!r.capture:!!r,i):p2(t,e,n,!1,r,i)}function p2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=vl(i)?!!i.capture:!!i,a=GE(t);if(a||(t[jE]=a=new qp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function hoe(){const e=foe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)roe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(y2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function g2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)g2(t,e[s],n,r,i);return null}return n=qE(n),t&&t[El]?t.P(e,n,vl(r)?!!r.capture:!!r,i):p2(t,e,n,!0,r,i)}function m2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)m2(t,e[s],n,r,i);else r=vl(r)?!!r.capture:!!r,n=qE(n),t&&t[El]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=BE(s=t.g[e],n,r,i))&&(zp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=GE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=BE(e,n,r,i)),(n=-1<t?e[t]:null)&&HE(n))}function HE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[El])UE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(y2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=GE(e))?(UE(n,t),0==n.h&&(n.src=null,e[jE]=null)):zp(t)}}}function y2(t){return t in $E?$E[t]:$E[t]="on"+t}function foe(t,e){if(t.fa)t=!0;else{e=new Il(e,this);var n=t.listener,r=t.la||t.src;t.ia&&HE(t),t=n.call(r,e)}return t}function GE(t){return(t=t[jE])instanceof qp?t:null}var zE="__closure_events_fn_"+(1e9*Math.random()>>>0);function qE(t){return"function"==typeof t?t:(t[zE]||(t[zE]=function(e){return t.handleEvent(e)}),t[zE])}function Mt(){ss.call(this),this.i=new qp(this),this.S=this,this.J=null}function Gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new tn(e,t);else if(e instanceof tn)e.target=e.target||t;else{var i=e;h2(e=new tn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Wp(o,r,!0,e)&&i}if(i=Wp(o=e.g=t,r,!0,e)&&i,i=Wp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Wp(o=e.g=n[s],r,!1,e)&&i}function Wp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&UE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}At(Mt,ss),Mt.prototype[El]=!0,Mt.prototype.removeEventListener=function(t,e,n,r){m2(this,t,e,n,r)},Mt.prototype.N=function(){if(Mt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zp(n[r]);delete t.g[e],t.h--}}this.J=null},Mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Mt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var WE=Z.JSON.stringify;function goe(){var t=KE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var _2=new class poe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new yoe,t=>t.reset());class yoe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function _oe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function voe(t){Z.setTimeout(()=>{throw t},0)}let Cl,Dl=!1,KE=new class moe{constructor(){this.h=this.g=null}add(e,n){const r=_2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},v2=()=>{const t=Z.Promise.resolve(void 0);Cl=()=>{t.then(woe)}};var woe=()=>{for(var t;t=goe();){try{t.h.call(t.g)}catch(n){voe(n)}var e=_2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Dl=!1};function Kp(t,e){Mt.call(this),this.h=t||1,this.g=e||Z,this.j=en(this.qb,this),this.l=Date.now()}function QE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function YE(t,e,n){if("function"==typeof t)n&&(t=en(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=en(t.handleEvent,t)}return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function w2(t){t.g=YE(()=>{t.g=null,t.i&&(t.i=!1,w2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}At(Kp,Mt),(N=Kp.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(QE(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){Kp.$.N.call(this),QE(this),delete this.g};class Ioe extends ss{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:w2(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bl(t){ss.call(this),this.h=t,this.g={}}At(bl,ss);var I2=[];function E2(t,e,n,r){Array.isArray(n)||(n&&(I2[0]=n.toString()),n=I2);for(var i=0;i<n.length;i++){var s=f2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function C2(t){VE(t.g,function(e,n){this.g.hasOwnProperty(n)&&HE(e)},t),t.g={}}function Qp(){this.g=!0}function Za(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function boe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return WE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}bl.prototype.N=function(){bl.$.N.call(this),C2(this)},bl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qp.prototype.Ea=function(){this.g=!1},Qp.prototype.info=function(){};var oo={},D2=null;function Yp(){return D2=D2||new Mt}function b2(t){tn.call(this,oo.Ta,t)}function Tl(t){const e=Yp();Gt(e,new b2(e))}function T2(t,e){tn.call(this,oo.STAT_EVENT,t),this.stat=e}function _n(t){const e=Yp();Gt(e,new T2(e,t))}function S2(t,e){tn.call(this,oo.Ua,t),this.size=e}function Sl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}oo.Ta="serverreachability",At(b2,tn),oo.STAT_EVENT="statevent",At(T2,tn),oo.Ua="timingevent",At(S2,tn);var Xp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},A2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function XE(){}function x2(){}XE.prototype.h=null;var eC,Al={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function JE(){tn.call(this,"d")}function ZE(){tn.call(this,"c")}function Jp(){}function Ml(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new bl(this),this.P=Toe,this.V=new Kp(t=NE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new R2}function R2(){this.i=null,this.g="",this.h=!1}At(JE,tn),At(ZE,tn),At(Jp,XE),Jp.prototype.g=function(){return new XMLHttpRequest},Jp.prototype.i=function(){return{}},eC=new Jp;var Toe=45e3,tC={},Zp={};function nC(t,e,n){t.L=1,t.v=rg(Ai(e)),t.s=n,t.S=!0,N2(t,null)}function N2(t,e){t.G=Date.now(),xl(t),t.A=Ai(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),$2(n.i,"t",r),t.C=0,n=t.l.J,t.h=new R2,t.g=hV(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Ioe(en(t.Pa,t,t.g),t.O)),E2(t.U,t.g,"readystatechange",t.nb),e=t.I?l2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Tl(),function Eoe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function k2(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function P2(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Soe(t,n),i==Zp){4==e&&(t.o=4,_n(14),r=!1),Za(t.j,t.m,null,"[Incomplete Response]");break}if(i==tC){t.o=4,_n(15),Za(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Za(t.j,t.m,i,null),rC(t,i)}k2(t)&&i!=Zp&&i!=tC&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,_n(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),lC(e),e.M=!0,_n(11))):(Za(t.j,t.m,n,"[Invalid Chunked Response]"),ao(t),Rl(t))}function Soe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Zp:(n=Number(e.substring(n,r)),isNaN(n)?tC:(r+=1)+n>e.length?Zp:(e=e.slice(r,r+n),t.C=r+n,e))}function xl(t){t.Y=Date.now()+t.P,O2(t,t.P)}function O2(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Sl(en(t.lb,t),e)}function eg(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}function Rl(t){0==t.l.H||t.J||uV(t.l,t)}function ao(t){eg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,QE(t.V),C2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function rC(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||iC(n.i,t)))if(!t.K&&iC(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;cg(n),ag(n)}cC(n),_n(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Sl(en(n.ib,n),6e3));if(1>=z2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else co(n,11)}else if((t.K||n.g==t)&&cg(n),!wl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(sC(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,je(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=dV(r,r.J?r.pa:null,r.Y),o.K){q2(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(eg(a),xl(a)),r.g=o}else oV(r);0<n.j.length&&ug(n)}else"stop"!=c[0]&&"close"!=c[0]||co(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?co(n,7):uC(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Tl()}catch{}}function F2(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if($p(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Moe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if($p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Aoe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if($p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=Ml.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==Wr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=Wr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||NE||this.g&&(this.h.h||this.g.ja()||eV(this.g)))){this.J||4!=l||7==e||Tl(),eg(this);var n=this.g.da();this.ca=n;t:if(k2(this)){var r=eV(this.g);t="";var i=r.length,s=4==Wr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ao(this),Rl(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Coe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,_n(12),ao(this),Rl(this);break e}Za(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rC(this,n)}this.S?(P2(this,l,o),NE&&this.i&&3==l&&(E2(this.U,this.V,"tick",this.mb),this.V.start())):(Za(this.j,this.m,o,null),rC(this,o)),4==l&&ao(this),this.i&&!this.J&&(4==l?uV(this.l,this):(this.i=!1,xl(this)))}else(function Woe(t){const e={};t=(t.g&&2<=Wr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(wl(t[r]))continue;var n=_oe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function doe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,_n(12)):(this.o=0,_n(13)),ao(this),Rl(this)}}}catch{}},N.mb=function(){if(this.g){var t=Wr(this.g),e=this.g.ja();this.C<e.length&&(eg(this),P2(this,t,e),this.i&&4!=t&&xl(this))}},N.cancel=function(){this.J=!0,ao(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Doe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Tl(),_n(17)),ao(this),this.o=2,Rl(this)):O2(this,this.Y-t)};var L2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof uo){this.h=t.h,tg(this,t.j),this.s=t.s,this.g=t.g,ng(this,t.m),this.l=t.l;var e=t.i,n=new Pl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),V2(this,n),this.o=t.o}else t&&(e=String(t).match(L2))?(this.h=!1,tg(this,e[1]||"",!0),this.s=Nl(e[2]||""),this.g=Nl(e[3]||"",!0),ng(this,e[4]),this.l=Nl(e[5]||"",!0),V2(this,e[6]||"",!0),this.o=Nl(e[7]||"")):(this.h=!1,this.i=new Pl(null,this.h))}function Ai(t){return new uo(t)}function tg(t,e,n){t.j=n?Nl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ng(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function V2(t,e,n){e instanceof Pl?(t.i=e,function Foe(t,e){e&&!t.j&&(os(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(B2(this,r),$2(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=kl(e,Poe)),t.i=new Pl(e,t.h))}function je(t,e,n){t.i.set(e,n)}function rg(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Nl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function kl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Roe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Roe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}uo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(kl(e,U2,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(kl(e,U2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(kl(n,"/"==n.charAt(0)?koe:Noe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",kl(n,Ooe)),t.join("")};var U2=/[#\/\?@]/g,Noe=/[#\?:]/g,koe=/[#\?]/g,Poe=/[#\?@]/g,Ooe=/#/g;function Pl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function os(t){t.g||(t.g=new Map,t.h=0,t.i&&function xoe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function B2(t,e){os(t),e=eu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function j2(t,e){return os(t),e=eu(t,e),t.g.has(e)}function $2(t,e,n){B2(t,e),0<n.length&&(t.i=null,t.g.set(eu(t,e),xE(n)),t.h+=n.length)}function eu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function H2(t){this.l=t||Voe,t=Z.PerformanceNavigationTiming?0<(t=Z.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Pl.prototype).add=function(t,e){os(this),this.i=null,t=eu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){os(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){os(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){os(this);let e=[];if("string"==typeof t)j2(this,t)&&(e=e.concat(this.g.get(eu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return os(this),this.i=null,j2(this,t=eu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Voe=10;function G2(t){return!!t.h||!!t.g&&t.g.size>=t.j}function z2(t){return t.h?1:t.g?t.g.size:0}function iC(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function sC(t,e){t.g?t.g.add(e):t.h=e}function q2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function W2(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return xE(t.i)}H2.prototype.cancel=function(){if(this.i=W2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Uoe=class{stringify(t){return Z.JSON.stringify(t,void 0)}parse(t){return Z.JSON.parse(t,void 0)}};function Boe(){this.g=new Uoe}function joe(t,e,n){const r=n||"";try{F2(t,function(i,s){let o=i;vl(i)&&(o=WE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ig(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ol(t){this.l=t.fc||null,this.j=t.ob||!1}function sg(t,e){Mt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=oC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(Ol,XE),Ol.prototype.g=function(){return new sg(this.l,this.j)},Ol.prototype.i=function(t){return function(){return t}}({}),At(sg,Mt);var oC=0;function K2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Fl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ll(t)}function Ll(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=sg.prototype).open=function(t,e){if(this.readyState!=oC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ll(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fl(this)),this.readyState=oC},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;K2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fl(this):Ll(this),3==this.readyState&&K2(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Fl(this))},N.Ya=function(t){this.g&&(this.response=t,Fl(this))},N.ka=function(){this.g&&Fl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(sg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Hoe=Z.JSON.parse;function tt(t){Mt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Q2,this.L=this.M=!1}At(tt,Mt);var Q2="",Goe=/^https?$/i,zoe=["POST","PUT"];function Y2(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,X2(t),og(t)}function X2(t){t.F||(t.F=!0,Gt(t,"complete"),Gt(t,"error"))}function J2(t){if(t.h&&typeof AE<"u"&&(!t.C[1]||4!=Wr(t)||2!=t.da()))if(t.v&&4==Wr(t))YE(t.La,0,t);else if(Gt(t,"readystatechange"),4==Wr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(L2)[1]||null;!i&&Z.self&&Z.self.location&&(i=Z.self.location.protocol.slice(0,-1)),r=!Goe.test(i?i.toLowerCase():"")}n=r}if(n)Gt(t,"complete"),Gt(t,"success");else{t.m=6;try{var s=2<Wr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",X2(t)}}finally{og(t)}}}function og(t,e){if(t.g){Z2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Z2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function Wr(t){return t.g?t.g.readyState:0}function eV(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Q2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function tV(t){let e="";return VE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function aC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tV(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function Vl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nV(t){this.Ga=0,this.j=[],this.l=new Qp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vl("baseRetryDelayMs",5e3,t),this.hb=Vl("retryDelaySeedMs",1e4,t),this.eb=Vl("forwardChannelMaxRetries",2,t),this.xa=Vl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new H2(t&&t.concurrentRequestLimit),this.Ja=new Boe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function uC(t){if(rV(t),3==t.H){var e=t.W++,n=Ai(t.I);if(je(n,"SID",t.K),je(n,"RID",e),je(n,"TYPE","terminate"),Ul(t,n),(e=new Ml(t,t.l,e)).L=2,e.v=rg(Ai(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Z.Image&&((new Image).src=e.v,n=!0),n||(e.g=hV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),xl(e)}lV(t)}function ag(t){t.g&&(lC(t),t.g.cancel(),t.g=null)}function rV(t){ag(t),t.u&&(Z.clearTimeout(t.u),t.u=null),cg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Z.clearTimeout(t.m),t.m=null)}function ug(t){if(!G2(t.i)&&!t.m){t.m=!0;var e=t.Na;Cl||v2(),Dl||(Cl(),Dl=!0),KE.add(e,t),t.C=0}}function iV(t,e){var n;n=e?e.m:t.W++;const r=Ai(t.I);je(r,"SID",t.K),je(r,"RID",n),je(r,"AID",t.V),Ul(t,r),t.o&&t.s&&aC(r,t.o,t.s),n=new Ml(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=sV(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),sC(t.i,n),nC(n,r,e)}function Ul(t,e){t.na&&VE(t.na,function(n,r){je(e,r,n)}),t.h&&F2({},function(n,r){je(e,r,n)})}function sV(t,e,n){n=Math.min(t.j.length,n);var r=t.h?en(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{joe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function oV(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Cl||v2(),Dl||(Cl(),Dl=!0),KE.add(e,t),t.A=0}}function cC(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Sl(en(t.Ma,t),cV(t,t.A)),t.A++,0))}function lC(t){null!=t.B&&(Z.clearTimeout(t.B),t.B=null)}function aV(t){t.g=new Ml(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ai(t.wa);je(e,"RID","rpc"),je(e,"SID",t.K),je(e,"AID",t.V),je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&je(e,"TO",t.qa),je(e,"TYPE","xmlhttp"),Ul(t,e),t.o&&t.s&&aC(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=rg(Ai(e)),n.s=null,n.S=!0,N2(n,t)}function cg(t){null!=t.v&&(Z.clearTimeout(t.v),t.v=null)}function uV(t,e){var n=null;if(t.g==e){cg(t),lC(t),t.g=null;var r=2}else{if(!iC(t.i,e))return;n=e.F,q2(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Gt(r=Yp(),new S2(r,n)),ug(t)}else oV(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Koe(t,e){return!(z2(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Sl(en(t.Na,t,e),cV(t,t.C)),t.C++,0)))}(t,e)||2==r&&cC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:co(t,5);break;case 4:co(t,10);break;case 3:co(t,6);break;default:co(t,2)}}function cV(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function co(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=en(t.pb,t);n||(n=new uo("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||tg(n,"https"),rg(n)),function $oe(t,e){const n=new Qp;if(Z.Image){const r=new Image;r.onload=Hp(ig,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hp(ig,n,r,"TestLoadImage: error",!1,e),r.onabort=Hp(ig,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hp(ig,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else _n(2);t.H=0,t.h&&t.h.za(e),lV(t),rV(t)}function lV(t){if(t.H=0,t.ma=[],t.h){const e=W2(t.i);(0!=e.length||0!=t.j.length)&&(s2(t.ma,e),s2(t.ma,t.j),t.i.i.length=0,xE(t.j),t.j.length=0),t.h.ya()}}function dV(t,e,n){var r=n instanceof uo?Ai(n):new uo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ng(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new uo(null);r&&tg(s,r),e&&(s.g=e),i&&ng(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&je(r,n,e),je(r,"VER",t.ra),Ul(t,r),r}function hV(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tt(n&&t.Ha&&!t.va?new Ol({ob:!0}):t.va)).Oa(t.J),e}function fV(){}function lg(){if(Ja&&!(10<=Number(aoe)))throw Error("Environmental error: no available transport.")}function Wn(t,e){Mt.call(this),this.g=new nV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!wl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new tu(this)}function pV(t){JE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function gV(){ZE.call(this),this.status=1}function tu(t){this.g=t}function Cr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function dC(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Te(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=tt.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():eC.g(),this.C=function M2(t){return t.h||(t.h=t.i())}(this.u?this.u:eC),this.g.onreadystatechange=en(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void Y2(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Z.FormData&&t instanceof Z.FormData,!(0<=i2(zoe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Z2(this),0<this.B&&((this.L=function qoe(t){return Ja&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=en(this.ua,this)):this.A=YE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Y2(this,s)}},N.ua=function(){typeof AE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gt(this,"complete"),Gt(this,"abort"),og(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),og(this,!0)),tt.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?J2(this):this.kb())},N.kb=function(){J2(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Wr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Hoe(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=nV.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ml(this,this.l,t);let s=this.s;if(this.U&&(s?(s=l2(s),h2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=sV(this,i,e),je(n=Ai(this.I),"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),Ul(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(tV(s)))+"&"+e:this.o&&aC(n,this.o,s)),sC(this.i,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.aa=!0,nC(i,n,null)):nC(i,n,e),this.H=2}}else 3==this.H&&(t?iV(this,t):0==this.j.length||G2(this.i)||iV(this))},N.Ma=function(){if(this.u=null,aV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sl(en(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_n(10),ag(this),aV(this))},N.ib=function(){null!=this.v&&(this.v=null,ag(this),cC(this),_n(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),_n(2)):(this.l.info("Failed to ping google.com"),_n(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=fV.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},lg.prototype.g=function(t,e){return new Wn(t,e)},At(Wn,Mt),Wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;_n(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=dV(t,null,t.Y),ug(t)},Wn.prototype.close=function(){uC(this.g)},Wn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=WE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&ug(e)},Wn.prototype.N=function(){this.g.h=null,delete this.j,uC(this.g),delete this.g,Wn.$.N.call(this)},At(pV,JE),At(gV,ZE),At(tu,fV),tu.prototype.Ba=function(){Gt(this.g,"a")},tu.prototype.Aa=function(t){Gt(this.g,new pV(t))},tu.prototype.za=function(t){Gt(this.g,new gV)},tu.prototype.ya=function(){Gt(this.g,"b")},At(Cr,function Qoe(){this.blockSize=-1}),Cr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)dC(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){dC(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){dC(this,r),i=0;break}}this.h=i,this.i+=e},Cr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Yoe={};function hC(t){return-128<=t&&128>t?function ioe(t,e){var n=Yoe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Te([0|e],0>e?-1:0)}):new Te([0|t],0>t?-1:0)}function Kr(t){if(isNaN(t)||!isFinite(t))return nu;if(0>t)return zt(Kr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=fC;return new Te(e,0)}var fC=4294967296,nu=hC(0),pC=hC(1),yV=hC(16777216);function Mi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function or(t){return-1==t.h}function zt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Te(n,~t.h).add(pC)}function dg(t,e){return t.add(zt(e))}function hg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Bl(t,e){this.g=t,this.h=e}function fg(t,e){if(Mi(e))throw Error("division by zero");if(Mi(t))return new Bl(nu,nu);if(or(t))return e=fg(zt(t),e),new Bl(zt(e.g),zt(e.h));if(or(e))return e=fg(t,zt(e)),new Bl(zt(e.g),e.h);if(30<t.g.length){if(or(t)||or(e))throw Error("slowDivide_ only works with positive integers.");for(var n=pC,r=e;0>=r.X(t);)n=_V(n),r=_V(r);var i=ru(n,1),s=ru(r,1);for(r=ru(r,2),n=ru(n,2);!Mi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ru(r,1),n=ru(n,1)}return e=dg(t,i.R(e)),new Bl(i,e)}for(i=nu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Kr(n)).R(e);or(o)||0<o.X(t);)o=(s=Kr(n-=r)).R(e);Mi(s)&&(s=pC),i=i.add(s),t=dg(t,o)}return new Bl(i,t)}function _V(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Te(n,t.h)}function ru(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Te(i,t.h)}(N=Te.prototype).ea=function(){if(or(this))return-zt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:fC+r)*e,e*=fC}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Mi(this))return"0";if(or(this))return"-"+zt(this).toString(t);for(var e=Kr(Math.pow(t,6)),n=this,r="";;){var i=fg(n,e).g,s=((0<(n=dg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Mi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return or(t=dg(this,t))?-1:Mi(t)?0:1},N.abs=function(){return or(this)?zt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Te(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Mi(this)||Mi(t))return nu;if(or(this))return or(t)?zt(this).R(zt(t)):zt(zt(this).R(t));if(or(t))return zt(this.R(zt(t)));if(0>this.X(yV)&&0>t.X(yV))return Kr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,hg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,hg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,hg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,hg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Te(n,0)},N.gb=function(t){return fg(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Te(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Te(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Te(n,this.h^t.h)},lg.prototype.createWebChannel=lg.prototype.g,Wn.prototype.send=Wn.prototype.u,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,Xp.NO_ERROR=0,Xp.TIMEOUT=8,Xp.HTTP_ERROR=6,A2.COMPLETE="complete",x2.EventType=Al,Al.OPEN="a",Al.CLOSE="b",Al.ERROR="c",Al.MESSAGE="d",Mt.prototype.listen=Mt.prototype.O,tt.prototype.listenOnce=tt.prototype.P,tt.prototype.getLastError=tt.prototype.Sa,tt.prototype.getLastErrorCode=tt.prototype.Ia,tt.prototype.getStatus=tt.prototype.da,tt.prototype.getResponseJson=tt.prototype.Wa,tt.prototype.getResponseText=tt.prototype.ja,tt.prototype.send=tt.prototype.ha,tt.prototype.setWithCredentials=tt.prototype.Oa,Cr.prototype.digest=Cr.prototype.l,Cr.prototype.reset=Cr.prototype.reset,Cr.prototype.update=Cr.prototype.j,Te.prototype.add=Te.prototype.add,Te.prototype.multiply=Te.prototype.R,Te.prototype.modulo=Te.prototype.gb,Te.prototype.compare=Te.prototype.X,Te.prototype.toNumber=Te.prototype.ea,Te.prototype.toString=Te.prototype.toString,Te.prototype.getBits=Te.prototype.D,Te.fromNumber=Kr,Te.fromString=function mV(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return zt(mV(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Kr(Math.pow(e,8)),r=nu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Kr(Math.pow(e,s)),r=r.R(s).add(Kr(o))):r=(r=r.R(n)).add(Kr(o))}return r};var wV,IV,EV,TV,SV,AV,MV,xV,RV,NV,kV,PV,OV,FV,LV,VV,UV,BV,jV,$V,HV,GV,zV,qV,WV,KV,YV,XV,sU,oU,aU,uU,cU,Xoe=Er.createWebChannelTransport=function(){return new lg},Joe=Er.getStatEventTarget=function(){return Yp()},gC=Er.ErrorCode=Xp,Zoe=Er.EventType=A2,eae=Er.Event=oo,vV=Er.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tae=Er.FetchXmlHttpFactory=Ol,pg=Er.WebChannel=x2,nae=Er.XhrIo=tt,rae=Er.Md5=Cr,iu=Er.Integer=Te;const lU="@firebase/firestore";class xt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");let su="9.23.0";const as=new Ha("@firebase/firestore");function mC(){return as.logLevel}function A(t,...e){if(as.logLevel<=me.DEBUG){const n=e.map(yC);as.debug(`Firestore (${su}): ${t}`,...n)}}function at(t,...e){if(as.logLevel<=me.ERROR){const n=e.map(yC);as.error(`Firestore (${su}): ${t}`,...n)}}function Dr(t,...e){if(as.logLevel<=me.WARN){const n=e.map(yC);as.warn(`Firestore (${su}): ${t}`,...n)}}function yC(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function V(t="Unexpected state"){const e=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: `+t;throw at(e),new Error(e)}function B(t,e){t||V()}function R(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class dU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class sae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oae{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Dt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(v(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new dU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new xt(e)}}class aae{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class uae{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new aae(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cae{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),this.T=n.token,new hU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class fU{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=lae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Q(t,e){return t<e?-1:t>e?1:0}function ou(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new Ye(0,0))}static max(){return new j(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jl{constructor(e,n,r){void 0===n?n=0:n>e.length&&V(),void 0===r?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===jl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pe extends jl{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const dae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends jl{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return dae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(pe.fromString(e))}static fromName(e){return new x(pe.fromString(e).popFirst(5))}static empty(){return new x(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new pe(e.slice()))}}function mU(t){return new Kn(t.readTime,t.key,-1)}class Kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kn(j.min(),x.empty(),-1)}static max(){return new Kn(j.max(),x.empty(),-1)}}function vC(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:Q(t.largestBatchId,e.largestBatchId))}const yU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function us(t){return(wV=wV||v(function*(e){if(e.code!==I.FAILED_PRECONDITION||e.message!==yU)throw e;A("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function cs(t){return"IndexedDbTransactionError"===t.name}let Qn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Gl(t){return null==t}function zl(t){return 0===t&&1/t==-1/0}function TU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ue{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vg(this.root,e,this.comparator,!1)}getReverseIterator(){return new vg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vg(this.root,e,this.comparator,!0)}}class vg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=s??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new qt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1,qt.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(t,e,n,r,i){return this}insert(t,e,n){return new qt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $e{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AU(this.data.getIterator())}getIteratorFrom(e){return new AU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class AU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new $e(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ou(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class MU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new MU("Invalid base64 string: "+i):i}}(e);return new bt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const Lae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(t){if(B(!!t),"string"==typeof t){let e=0;const n=Lae.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function xi(t){return"string"==typeof t?bt.fromBase64String(t):bt.fromUint8Array(t)}function wg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ig(t){const e=t.mapValue.fields.__previous_value__;return wg(e)?Ig(e):e}function ql(t){const e=ds(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}class Vae{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class fo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}const hs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wg(t)?4:kU(t)?9007199254740991:10:V()}function Yr(t,e){if(t===e)return!0;const n=fs(t);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ql(t).isEqual(ql(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ds(r.timestampValue),o=ds(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,xi(t.bytesValue).isEqual(xi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return nt(r.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(r.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return nt(r.integerValue)===nt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=nt(r.doubleValue),o=nt(i.doubleValue);return s===o?zl(s)===zl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ou(t.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(TU(s)!==TU(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Yr(s[a],o[a])))return!1;return!0}(t,e);default:return V()}var i}function Wl(t,e){return void 0!==(t.values||[]).find(n=>Yr(n,e))}function ps(t,e){if(t===e)return 0;const n=fs(t),r=fs(e);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=nt(i.integerValue||i.doubleValue),a=nt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return xU(t.timestampValue,e.timestampValue);case 4:return xU(ql(t),ql(e));case 5:return Q(t.stringValue,e.stringValue);case 6:return function(i,s){const o=xi(i),a=xi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Q(o[u],a[u]);if(0!==c)return c}return Q(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Q(nt(i.latitude),nt(s.latitude));return 0!==o?o:Q(nt(i.longitude),nt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ps(o[u],a[u]);if(c)return c}return Q(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===hs.mapValue&&s===hs.mapValue)return 0;if(i===hs.mapValue)return 1;if(s===hs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Q(a[l],c[l]);if(0!==d)return d;const h=ps(o[a[l]],u[c[l]]);if(0!==h)return h}return Q(a.length,c.length)}(t.mapValue,e.mapValue);default:throw V()}}function xU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Q(t,e);const n=ds(t),r=ds(e),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function uu(t){return EC(t)}function EC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ds(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?xi(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=EC(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${EC(r.fields[a])}`;return s+"}"}(t.mapValue):V();var e}function po(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function CC(t){return!!t&&"integerValue"in t}function Kl(t){return!!t&&"arrayValue"in t}function RU(t){return!!t&&"nullValue"in t}function NU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dg(t){return!!t&&"mapValue"in t}function Ql(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ql(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ql(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Dg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ls(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(Ql(this.value))}}function FU(t){const e=[];return ls(t.fields,(n,r)=>{const i=new ut([n]);if(Dg(r)){const s=FU(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nn(e)}class He{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new He(e,0,j.min(),j.min(),j.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new He(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new He(e,2,n,j.min(),j.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new He(e,3,n,j.min(),j.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gs{constructor(e,n){this.position=e,this.inclusive=n}}function LU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):ps(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function VU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yr(t.position[n],e.position[n]))return!1;return!0}class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function jae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class UU{}class ue extends UU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new $ae(e,n,r):"array-contains"===n?new zae(e,r):"in"===n?new zU(e,r):"not-in"===n?new qae(e,r):"array-contains-any"===n?new Wae(e,r):new ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Hae(e,r):new Gae(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ps(n,this.value)):null!==n&&fs(this.value)===fs(n)&&this.matchesComparison(ps(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Se extends UU{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Se(e,n)}matches(e){return lu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function lu(t){return"and"===t.op}function bC(t){return function BU(t){for(const e of t.filters)if(e instanceof Se)return!1;return!0}(t)&&lu(t)}function TC(t){if(t instanceof ue)return t.field.canonicalString()+t.op.toString()+uu(t.value);if(bC(t))return t.filters.map(e=>TC(e)).join(",");{const e=t.filters.map(n=>TC(n)).join(",");return`${t.op}(${e})`}}function jU(t,e){return t instanceof ue?(n=t,(r=e)instanceof ue&&n.op===r.op&&n.field.isEqual(r.field)&&Yr(n.value,r.value)):t instanceof Se?function(n,r){return r instanceof Se&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&jU(s,r.filters[o]),!0)}(t,e):void V();var n,r}function HU(t){return t instanceof ue?function(e){return`${e.field.canonicalString()} ${e.op} ${uu(e.value)}`}(t):t instanceof Se?function(e){return e.op.toString()+" {"+e.getFilters().map(HU).join(" ,")+"}"}(t):"Filter"}class $ae extends ue{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hae extends ue{constructor(e,n){super(e,"in",n),this.keys=GU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Gae extends ue{constructor(e,n){super(e,"not-in",n),this.keys=GU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class zae extends ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kl(n)&&Wl(n.arrayValue,this.value)}}class zU extends ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Wl(this.value.arrayValue,n)}}class qae extends ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Wl(this.value.arrayValue,n)}}class Wae extends ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}class Kae{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function SC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Kae(t,e,n,r,i,s,o)}function go(t){const e=R(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>TC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uu(r)).join(",")),e.dt=n}return e.dt}function Yl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VU(t.startAt,e.startAt)&&VU(t.endAt,e.endAt)}function bg(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ri{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function du(t){return new Ri(t)}function QU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function AC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Sg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function MC(t){return null!==t.collectionGroup}function mo(t){const e=R(t);if(null===e.wt){e.wt=[];const n=Sg(e),r=AC(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new cu(n)),e.wt.push(new cu(ut.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cu(ut.keyField(),s))}}}return e.wt}function vn(t){const e=R(t);if(!e._t)if("F"===e.limitType)e._t=SC(e.path,e.collectionGroup,mo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of mo(e))n.push(new cu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new gs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new gs(e.startAt.position,e.startAt.inclusive):null;e._t=SC(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function xC(t,e){e.getFirstInequalityField(),Sg(t);const n=t.filters.concat([e]);return new Ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ag(t,e,n){return new Ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xl(t,e){return Yl(vn(t),vn(e))&&t.limitType===e.limitType}function YU(t){return`${go(vn(t))}|lt:${t.limitType}`}function RC(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>HU(r)).join(", ")}]`),Gl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uu(r)).join(",")),`Target(${n})`}(vn(t))}; limitType=${t.limitType})`}function Jl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of mo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=LU(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,mo(n),r)||n.endAt&&!function(i,s,o){const a=LU(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,mo(n),r)));var n,r}function JU(t){return(e,n)=>{let r=!1;for(const i of mo(t)){const s=Qae(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Qae(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ps(a,u):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}class Ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return SU(this.inner)}size(){return this.innerSize}}const Yae=new Ue(x.comparator);function kn(){return Yae}const ZU=new Ue(x.comparator);function Zl(...t){let e=ZU;for(const n of t)e=e.insert(n.key,n);return e}function eB(t){let e=ZU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xr(){return ed()}function tB(){return ed()}function ed(){return new Ni(t=>t.toString(),(t,e)=>t.isEqual(e))}const Xae=new Ue(x.comparator),Jae=new $e(x.comparator);function ne(...t){let e=Jae;for(const n of t)e=e.add(n);return e}const Zae=new $e(Q);function nB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zl(e)?"-0":e}}function rB(t){return{integerValue:""+t}}function iB(t,e){return function vU(t){return"number"==typeof t&&Number.isInteger(t)&&!zl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?rB(e):nB(t,e)}class Mg{constructor(){this._=void 0}}function eue(t,e,n){return t instanceof hu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&wg(i)&&(i=Ig(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof yo?oB(t,e):t instanceof _o?aB(t,e):function(r,i){const s=sB(r,i),o=uB(s)+uB(r.gt);return CC(s)&&CC(r.gt)?rB(o):nB(r.serializer,o)}(t,e)}function tue(t,e,n){return t instanceof yo?oB(t,e):t instanceof _o?aB(t,e):n}function sB(t,e){return t instanceof fu?CC(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class hu extends Mg{}class yo extends Mg{constructor(e){super(),this.elements=e}}function oB(t,e){const n=cB(e);for(const r of t.elements)n.some(i=>Yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class _o extends Mg{constructor(e){super(),this.elements=e}}function aB(t,e){let n=cB(e);for(const r of t.elements)n=n.filter(i=>!Yr(i,r));return{arrayValue:{values:n}}}class fu extends Mg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function uB(t){return nt(t.integerValue||t.doubleValue)}function cB(t){return Kl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class rue{constructor(e,n){this.version=e,this.transformResults=n}}class We{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new We}static exists(e){return new We(void 0,e)}static updateTime(e){return new We(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Rg{}function lB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new gu(t.key,We.none()):new pu(t.key,t.data,We.none());{const n=t.data,r=Wt.empty();let i=new $e(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ki(t.key,r,new Nn(i.toArray()),We.none())}}function iue(t,e,n){t instanceof pu?function(r,i,s){const o=r.value.clone(),a=fB(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ki?function(r,i,s){if(!xg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=fB(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(hB(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function nd(t,e,n,r){return t instanceof pu?function(i,s,o,a){if(!xg(i.precondition,s))return o;const u=i.value.clone(),c=pB(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ki?function(i,s,o,a){if(!xg(i.precondition,s))return o;const u=pB(i.fieldTransforms,a,s),c=s.data;return c.setAll(hB(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,xg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function sue(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sB(r.transform,i||null);null!=s&&(null===n&&(n=Wt.empty()),n.set(r.field,s))}return n||null}function dB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ou(n,r,(i,s)=>function nue(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof yo&&r instanceof yo||n instanceof _o&&r instanceof _o?ou(n.elements,r.elements,Yr):n instanceof fu&&r instanceof fu?Yr(n.gt,r.gt):n instanceof hu&&r instanceof hu);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class pu extends Rg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ki extends Rg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fB(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,tue(o,a,n[i]))}return r}function pB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,eue(s,o,e))}return r}class gu extends Rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kC extends Rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&iue(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=lB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&ou(this.mutations,e.mutations,(n,r)=>dB(n,r))&&ou(this.baseMutations,e.baseMutations,(n,r)=>dB(n,r))}}class OC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){B(e.mutations.length===r.length);let i=Xae;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new OC(e,n,r,i)}}class FC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class aue{constructor(e,n){this.count=e,this.unchangedNames=n}}var yt,ge;function mB(t){if(void 0===t)return at("GRPC error has no .code"),I.UNKNOWN;switch(t){case yt.OK:return I.OK;case yt.CANCELLED:return I.CANCELLED;case yt.UNKNOWN:return I.UNKNOWN;case yt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case yt.INTERNAL:return I.INTERNAL;case yt.UNAVAILABLE:return I.UNAVAILABLE;case yt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case yt.NOT_FOUND:return I.NOT_FOUND;case yt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case yt.ABORTED:return I.ABORTED;case yt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case yt.DATA_LOSS:return I.DATA_LOSS;default:return V()}}(ge=yt||(yt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";class LC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ng}static getOrCreateInstance(){return null===Ng&&(Ng=new LC),Ng}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ng=null;const uue=new iu([4294967295,4294967295],0);function _B(t){const e=function yB(){return new TextEncoder}().encode(t),n=new rae;return n.update(e),new Uint8Array(n.digest())}function vB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new iu([n,r],0),new iu([i,s],0)]}class VC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rd(`Invalid padding: ${n}`);if(r<0)throw new rd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new rd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new rd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=iu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(iu.fromNumber(r)));return 1===i.compare(uue)&&(i=new iu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=_B(e),[r,i]=vB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new VC(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=_B(e),[r,i]=vB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class id{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new id(j.min(),i,new Ue(Q),kn(),ne())}}class sd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sd(r,n,ne(),ne(),ne())}}class kg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class wB{constructor(e,n){this.targetId=e,this.Vt=n}}class IB{constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class EB{constructor(){this.St=0,this.Dt=DB(),this.Ct=bt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ne(),n=ne(),r=ne();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new sd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=DB()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class cue{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=kn(),this.zt=CB(),this.Wt=new Ue(Q)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(bg(o))if(0===i){const a=new x(o.path);this.Yt(r,a,He.newNoDocument(a,j.min()))}else B(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=LC.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,y;const _={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(y=null===(m=E?.bits)||void 0===m?void 0:m.padding)&&void 0!==y?y:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=xi(s).toUint8Array()}catch(l){if(l instanceof MU)return Dr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new VC(u,o,a)}catch(l){return Dr(l instanceof rd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&bg(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,He.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ne();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new id(e,n,this.Wt,this.jt,r);return this.jt=kn(),this.zt=CB(),this.Wt=new Ue(Q),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new EB,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new $e(Q),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new EB),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function CB(){return new Ue(x.comparator)}function DB(){return new Ue(x.comparator)}const lue={asc:"ASCENDING",desc:"DESCENDING"},due={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hue={and:"AND",or:"OR"};class fue{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function UC(t,e){return t.useProto3Json||Gl(e)?e:{value:e}}function mu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pue(t,e){return mu(t,e.toTimestamp())}function ct(t){return B(!!t),j.fromTimestamp(function(e){const n=ds(e);return new Ye(n.seconds,n.nanos)}(t))}function BC(t,e){return(n=t,new pe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function TB(t){const e=pe.fromString(t);return B(OB(e)),e}function od(t,e){return BC(t.databaseId,e.path)}function Jr(t,e){const n=TB(e);if(n.get(1)!==t.databaseId.projectId)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(AB(n))}function jC(t,e){return BC(t.databaseId,e)}function ad(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AB(t){return B(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function MB(t,e,n){return{name:od(t,e),fields:n.value.mapValue.fields}}function RB(t,e){return{documents:[jC(t,e.path)]}}function HC(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=jC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jC(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return PB(Se.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ms((l=c).field),direction:vue(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=UC(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function NB(t){let e=function SB(t){const e=TB(t);return 4===e.length?pe.emptyPath():AB(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=kB(l);return d instanceof Se&&bC(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new cu(yu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Gl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new gs((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new gs(l.values||[],!l.before)}(n.endAt)),function KU(t,e,n,r,i,s,o,a){return new Ri(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function kB(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=yu(e.unaryFilter.field);return ue.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=yu(e.unaryFilter.field);return ue.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yu(e.unaryFilter.field);return ue.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=yu(e.unaryFilter.field);return ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(t):void 0!==t.fieldFilter?function(e){return ue.create(yu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Se.create(e.compositeFilter.filters.map(n=>kB(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return V()}}(e.compositeFilter.op))}(t):V()}function vue(t){return lue[t]}function wue(t){return due[t]}function Iue(t){return hue[t]}function ms(t){return{fieldPath:t.canonicalString()}}function yu(t){return ut.fromServerFormat(t.fieldPath)}function PB(t){return t instanceof ue?function(e){if("=="===e.op){if(NU(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NAN"}};if(RU(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(NU(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NOT_NAN"}};if(RU(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(e.field),op:wue(e.op),value:e.value}}}(t):t instanceof Se?function(e){const n=e.getFilters().map(r=>PB(r));return 1===n.length?n[0]:{compositeFilter:{op:Iue(e.op),filters:n}}}(t):V()}function Eue(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Pi{constructor(e,n,r,i,s=j.min(),o=j.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class FB{constructor(e){this.fe=e}}function GC(t){const e=NB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ag(e,e.limit,"L"):e}class Eo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(nt(e.integerValue));else if("doubleValue"in e){const r=nt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),zl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(xi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?kU(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):V()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Eo.Ve=new Eo;class Rue{constructor(){this.rn=new YC}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(Kn.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class YC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $e(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(pe.comparator)).toArray()}}new Uint8Array(0);class rn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(41943040,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);class Do{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Do(0)}static Mn(){return new Do(-1)}}class Lue{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,He.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class uj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&nd(r.mutation,i,Nn.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=Xr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Zl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=kn();const o=ed(),a=ed();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ki)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),nd(l.mutation,c,l.mutation.getFieldMask(),Ye.now())):o.set(c.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Bue(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ed();let i=new Ue((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Nn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ne()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=tB();l.forEach(h=>{if(!s.has(h)){const f=lB(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):MC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(Xr());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ne())).next(l=>({batchId:a,changes:eB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Zl();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new Ri(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,He.newInvalidDocument(c)))});let o=Zl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&nd(c.mutation,u,Nn.empty(),Ye.now()),Jl(n,u)&&(o=o.insert(a,u))}),o})}}class jue{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ct(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:GC(r.bundledQuery),readTime:ct(r.readTime)}),w.resolve();var r}}class $ue{constructor(){this.overlays=new Ue(x.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xr();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=Xr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ue((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Xr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Xr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FC(n,r));let s=this.ls.get(n);void 0===s&&(s=ne(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class XC{constructor(){this.fs=new $e(Nt.ds),this.ws=new $e(Nt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Nt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new pe([])),r=new Nt(n,e),i=new Nt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new pe([])),r=new Nt(n,e),i=new Nt(n,e+1);let s=ne();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Nt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||Q(e.As,n.As)}static _s(e,n){return Q(e.As,n.As)||x.comparator(e.key,n.key)}}class Hue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new $e(Nt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new PC(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(Q);return n.forEach(i=>{const s=new Nt(i,0),o=new Nt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Nt(new x(s),0);let a=new $e(Q);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){B(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Nt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Gue{constructor(e){this.Ds=e,this.docs=new Ue(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():He.newInvalidDocument(n))}getEntries(e,n){let r=kn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():He.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=kn();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||vC(mU(l),r)<=0||(i.has(l.key)||Jl(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){V()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zue(this)}getSize(e){return w.resolve(this.size)}}class zue extends Lue{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class que{constructor(e){this.persistence=e,this.xs=new Ni(n=>go(n),Yl),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Ns=0,this.ks=new XC,this.targetCount=0,this.Ms=Do.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class JC{constructor(e,n){this.$s={},this.overlays={},this.Os=new Qn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new que(this),this.indexManager=new Rue,this.remoteDocumentCache=new Gue(r=>this.referenceDelegate.Ls(r)),this.serializer=new FB(n),this.qs=new jue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $ue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Hue(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new Wue(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Wue extends pae{constructor(e){super(),this.currentSequenceNumber=e}}class $g{constructor(e){this.persistence=e,this.Qs=new XC,this.js=null}static zs(e){return new $g(e)}get Ws(){if(this.js)return this.js;throw V()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class nD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new nD(e,n.fromCache,r,i)}}class lj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(QU(n))return w.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Ag(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Ag(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return QU(n)||i.isEqual(j.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(mC()<=me.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),RC(n)),this.Wi(e,o,n,function gU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new Ye(n+1,0):new Ye(n,r));return new Kn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new $e(JU(e));return n.forEach((i,s)=>{Jl(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return mC()<=me.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",RC(n)),this.Ui.getDocumentsMatchingQuery(e,n,Kn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Que{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ue(Q),this.Yi=new Ni(s=>go(s),Yl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function hj(t,e){return(IV=IV||v(function*(n,r){const i=R(n);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(a=>(o=a,i.tr(r),i.mutationQueue.getAllMutationBatches(s))).next(a=>{const u=[],c=[];let l=ne();for(const d of o){u.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of a){c.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return i.localDocuments.getDocuments(s,l).next(d=>({er:d,removedBatchIds:u,addedBatchIds:c}))})})})).apply(this,arguments)}function fj(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Jue(t,e){const n=R(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Iu(t,e,n){return(EV=EV||v(function*(r,i,s){const o=R(r),a=o.Ji.get(i),u=s?"readwrite":"readwrite-primary";try{s||(yield o.persistence.runTransaction("Release target",u,c=>o.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!cs(c))throw c;A("LocalStore",`Failed to update sequence numbers for target ${i}: ${c}`)}o.Ji=o.Ji.remove(i),o.Yi.delete(a.target)})).apply(this,arguments)}function zg(t,e,n){const r=R(t);let i=j.min(),s=ne();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:j.min(),n?s:ne())).next(a=>(function yj(t,e,n){let r=t.Xi.get(e)||j.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function XU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class sD{constructor(){this.activeTargetIds=function NC(){return Zae}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wj{constructor(){this.Hr=new sD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new sD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tce{Yr(e){}shutdown(){}}class Ij{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kg=null;function aD(){return null===Kg?Kg=268435456+Math.round(2147483648*Math.random()):Kg++,"0x"+Kg.toString(16)}const nce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rce{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const sn="WebChannelConnection";class ice extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=aD(),a=this.To(e,n);A("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(A("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Dr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+su,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${nce[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=aD();return new Promise((o,a)=>{const u=new nae;u.setWithCredentials(!0),u.listenOnce(Zoe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gC.NO_ERROR:const l=u.getResponseJson();A(sn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case gC.TIMEOUT:A(sn,`RPC '${e}' ${s} timed out`),a(new b(I.DEADLINE_EXCEEDED,"Request time out"));break;case gC.HTTP_ERROR:const d=u.getStatus();if(A(sn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(I.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{A(sn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);A(sn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=aD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xoe(),a=Joe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new tae({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");A(sn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new rce({ro:m=>{f?A(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(A(sn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),A(sn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,y,_)=>{m.listen(y,E=>{try{_(E)}catch(C){setTimeout(()=>{throw C},0)}})};return g(d,pg.EventType.OPEN,()=>{f||A(sn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,pg.EventType.CLOSE,()=>{f||(f=!0,A(sn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,pg.EventType.ERROR,m=>{f||(f=!0,Dr(sn,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new b(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,pg.EventType.MESSAGE,m=>{var y;if(!f){const _=m.data[0];B(!!_);const C=_.error||(null===(y=_[0])||void 0===y?void 0:y.error);if(C){A(sn,`RPC '${e}' stream ${i} received error:`,C);const k=C.status;let Y=function(ht){const kt=yt[ht];if(void 0!==kt)return mB(kt)}(k),_e=C.message;void 0===Y&&(Y=I.INTERNAL,_e="Unknown error status: "+k+" with message "+C.message),f=!0,p.wo(new b(Y,_e)),d.close()}else A(sn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,eae.STAT_EVENT,m=>{m.stat===vV.PROXY?A(sn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===vV.NOPROXY&&A(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Qg(){return typeof document<"u"?document:null}function yd(t){return new fue(t,!0)}class uD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Cj{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new uD(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return v(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return v(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return v(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(at(n.toString()),at("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(v(function*(){e.state=0,e.start()}))}tu(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sce extends Cj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function mue(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:V(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(B(void 0===c||"string"==typeof c),bt.fromBase64String(c||"")):(B(void 0===c||c instanceof Uint8Array),bt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:mB(u.code);return new b(c,u.message||"")}(o);n=new IB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Jr(t,r.document.name),s=ct(r.document.updateTime),o=r.document.createTime?ct(r.document.createTime):j.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=He.newFoundDocument(i,s,o,a);n=new kg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Jr(t,r.document),s=r.readTime?ct(r.readTime):j.min(),o=He.newNoDocument(i,s);n=new kg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Jr(t,r.document);n=new kg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return V();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new aue(i,s);n=new wB(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return j.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?ct(s.readTime):j.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=ad(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=bg(a)?{documents:RB(i,a)}:{query:HC(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=bB(i,s.resumeToken);const u=UC(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(j.min())>0){o.readTime=mu(i,s.snapshotVersion.toTimestamp());const u=UC(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function _ue(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=ad(this.serializer),n.removeTarget=e,this.Wo(n)}}class oce extends Cj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function yue(t,e){return t&&t.length>0?(B(void 0!==e),t.map(n=>function(r,i){let s=ct(r.updateTime?r.updateTime:i);return s.isEqual(j.min())&&(s=ct(i)),new rue(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.cu(r,n)}return B(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ad(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function ud(t,e){let n;if(e instanceof pu)n={update:MB(t,e.key,e.value)};else if(e instanceof gu)n={delete:od(t,e.key)};else if(e instanceof ki)n={update:MB(t,e.key,e.data),updateMask:Eue(e.fieldMask)};else{if(!(e instanceof kC))return V();n={verify:od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof hu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof yo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof _o)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof fu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:pue(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:V()),n;var i}(this.serializer,r))};this.Wo(n)}}class ace extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class cce{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(at(n),this.mu=!1):A("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class lce{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(v(function*(){var u;ws(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield function(c){return(u=u||v(function*(l){const d=R(l);d.vu.add(4),yield Eu(d),d.bu.set("Unknown"),d.vu.delete(4),yield _d(d)})).apply(this,arguments)}(o))}))}),this.bu=new cce(r,i)}}function _d(t){return(TV=TV||v(function*(e){if(ws(e))for(const n of e.Ru)yield n(!0)})).apply(this,arguments)}function Eu(t){return(SV=SV||v(function*(e){for(const n of e.Ru)yield n(!1)})).apply(this,arguments)}function Yg(t,e){const n=R(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),dD(n)?lD(n):Du(n).Ko()&&cD(n,e))}function vd(t,e){const n=R(t),r=Du(n);n.Au.delete(e),r.Ko()&&Dj(n,e),0===n.Au.size&&(r.Ko()?r.jo():ws(n)&&n.bu.set("Unknown"))}function cD(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Du(t).su(e)}function Dj(t,e){t.Vu.qt(e),Du(t).iu(e)}function lD(t){t.Vu=new cue({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Du(t).start(),t.bu.gu()}function dD(t){return ws(t)&&!Du(t).Uo()&&t.Au.size>0}function ws(t){return 0===R(t).vu.size}function bj(t){t.Vu=void 0}function dce(t){return(AV=AV||v(function*(e){e.Au.forEach((n,r)=>{cD(e,n)})})).apply(this,arguments)}function hce(t,e){return(MV=MV||v(function*(n,r){bj(n),dD(n)?(n.bu.Iu(r),lD(n)):n.bu.set("Unknown")})).apply(this,arguments)}function fce(t,e,n){return(xV=xV||v(function*(r,i,s){if(r.bu.set("Online"),i instanceof IB&&2===i.state&&i.cause)try{var o;yield function(a,u){return(o=o||v(function*(c,l){const d=l.cause;for(const h of l.targetIds)c.Au.has(h)&&(yield c.remoteSyncer.rejectListen(h,d),c.Au.delete(h),c.Vu.removeTarget(h))})).apply(this,arguments)}(r,i)}catch(a){A("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),a),yield Xg(r,a)}else if(i instanceof kg?r.Vu.Ht(i):i instanceof wB?r.Vu.ne(i):r.Vu.Xt(i),!s.isEqual(j.min()))try{const a=yield fj(r.localStore);s.compareTo(a)>=0&&(yield function(u,c){const l=u.Vu.ce(c);return l.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const f=u.Au.get(h);f&&u.Au.set(h,f.withResumeToken(d.resumeToken,c))}}),l.targetMismatches.forEach((d,h)=>{const f=u.Au.get(d);if(!f)return;u.Au.set(d,f.withResumeToken(bt.EMPTY_BYTE_STRING,f.snapshotVersion)),Dj(u,d);const p=new Pi(f.target,d,h,f.sequenceNumber);cD(u,p)}),u.remoteSyncer.applyRemoteEvent(l)}(r,s))}catch(a){A("RemoteStore","Failed to raise snapshot:",a),yield Xg(r,a)}})).apply(this,arguments)}function Xg(t,e,n){return(RV=RV||v(function*(r,i,s){if(!cs(i))throw i;r.vu.add(1),yield Eu(r),r.bu.set("Offline"),s||(s=()=>fj(r.localStore)),r.asyncQueue.enqueueRetryable(v(function*(){A("RemoteStore","Retrying IndexedDB access"),yield s(),r.vu.delete(1),yield _d(r)}))})).apply(this,arguments)}function Tj(t,e){return e().catch(n=>Xg(t,n,e))}function Cu(t){return(NV=NV||v(function*(e){const n=R(e),r=Is(n);let i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;for(;pce(n);)try{const s=yield Jue(n.localStore,i);if(null===s){0===n.Eu.length&&r.jo();break}i=s.batchId,gce(n,s)}catch(s){yield Xg(n,s)}Sj(n)&&Aj(n)})).apply(this,arguments)}function pce(t){return ws(t)&&t.Eu.length<10}function gce(t,e){t.Eu.push(e);const n=Is(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Sj(t){return ws(t)&&!Is(t).Uo()&&t.Eu.length>0}function Aj(t){Is(t).start()}function mce(t){return(kV=kV||v(function*(e){Is(e).hu()})).apply(this,arguments)}function yce(t){return(PV=PV||v(function*(e){const n=Is(e);for(const r of e.Eu)n.uu(r.mutations)})).apply(this,arguments)}function _ce(t,e,n){return(OV=OV||v(function*(r,i,s){const o=r.Eu.shift(),a=OC.from(o,i,s);yield Tj(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Cu(r)})).apply(this,arguments)}function vce(t,e){return(FV=FV||v(function*(n,r){var i;r&&Is(n).ou&&(yield function(s,o){return(i=i||v(function*(a,u){if(function gB(t){switch(t){default:return V();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(c=u.code)&&c!==I.ABORTED){const l=a.Eu.shift();Is(a).Qo(),yield Tj(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,u)),yield Cu(a)}var c})).apply(this,arguments)}(n,r)),Sj(n)&&Aj(n)})).apply(this,arguments)}function Mj(t,e){return(LV=LV||v(function*(n,r){const i=R(n);i.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const s=ws(i);i.vu.add(3),yield Eu(i),s&&i.bu.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(r),i.vu.delete(3),yield _d(i)})).apply(this,arguments)}function Du(t){var e;return t.Su||(t.Su=function(n,r,i){const s=R(n);return s.fu(),new sce(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:dce.bind(null,t),ao:hce.bind(null,t),nu:fce.bind(null,t)}),t.Ru.push(function(n){return(e=e||v(function*(r){r?(t.Su.Qo(),dD(t)?lD(t):t.bu.set("Unknown")):(yield t.Su.stop(),bj(t))})).apply(this,arguments)})),t.Su}function Is(t){var e;return t.Du||(t.Du=function(n,r,i){const s=R(n);return s.fu(),new oce(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:mce.bind(null,t),ao:vce.bind(null,t),au:yce.bind(null,t),cu:_ce.bind(null,t)}),t.Ru.push(function(n){return(e=e||v(function*(r){r?(t.Du.Qo(),yield Cu(t)):(yield t.Du.stop(),t.Eu.length>0&&(A("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})).apply(this,arguments)})),t.Du}class fD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new fD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bu(t,e){if(at("AsyncQueue",`${e}: ${t}`),cs(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Tu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Zl(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new Tu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Tu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class xj{constructor(){this.Cu=new Ue(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):V():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Su{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Su(e,n,Tu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class wce{constructor(){this.Nu=void 0,this.listeners=[]}}class Ice{constructor(){this.queries=new Ni(e=>YU(e),Xl),this.onlineState="Unknown",this.ku=new Set}}function pD(t,e){return(UV=UV||v(function*(n,r){const i=R(n),s=r.query;let o=!1,a=i.queries.get(s);if(a||(o=!0,a=new wce),o)try{a.Nu=yield i.onListen(s)}catch(u){const c=bu(u,`Initialization of query '${RC(r.query)}' failed`);return void r.onError(c)}i.queries.set(s,a),a.listeners.push(r),r.Mu(i.onlineState),a.Nu&&r.$u(a.Nu)&&mD(i)})).apply(this,arguments)}function gD(t,e){return(BV=BV||v(function*(n,r){const i=R(n),s=r.query;let o=!1;const a=i.queries.get(s);if(a){const u=a.listeners.indexOf(r);u>=0&&(a.listeners.splice(u,1),o=0===a.listeners.length)}if(o)return i.queries.delete(s),i.onUnlisten(s)})).apply(this,arguments)}function Ece(t,e){const n=R(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&mD(n)}function Cce(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function mD(t){t.ku.forEach(e=>{e.next()})}class yD{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Su(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class kj{constructor(e){this.key=e}}class Pj{constructor(e){this.key=e}}class Oj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ne(),this.mutatedKeys=ne(),this.tc=JU(e),this.ec=new Tu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new xj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Jl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Su(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new xj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ne(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Pj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new kj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ne();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Su.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Tce{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Sce{constructor(e){this.key=e,this.fc=!1}}class Ace{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ni(a=>YU(a),Xl),this._c=new Map,this.mc=new Set,this.gc=new Ue(x.comparator),this.yc=new Map,this.Ic=new XC,this.Tc={},this.Ec=new Map,this.Ac=Do.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Mce(t,e){return(jV=jV||v(function*(n,r){const i=function CD(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nce.bind(null,e),e.dc.nu=Ece.bind(null,e.eventManager),e.dc.Pc=Cce.bind(null,e.eventManager),e}(n);let s,o;const a=i.wc.get(r);if(a)s=a.targetId,i.sharedClientState.addLocalQueryTarget(s),o=a.view.lc();else{const u=yield function wu(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(i.localStore,vn(r)),c=i.sharedClientState.addLocalQueryTarget(u.targetId);s=u.targetId,o=yield function _D(t,e,n,r,i){return($V=$V||v(function*(s,o,a,u,c){s.Rc=(m,y,_)=>{var E;return function(C,k,Y,_e){return(E=E||v(function*(ht,kt,Qd,$m){let Hm=kt.view.sc(Qd);Hm.zi&&(Hm=yield zg(ht.localStore,kt.query,!1).then(({documents:Mge})=>kt.view.sc(Mge,Hm)));const Age=$m&&$m.targetChanges.get(kt.targetId),J4=kt.view.applyChanges(Hm,ht.isPrimaryClient,Age);return ID(ht,kt.targetId,J4.cc),J4.snapshot})).apply(this,arguments)}(s,m,y,_)};const l=yield zg(s.localStore,o,!0),d=new Oj(o,l.ir),h=d.sc(l.documents),f=sd.createSynthesizedTargetChangeForCurrentChange(a,u&&"Offline"!==s.onlineState,c),p=d.applyChanges(h,s.isPrimaryClient,f);ID(s,a,p.cc);const g=new Tce(o,a,d);return s.wc.set(o,g),s._c.has(a)?s._c.get(a).push(o):s._c.set(a,[o]),p.snapshot})).apply(this,arguments)}(i,r,s,"current"===c,u.resumeToken),i.isPrimaryClient&&Yg(i.remoteStore,u)}return o})).apply(this,arguments)}function xce(t,e){return(HV=HV||v(function*(n,r){const i=R(n),s=i.wc.get(r),o=i._c.get(s.targetId);if(o.length>1)return i._c.set(s.targetId,o.filter(a=>!Xl(a,r))),void i.wc.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Iu(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),vd(i.remoteStore,s.targetId),Au(i,s.targetId)}).catch(us))):(Au(i,s.targetId),yield Iu(i.localStore,s.targetId,!0))})).apply(this,arguments)}function Fj(t,e){return(zV=zV||v(function*(n,r){const i=R(n);try{const s=yield function Xue(t,e){const n=R(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(bt.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=kn(),c=ne();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function pj(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=kn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(j.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(j.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(i.localStore,r);r.targetChanges.forEach((o,a)=>{const u=i.yc.get(a);u&&(B(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.fc=!0:o.modifiedDocuments.size>0?B(u.fc):o.removedDocuments.size>0&&(B(u.fc),u.fc=!1))}),yield Oi(i,s,r)}catch(s){yield us(s)}})).apply(this,arguments)}function Lj(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&mD(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Nce(t,e,n){return(qV=qV||v(function*(r,i,s){const o=R(r);o.sharedClientState.updateQueryState(i,"rejected",s);const a=o.yc.get(i),u=a&&a.key;if(u){let c=new Ue(x.comparator);c=c.insert(u,He.newNoDocument(u,j.min()));const l=ne().add(u),d=new id(j.min(),new Map,new Ue(Q),c,l);yield Fj(o,d),o.gc=o.gc.remove(u),o.yc.delete(i),ED(o)}else yield Iu(o.localStore,i,!1).then(()=>Au(o,i,s)).catch(us)})).apply(this,arguments)}function kce(t,e){return(WV=WV||v(function*(n,r){const i=R(n),s=r.batch.batchId;try{const o=yield function Yue(t,e){const n=R(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);B(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ne();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(i.localStore,r);wD(i,s,null),vD(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Oi(i,o)}catch(o){yield us(o)}})).apply(this,arguments)}function Pce(t,e,n){return(KV=KV||v(function*(r,i,s){const o=R(r);try{const a=yield function(u,c){const l=R(u);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,c).next(f=>(B(null!==f),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(o.localStore,i);wD(o,i,s),vD(o,i),o.sharedClientState.updateMutationState(i,"rejected",s),yield Oi(o,a)}catch(a){yield us(a)}})).apply(this,arguments)}function vD(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function wD(t,e,n){const r=R(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Au(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Vj(t,r)})}function Vj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(vd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),ED(t))}function ID(t,e,n){for(const r of n)r instanceof kj?(t.Ic.addReference(r.key,e),Fce(t,r)):r instanceof Pj?(A("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Vj(t,r.key)):V()}function Fce(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(A("SyncEngine","New document in limbo: "+n),t.mc.add(r),ED(t))}function ED(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(pe.fromString(e)),r=t.Ac.next();t.yc.set(r,new Sce(n)),t.gc=t.gc.insert(n,r),Yg(t.remoteStore,new Pi(vn(du(n.path)),r,"TargetPurposeLimboResolution",Qn.ct))}}function Oi(t,e,n){return(YV=YV||v(function*(r,i,s){var o;const a=R(r),u=[],c=[],l=[];a.wc.isEmpty()||(a.wc.forEach((d,h)=>{l.push(a.Rc(h,i,s).then(f=>{if((f||s)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(h.targetId,f?.fromCache?"not-current":"current"),f){u.push(f);const p=nD.Li(h.targetId,f);c.push(p)}}))}),yield Promise.all(l),a.dc.nu(u),yield function(d,h){return(o=o||v(function*(f,p){const g=R(f);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>w.forEach(p,y=>w.forEach(y.Fi,_=>g.persistence.referenceDelegate.addReference(m,y.targetId,_)).next(()=>w.forEach(y.Bi,_=>g.persistence.referenceDelegate.removeReference(m,y.targetId,_)))))}catch(m){if(!cs(m))throw m;A("LocalStore","Failed to update sequence numbers: "+m)}for(const m of p){const y=m.targetId;if(!m.fromCache){const _=g.Ji.get(y),C=_.withLastLimboFreeSnapshotVersion(_.snapshotVersion);g.Ji=g.Ji.insert(y,C)}}})).apply(this,arguments)}(a.localStore,c))})).apply(this,arguments)}function Lce(t,e){return(XV=XV||v(function*(n,r){const i=R(n);if(!i.currentUser.isEqual(r)){A("SyncEngine","User change. New user:",r.toKey());const s=yield hj(i.localStore,r);i.currentUser=r,(o=i).Ec.forEach(u=>{u.forEach(c=>{c.reject(new b(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),i.sharedClientState.handleUserChange(r,s.removedBatchIds,s.addedBatchIds),yield Oi(i,s.er)}var o})).apply(this,arguments)}function Vce(t,e){const n=R(t),r=n.yc.get(e);if(r&&r.fc)return ne().add(r.key);{let i=ne();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function DD(t){const e=R(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kce.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pce.bind(null,e),e}class Jg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return v(function*(){n.serializer=yd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function dj(t,e,n,r){return new Que(t,e,n,r)}(this.persistence,new lj,e.initialUser,this.serializer)}createPersistence(e){return new JC($g.zs,this.serializer)}createSharedClientState(e){return new wj}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Mu{initialize(e,n){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Lj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Lce.bind(null,r.syncEngine),yield function hD(t,e){return(VV=VV||v(function*(n,r){const i=R(n);r?(i.vu.delete(2),yield _d(i)):r||(i.vu.add(2),yield Eu(i),i.bu.set("Unknown"))})).apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ice}createDatastore(e){const n=yd(e.databaseInfo.databaseId),r=new ice(e.databaseInfo);return new ace(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Lj(this.syncEngine,a,0),o=Ij.D()?new Ij:new tce,new lce(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Ace(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e;return function(n){return(e=e||v(function*(r){const i=R(r);A("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Eu(i),i.Pu.shutdown(),i.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}class Zg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):at("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Xce{constructor(e,n,r,i){var o,s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=fU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(a){return(o=o||v(function*(u){A("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u})).apply(this,arguments)}),this.appCheckCredentials.start(r,a=>(A("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=bu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function em(t,e){return(sU=sU||v(function*(n,r){var i;n.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const s=yield n.getConfiguration();yield r.initialize(s);let o=s.initialUser;n.setCredentialChangeListener(function(a){return(i=i||v(function*(u){o.isEqual(u)||(yield hj(r.localStore,u),o=u)})).apply(this,arguments)}),r.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=r})).apply(this,arguments)}function bD(t,e){return(oU=oU||v(function*(n,r){n.asyncQueue.verifyOperationInProgress();const i=yield function TD(t){return(aU=aU||v(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield em(e,e._uninitializedComponentsProvider._offline)}catch(n){const r=n;if(!function Gj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r))throw r;Dr("Error using user provided cache. Falling back to memory cache: "+r),yield em(e,new Jg)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield em(e,new Jg);return e._offlineComponents})).apply(this,arguments)}(n);A("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield r.initialize(i,s),n.setCredentialChangeListener(o=>Mj(r.remoteStore,o)),n.setAppCheckTokenChangeListener((o,a)=>Mj(r.remoteStore,a)),n._onlineComponents=r})).apply(this,arguments)}function tm(t){return(uU=uU||v(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield bD(e,e._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield bD(e,new Mu))),e._onlineComponents})).apply(this,arguments)}function xu(t){return(cU=cU||v(function*(e){const n=yield tm(e),r=n.eventManager;return r.onListen=Mce.bind(null,n.syncEngine),r.onUnlisten=xce.bind(null,n.syncEngine),r})).apply(this,arguments)}function Yj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Xj=new Map;function AD(t,e,n){if(!n)throw new b(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Jj(t){if(!x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zj(t){if(x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":V()}function de(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rm(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class t${constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ole(t,e,n,r){if(!0===e&&!0===r)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Yj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t$(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new iae;switch(n.type){case"firstParty":return new uae(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Xj.get(e);n&&(A("ComponentProvider","Removing Datastore"),Xj.delete(e),n.terminate())}(this),Promise.resolve()}}class lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}}class Kt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class Zr extends Kt{constructor(e,n,r){super(e,n,du(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new x(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function ule(t,e,...n){if(t=qn(t),AD("collection","path",e),t instanceof wd){const r=pe.fromString(e,...n);return Zj(r),new Zr(t,null,r)}{if(!(t instanceof lt||t instanceof Zr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return Zj(r),new Zr(t.firestore,null,r)}}function n$(t,e,...n){if(t=qn(t),1===arguments.length&&(e=fU.A()),AD("doc","path",e),t instanceof wd){const r=pe.fromString(e,...n);return Jj(r),new lt(t,null,new x(r))}{if(!(t instanceof lt||t instanceof Zr))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return Jj(r),new lt(t.firestore,t instanceof Zr?t.converter:null,new x(r))}}class cle{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new uD(this,"async_queue_retry"),this.Xc=()=>{const n=Qg();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Qg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Qg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Dt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return v(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!cs(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,at("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=fD.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&V()}verifyOperationInProgress(){}sa(){var e=this;return v(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function MD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ge extends wd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cle,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||i$(this),this._firestoreClient.terminate()}}function dle(t,e){const r="string"==typeof t?t:e||"(default)",i=dp("object"==typeof t?t:TN(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=op())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function ale(t,e,n,r={}){var i;const s=(t=de(t,wd))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=xt.MOCK_USER;else{a=function XX(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ip(JSON.stringify({alg:"none",type:"JWT"})),ip(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new xt(c)}t._authCredentials=new sae(new dU(a,u))}}(i,...s)}return i}function _t(t){return t._firestoreClient||i$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function i$(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Vae(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Yj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Xce(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(bt.fromBase64String(e))}catch(n){throw new b(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new To(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ru{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class a${constructor(e){this._methodName=e}}class xD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}const fle=/^__.*__$/;class ple{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}function c$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class im{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new im(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return om(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(c$(this.ca)&&fle.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class gle{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yd(e)}ya(e,n,r,i=!1){return new im({ca:e,methodName:n,ga:r,path:ut.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nu(t){const e=t._freezeSettings(),n=yd(t._databaseId);return new gle(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RD(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);kD("Data must be an object, but it was:",o,r);const a=p$(r,o);let u,c;if(s.merge)u=new Nn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Cd(e,d,n);if(!o.contains(h))throw new b(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);m$(l,h)||l.push(h)}u=new Nn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new ple(new Wt(a),u,c)}function So(t,e){if(g$(t=qn(t)))return kD("Unsupported field value:",e,t),p$(t,e);if(t instanceof a$)return function(n,r){if(!c$(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=So(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=qn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return iB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ye.fromDate(n);return{timestampValue:mu(r.serializer,i)}}if(n instanceof Ye){const i=new Ye(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:mu(r.serializer,i)}}if(n instanceof xD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof To)return{bytesValue:bB(r.serializer,n._byteString)};if(n instanceof lt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:BC(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${rm(n)}`)}(t,e)}function p$(t,e){const n={};return SU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(t,(r,i)=>{const s=So(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function g$(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof xD||t instanceof To||t instanceof lt||t instanceof a$)}function kD(t,e,n){if(!g$(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=rm(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Cd(t,e,n){if((e=qn(e))instanceof Ru)return e._internalPath;if("string"==typeof e)return sm(t,e);throw om("Field path arguments must be of type string or ",t,!1,void 0,n)}const vle=new RegExp("[~\\*/\\[\\]]");function sm(t,e,n){if(e.search(vle)>=0)throw om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ru(...e.split("."))._internalPath}catch{throw om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function om(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(I.INVALID_ARGUMENT,a+t+u)}function m$(t,e){return t.some(n=>n.isEqual(e))}class PD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new wle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(am("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class wle extends PD{data(){return super.data()}}function am(t,e){return"string"==typeof e?sm(t,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}class OD{}class Ile extends OD{}function Ele(t,e,...n){let r=[];e instanceof OD&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof ku).length,o=i.filter(a=>a instanceof Dd).length;if(s>1||s>0&&o>0)throw new b(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Dd extends Ile{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Dd(e,n,r)}_apply(e){const n=this._parse(e);return I$(e._query,n),new Kt(e.firestore,e.converter,xC(e._query,n))}_parse(e){const n=Nu(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new b(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){w$(l,c);const h=[];for(const f of l)h.push(v$(a,i,f));d={arrayValue:{values:h}}}else d=v$(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||w$(l,c),d=function f$(t,e,n,r=!1){return So(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return ue.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Cle(t,e,n){const r=e,i=am("where",t);return Dd._create(i,r,n)}class ku extends OD{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ku(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Se.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)I$(s,a),s=xC(s,a)}(e._query,n),new Kt(e.firestore,e.converter,xC(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function v$(t,e,n){if("string"==typeof(n=qn(n))){if(""===n)throw new b(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MC(e)&&-1!==n.indexOf("/"))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pe.fromString(n));if(!x.isDocumentKey(r))throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return po(t,new x(r))}if(n instanceof lt)return po(t,n._key);throw new b(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rm(n)}.`)}function w$(t,e){if(!Array.isArray(t)||0===t.length)throw new b(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I$(t,e){if(e.isInequality()){const r=Sg(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new b(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=AC(t);null!==s&&function E$(t,e,n){if(!n.isEqual(e))throw new b(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new b(I.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Dle{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ls(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xD(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ig(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const n=ds(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pe.fromString(e);B(OB(r));const i=new fo(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||at(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function LD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pu extends PD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(am("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dm extends Pu{data(e={}){return super.data(e)}}class Ou{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ao(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dm(this._firestore,this._userDataWriter,r.key,r,new Ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new dm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ao(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new dm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ao(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Tle(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Tle(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}function Sle(t){t=de(t,lt);const e=de(t.firestore,Ge);return function Kj(t,e,n={}){const r=new Dt;return t.asyncQueue.enqueueAndForget(v(function*(){return function(i,s,o,a,u){const c=new Zg({next:d=>{s.enqueueAndForget(()=>gD(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new b(I.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new b(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new yD(du(o.path),c,{includeMetadataChanges:!0,Ku:!0});return pD(i,l)}(yield xu(t),t.asyncQueue,e,n,r)})),r.promise}(_t(e),t._key).then(n=>VD(e,t,n))}class Es extends Dle{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}}function Ale(t,e,n){t=de(t,lt);const r=de(t.firestore,Ge),i=LD(t.converter,e,n);return bd(r,[RD(Nu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,We.none())])}function Mle(t,e){const n=de(t.firestore,Ge),r=n$(t),i=LD(t.converter,e);return bd(n,[RD(Nu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,We.exists(!1))]).then(()=>r)}function bd(t,e){return function(n,r){const i=new Dt;return n.asyncQueue.enqueueAndForget(v(function*(){return function Rce(t,e,n){return(GV=GV||v(function*(r,i,s){const o=DD(r);try{const a=yield function(u,c){const l=R(u),d=Ye.now(),h=c.reduce((g,m)=>g.add(m.key),ne());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=kn(),y=ne();return l.Zi.getEntries(g,h).next(_=>{m=_,m.forEach((E,C)=>{C.isValidDocument()||(y=y.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,m)).next(_=>{f=_;const E=[];for(const C of c){const k=sue(C,f.get(C.key).overlayedDocument);null!=k&&E.push(new ki(C.key,k,FU(k.value.mapValue),We.exists(!0)))}return l.mutationQueue.addMutationBatch(g,d,E,c)}).next(_=>{p=_;const E=_.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,_.batchId,E)})}).then(()=>({batchId:p.batchId,changes:eB(f)}))}(o.localStore,i);o.sharedClientState.addPendingMutation(a.batchId),function(u,c,l){let d=u.Tc[u.currentUser.toKey()];d||(d=new Ue(Q)),d=d.insert(c,l),u.Tc[u.currentUser.toKey()]=d}(o,a.batchId,s),yield Oi(o,a.changes),yield Cu(o.remoteStore)}catch(a){const u=bu(a,"Failed to persist write");s.reject(u)}})).apply(this,arguments)}(yield function SD(t){return tm(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(_t(t),e)}function VD(t,e,n){const r=n.docs.get(e._key),i=new Es(t);return new Pu(t,i,e._key,r,new Ao(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){su=rl,mn(new Zt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ge(new oae(n.getProvider("auth-internal")),new cae(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ot(lU,"3.13.0",t),ot(lU,"3.13.0","esm2017")}();var $le={includeMetadataChanges:!1};function UD(t,e){return void 0===e&&(e=$le),new ze(function(n){var r=function xle(t,...e){var n,r,i;t=qn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||MD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(MD(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof lt)c=de(t.firestore,Ge),l=du(t._key.path),u={next:d=>{e[o]&&e[o](VD(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=de(t,Kt);c=de(d.firestore,Ge),l=d._query;const h=new Es(c);u={next:f=>{e[o]&&e[o](new Ou(c,h,d,f))},error:e[o+1],complete:e[o+2]},function y$(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Zg(p),m=new yD(h,g,f);return d.asyncQueue.enqueueAndForget(v(function*(){return pD(yield xu(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(v(function*(){return gD(yield xu(d),m)}))}}(_t(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Qle(t,e){return void 0===e&&(e={}),function Kle(t){return UD(t,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}(t).pipe(se(function(n){return n.map(function(r){return function b$(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class fm{constructor(e){return e}}const M$="firestore",$D=new O("angularfire2.firestore-instances");function Jle(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new fm(r)}}const Zle={provide:class Yle{constructor(){return LI(M$)}},deps:[[new Tn,$D]]},ede={provide:fm,useFactory:function Xle(t,e){const n=function FI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(M$,t,e);return n&&new fm(n)},deps:[[new Tn,$D],Wa]};let tde=(()=>{class t{constructor(){ot("angularfire",AI.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({providers:[ede,Zle]}),t})();function nde(t,...e){return{ngModule:tde,providers:[{provide:$D,useFactory:Jle(t),multi:!0,deps:[be,hn,qP,WP,[new Tn,bL],[new Tn,r2],...e]}]}}const x$=Hr(Qle,!0),rde=Hr(Mle,!0),ide=Hr(ule,!0),R$=Hr(n$,!0),sde=Hr(Sle,!0),ode=Hr(dle,!0),N$=Hr(Ele,!0),k$=Hr(Ale,!0),ade=Hr(Cle,!0),{isArray:cde}=Array,{getPrototypeOf:lde,prototype:dde,keys:hde}=Object;const{isArray:pde}=Array;function HD(...t){const e=Ku(t),n=function iT(t){return Me(ty(t))?t.pop():void 0}(t),{args:r,keys:i}=function P$(t){if(1===t.length){const e=t[0];if(cde(e))return{args:e,keys:null};if(function fde(t){return t&&"object"==typeof t&&lde(t)===dde}(e)){const n=hde(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return pt([],e);const s=new ze(function mde(t,e,n=Vi){return r=>{L$(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)L$(e,()=>{const c=pt(t[u],e);let l=!1;c.subscribe(ft(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function F$(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):Vi));return n?s.pipe(function O$(t){return se(e=>function gde(t,e){return pde(e)?t(...e):t(e)}(t,e))}(n)):s}function L$(t,e,n){t?ni(n,t,e):e()}const pm=qu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function GD(...t){return function yde(){return Vo(1)}()(pt(t,Ku(t)))}function V$(t){return new ze(e=>{Pn(t()).subscribe(e)})}function Td(t,e){const n=Me(t)?t:()=>t,r=i=>i.error(n());return new ze(e?i=>e.schedule(r,0,i):r)}function zD(){return vt((t,e)=>{let n=null;t._refCount++;const r=ft(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class U$ extends ze{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Hb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new In;const n=this.getSubject();e.add(this.source.subscribe(ft(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=In.EMPTY)}return e}refCount(){return zD()(this)}}function Fu(t){return t<=0?()=>Ar:vt((e,n)=>{let r=0;e.subscribe(ft(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function gm(t){return vt((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function B$(t=vde){return vt((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function vde(){return new pm}function Mo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?vi((i,s)=>t(i,s,r)):Vi,Fu(1),n?gm(e):B$(()=>new pm))}function xo(t){return vt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ft(n,void 0,void 0,o=>{s=Pn(t(o,xo(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function qD(t){return t<=0?()=>Ar:vt((e,n)=>{let r=[];e.subscribe(ft(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}const re="primary",Sd=Symbol("RouteTitle");class bde{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Lu(t){return new bde(t)}function Tde(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ei(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!j$(t[i],e[i]))return!1;return!0}function j$(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function $$(t){return t.length>0?t[t.length-1]:null}function Cs(t){return function ude(t){return!!t&&(t instanceof ze||Me(t.lift)&&Me(t.subscribe))}(t)?t:Oc(t)?pt(Promise.resolve(t)):G(t)}const Ade={exact:function z$(t,e,n){if(!Ro(t.segments,e.segments)||!mm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!z$(t.children[r],e.children[r],n))return!1;return!0},subset:q$},H$={exact:function Mde(t,e){return ei(t,e)},subset:function xde(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>j$(t[n],e[n]))},ignored:()=>!0};function G$(t,e,n){return Ade[n.paths](t.root,e.root,n.matrixParams)&&H$[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function q$(t,e,n){return W$(t,e,e.segments,n)}function W$(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ro(i,n)||e.hasChildren()||!mm(i,n,r))}if(t.segments.length===n.length){if(!Ro(t.segments,n)||!mm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!q$(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ro(t.segments,i)&&mm(t.segments,i,r)&&t.children[re])&&W$(t.children[re],e,s,r)}}function mm(t,e,n){return e.every((r,i)=>H$[n](t[i].parameters,r.parameters))}class Vu{constructor(e=new Ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lu(this.queryParams)),this._queryParamMap}toString(){return kde.serialize(this)}}class Ae{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ym(this)}}class Ad{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Lu(this.parameters)),this._parameterMap}toString(){return Y$(this)}}function Ro(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Md=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return new WD},providedIn:"root"}),e})();class WD{parse(e){const n=new Gde(e);return new Vu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${xd(e.root,!0)}`,r=function Fde(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${_m(n)}=${_m(i)}`).join("&"):`${_m(n)}=${_m(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Pde(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const kde=new WD;function ym(t){return t.segments.map(e=>Y$(e)).join("/")}function xd(t,e){if(!t.hasChildren())return ym(t);if(e){const n=t.children[re]?xd(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${xd(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Nde(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===re?[xd(t.children[re],!1)]:[`${i}:${xd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${ym(t)}/${n[0]}`:`${ym(t)}/(${n.join("//")})`}}function K$(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _m(t){return K$(t).replace(/%3B/gi,";")}function KD(t){return K$(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vm(t){return decodeURIComponent(t)}function Q$(t){return vm(t.replace(/\+/g,"%20"))}function Y$(t){return`${KD(t.path)}${function Ode(t){return Object.keys(t).map(e=>`;${KD(e)}=${KD(t[e])}`).join("")}(t.parameters)}`}const Lde=/^[^\/()?;#]+/;function QD(t){const e=t.match(Lde);return e?e[0]:""}const Vde=/^[^\/()?;=#]+/,Bde=/^[^=?&#]+/,$de=/^[^&#]+/;class Gde{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Ae(e,n)),r}parseSegment(){const e=QD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Ad(vm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Ude(t){const e=t.match(Vde);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=QD(this.remaining);i&&(r=i,this.capture(r))}e[vm(n)]=vm(r)}parseQueryParam(e){const n=function jde(t){const e=t.match(Bde);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Hde(t){const e=t.match($de);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Q$(n),s=Q$(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=QD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new Ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}}function X$(t){return t.segments.length>0?new Ae([],{[re]:t}):t}function J$(t){const e={};for(const r of Object.keys(t.children)){const s=J$(t.children[r]);if(r===re&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function zde(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new Ae(t.segments.concat(e.segments),e.children)}return t}(new Ae(t.segments,e))}function No(t){return t instanceof Vu}function Z$(t){let e;const i=X$(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Ae(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function eH(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return YD(i,i,i,n,r);const s=function Wde(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new nH(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new nH(n,e,r)}(e);if(s.toRoot())return YD(i,i,new Ae([],{}),n,r);const o=function Kde(t,e,n){if(t.isAbsolute)return new Im(e,!0,0);if(!n)return new Im(e,!1,NaN);if(null===n.parent)return new Im(n,!0,0);const r=wm(t.commands[0])?0:1;return function Qde(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Im(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Nd(o.segmentGroup,o.index,s.commands):rH(o.segmentGroup,o.index,s.commands);return YD(i,o.segmentGroup,a,n,r)}function wm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Rd(t){return"object"==typeof t&&null!=t&&t.outlets}function YD(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:tH(t,e,n);const a=X$(J$(o));return new Vu(a,s,i)}function tH(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:tH(s,e,n)}),new Ae(t.segments,r)}class nH{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&wm(r[0]))throw new S(4003,!1);const i=r.find(Rd);if(i&&i!==$$(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Im{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function rH(t,e,n){if(t||(t=new Ae([],{})),0===t.segments.length&&t.hasChildren())return Nd(t,e,n);const r=function Xde(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Rd(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!sH(u,c,o))return s;r+=2}else{if(!sH(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ae(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new Ae(t.segments.slice(r.pathIndex),t.children),Nd(s,0,i)}return r.match&&0===i.length?new Ae(t.segments,{}):r.match&&!t.hasChildren()?XD(t,e,n):r.match?Nd(t,0,i):XD(t,e,n)}function Nd(t,e,n){if(0===n.length)return new Ae(t.segments,{});{const r=function Yde(t){return Rd(t[0])?t[0].outlets:{[re]:t}}(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&1===t.numberOfChildren&&0===t.children[re].segments.length){const s=Nd(t.children[re],e,n);return new Ae(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=rH(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ae(t.segments,i)}}function XD(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Rd(s)){const u=Jde(s.outlets);return new Ae(r,u)}if(0===i&&wm(n[0])){r.push(new Ad(t.segments[e].path,iH(n[0]))),i++;continue}const o=Rd(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&wm(a)?(r.push(new Ad(o,iH(a))),i+=2):(r.push(new Ad(o,{})),i++)}return new Ae(r,{})}function Jde(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=XD(new Ae([],{}),0,r))}),e}function iH(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function sH(t,e,n){return t==n.path&&ei(e,n.parameters)}const kd="imperative";class ti{constructor(e,n){this.id=e,this.url=n}}class Em extends ti{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ds extends ti{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pd extends ti{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uu extends ti{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Cm extends ti{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oH extends ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zde extends ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ehe extends ti{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class the extends ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nhe extends ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rhe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ihe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class she{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ohe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ahe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uhe{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aH{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class JD{}class ZD{constructor(e){this.url=e}}class che{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Od,this.attachRef=null}}let Od=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new che,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class uH{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=eb(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=eb(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=tb(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tb(e,this._root).map(n=>n.value)}}function eb(t,e){if(t===e.value)return e;for(const n of e.children){const r=eb(t,n);if(r)return r}return null}function tb(t,e){if(t===e.value)return[e];for(const n of e.children){const r=tb(t,n);if(r.length)return r.unshift(e),r}return[]}class Fi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Bu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class cH extends uH{constructor(e,n){super(e),this.snapshot=n,nb(this,e)}toString(){return this.snapshot.toString()}}function lH(t,e){const n=function lhe(t,e){const o=new Dm([],{},{},"",{},re,e,null,{});return new hH("",new Fi(o,[]))}(0,e),r=new Yn([new Ad("",{})]),i=new Yn({}),s=new Yn({}),o=new Yn({}),a=new Yn(""),u=new ko(r,i,o,a,s,re,e,n.root);return u.snapshot=n.root,new cH(new Fi(u,[]),n)}class ko{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(c=>c[Sd]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>Lu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>Lu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dH(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function dhe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Dm{get title(){return this.data?.[Sd]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hH extends uH{constructor(e,n){super(n),this.url=e,nb(this,n)}toString(){return fH(this._root)}}function nb(t,e){e.value._routerState=t,e.children.forEach(n=>nb(t,n))}function fH(t){const e=t.children.length>0?` { ${t.children.map(fH).join(", ")} } `:"";return`${t.value}${e}`}function rb(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ei(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ei(e.params,n.params)||t.paramsSubject.next(n.params),function Sde(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ei(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ei(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ib(t,e){const n=ei(t.params,e.params)&&function Rde(t,e){return Ro(t,e)&&t.every((n,r)=>ei(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||ib(t.parent,e.parent))}let sb=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=F(Od),this.location=F(_r),this.changeDetector=F(Ff),this.environmentInjector=F(Bn),this.inputBinder=F(bm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new hhe(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=K({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[er]}),e})();class hhe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ko?this.route:e===Od?this.childContexts:this.parent.get(e,n)}}const bm=new O("");let pH=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=HD([i.queryParams,i.params,i.data]).pipe(cr(([o,a,u],c)=>(u={...o,...a,...u},0===c?G(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function jK(t){const e=he(t);if(!e)return null;const n=new Mc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();function Fd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function phe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Fd(t,r,i);return Fd(t,r)})}(t,e,n);return new Fi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Fd(t,a)),o}}const r=function ghe(t){return new ko(new Yn(t.url),new Yn(t.params),new Yn(t.queryParams),new Yn(t.fragment),new Yn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Fd(t,s));return new Fi(r,i)}}const ob="ngNavigationCancelingError";function gH(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=No(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mH(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function mH(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[ob]=!0,r.cancellationCode=e,n&&(r.url=n),r}function yH(t){return t&&t[ob]}let _H=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=hr({type:t,selectors:[["ng-component"]],standalone:!0,features:[Tx],decls:1,vars:0,template:function(r,i){1&r&&Fe(0,"router-outlet")},dependencies:[sb],encapsulation:2}),e})();function ab(t){const e=t.children&&t.children.map(ab),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=_H),n}function Tr(t){return t.outlet||re}function Ld(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Che{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),rb(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Bu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Bu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Bu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Bu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new uhe(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ohe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(rb(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),rb(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Ld(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class vH{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Tm{constructor(e,n){this.component=e,this.route=n}}function Dhe(t,e,n){const r=t._root;return Vd(r,e?e._root:null,n,[r.value])}function ju(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function i3(t){return null!==ih(t)}(t)?e.get(t):t:r}function Vd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bu(e);return t.children.forEach(o=>{(function The(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function She(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ro(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ro(t.url,e.url)||!ei(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ib(t,e)||!ei(t.queryParams,e.queryParams);default:return!ib(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vH(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Vd(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Tm(a.outlet.component,o))}else o&&Ud(e,a,i),i.canActivateChecks.push(new vH(r)),Vd(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ud(a,n.getContext(o),i)),i}function Ud(t,e,n){const r=Bu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Ud(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Tm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Bd(t){return"function"==typeof t}function wH(t){return t instanceof pm||"EmptyError"===t?.name}const Sm=Symbol("INITIAL_VALUE");function $u(){return cr(t=>HD(t.map(e=>e.pipe(Fu(1),function _de(...t){const e=Ku(t);return vt((n,r)=>{(e?GD(t,n,e):GD(t,n)).subscribe(r)})}(Sm)))).pipe(se(e=>{for(const n of e)if(!0!==n){if(n===Sm)return Sm;if(!1===n||n instanceof Vu)return n}return!0}),vi(e=>e!==Sm),Fu(1)))}function IH(t){return function aG(...t){return Bb(t)}($t(e=>{if(No(e))throw gH(0,e)}),se(e=>!0===e))}class Am{constructor(e){this.segmentGroup=e||null}}class EH{constructor(e){this.urlTree=e}}function Hu(t){return Td(new Am(t))}function CH(t){return Td(new EH(t))}class Whe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new S(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[re])return Td(new S(4e3,!1));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Vu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const ub={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Khe(t,e,n,r,i){const s=cb(t,e,n);return s.matched?(r=function yhe(t,e){return t.providers&&!t._injector&&(t._injector=yv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Ghe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=ju(o,t);return Cs(function khe(t){return t&&Bd(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe($u(),IH()):G(!0)}(r,e,n).pipe(se(o=>!0===o?s:{...ub}))):G(s)}function cb(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...ub}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Tde)(n,t,e);if(!i)return{...ub};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function DH(t,e,n,r){return n.length>0&&function Xhe(t,e,n){return n.some(r=>Mm(t,e,r)&&Tr(r)!==re)}(t,n,r)?{segmentGroup:new Ae(e,Yhe(r,new Ae(n,t.children))),slicedSegments:[]}:0===n.length&&function Jhe(t,e,n){return n.some(r=>Mm(t,e,r))}(t,n,r)?{segmentGroup:new Ae(t.segments,Qhe(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ae(t.segments,t.children),slicedSegments:n}}function Qhe(t,e,n,r,i){const s={};for(const o of r)if(Mm(t,n,o)&&!i[Tr(o)]){const a=new Ae([],{});s[Tr(o)]=a}return{...i,...s}}function Yhe(t,e){const n={};n[re]=e;for(const r of t)if(""===r.path&&Tr(r)!==re){const i=new Ae([],{});n[Tr(r)]=i}return n}function Mm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class nfe{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Whe(this.urlSerializer,this.urlTree)}noMatchError(e){return new S(4002,!1)}recognize(){const e=DH(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,re).pipe(xo(n=>{if(n instanceof EH)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Am?this.noMatchError(n):n}),se(n=>{const r=new Dm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),i=new Fi(r,n),s=new hH("",i),o=function qde(t,e,n=null,r=null){return eH(Z$(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,re).pipe(xo(r=>{throw r instanceof Am?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=dH(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return pt(i).pipe(Ba(s=>{const o=r.children[s],a=function Ihe(t,e){const n=t.filter(r=>Tr(r)===e);return n.push(...t.filter(r=>Tr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Ide(t,e){return vt(function wde(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ft(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),gm(null),function Ede(t,e){const n=arguments.length>=2;return r=>r.pipe(t?vi((i,s)=>t(i,s,r)):Vi,qD(1),n?gm(e):B$(()=>new pm))}(),Pt(s=>{if(null===s)return Hu(r);const o=bH(s);return function rfe(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(o),G(o)}))}processSegment(e,n,r,i,s,o){return pt(n).pipe(Ba(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(xo(u=>{if(u instanceof Am)return G(null);throw u}))),Mo(a=>!!a),xo(a=>{if(wH(a))return function efe(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?G([]):Hu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Zhe(t,e,n,r){return!!(Tr(t)===r||r!==re&&Mm(e,n,t))&&("**"===t.path||cb(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Hu(i):Hu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?CH(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Pt(o=>{const a=new Ae(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=cb(n,i,s);if(!a)return Hu(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?CH(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Pt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?$$(i).parameters:{};a=G({snapshot:new Dm(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,TH(r),Tr(r),r.component??r._loadedComponent??null,r,SH(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Khe(n,r,i,e).pipe(se(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Dm(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,TH(r),Tr(r),r.component??r._loadedComponent??null,r,SH(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(cr(u=>null===u?Hu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(cr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=DH(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(se(y=>null===y?null:[new Fi(d,y)]));if(0===c.length&&0===g.length)return G([new Fi(d,[])]);const m=Tr(r)===s;return this.processSegment(l,c,p,g,m?re:s,!0).pipe(se(y=>[new Fi(d,y)]))}))))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?G({routes:n._loadedRoutes,injector:n._loadedInjector}):function Hhe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=ju(o,t);return Cs(function Mhe(t){return t&&Bd(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe($u(),IH())}(e,n,r).pipe(Pt(i=>i?this.configLoader.loadChildren(e,n).pipe($t(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function qhe(t){return Td(mH(!1,3))}())):G({routes:[],injector:e})}}function ife(t){const e=t.value.routeConfig;return e&&""===e.path}function bH(t){const e=[],n=new Set;for(const r of t){if(!ife(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=bH(r.children);e.push(new Fi(r.value,i))}return e.filter(r=>!n.has(r))}function TH(t){return t.data||{}}function SH(t){return t.resolve||{}}function AH(t){return"string"==typeof t.title||null===t.title}function lb(t){return cr(e=>{const n=t(e);return n?pt(n).pipe(se(()=>e)):G(e)})}const Gu=new O("ROUTES");let db=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(w1)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Cs(r.loadComponent()).pipe(se(MH),$t(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Zc(()=>{this.componentLoaders.delete(r)})),s=new U$(i,()=>new ur).pipe(zD());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return G({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(se(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,l;return Array.isArray(u)?l=u:(c=u.create(r).injector,l=c.get(Gu,[],oe.Self|oe.Optional).flat()),{routes:l.map(ab),injector:c}}),Zc(()=>{this.childrenLoaders.delete(i)})),a=new U$(o,()=>new ur).pipe(zD());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(r){return Cs(r()).pipe(se(MH),Pt(i=>i instanceof Dx||Array.isArray(i)?G(i):pt(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function MH(t){return function dfe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let xm=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ur,this.transitionAbortSubject=new ur,this.configLoader=F(db),this.environmentInjector=F(Bn),this.urlSerializer=F(Md),this.rootContexts=F(Od),this.inputBindingEnabled=null!==F(bm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new ihe(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new rhe(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new Yn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kd,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vi(o=>0!==o.id),se(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),cr(o=>{this.currentTransition=o;let a=!1,u=!1;return G(o).pipe($t(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),cr(c=>{const l=c.currentBrowserUrl.toString(),d=!r.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const f="";return this.events.next(new Uu(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Ar}if(r.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return G(c).pipe(cr(f=>{const p=this.transitions?.getValue();return this.events.next(new Em(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?Ar:Promise.resolve(f)}),function sfe(t,e,n,r,i,s){return Pt(o=>function tfe(t,e,n,r,i,s,o="emptyOnly"){return new nfe(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(se(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),$t(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const p=new oH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:p,source:g,restoredState:m,extras:y}=c,_=new Em(f,this.urlSerializer.serialize(p),g,m);this.events.next(_);const E=lH(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:E,urlAfterRedirects:p,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},G(o)}{const f="";return this.events.next(new Uu(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Ar}}),$t(c=>{const l=new Zde(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),se(c=>(this.currentTransition=o={...c,guards:Dhe(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function Ohe(t,e){return Pt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?G({...n,guardsResult:!0}):function Fhe(t,e,n,r){return pt(t).pipe(Pt(i=>function $he(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const u=Ld(e)??i,c=ju(a,u);return Cs(function Nhe(t){return t&&Bd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Mo())})).pipe($u()):G(!0)}(i.component,i.route,n,e,r)),Mo(i=>!0!==i,!0))}(o,r,i,t).pipe(Pt(a=>a&&function Ahe(t){return"boolean"==typeof t}(a)?function Lhe(t,e,n,r){return pt(e).pipe(Ba(i=>GD(function Uhe(t,e){return null!==t&&e&&e(new she(t)),G(!0)}(i.route.parent,r),function Vhe(t,e){return null!==t&&e&&e(new ahe(t)),G(!0)}(i.route,r),function jhe(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function bhe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>V$(()=>G(o.guards.map(u=>{const c=Ld(o.node)??n,l=ju(u,c);return Cs(function Rhe(t){return t&&Bd(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Mo())})).pipe($u())));return G(s).pipe($u())}(t,i.path,n),function Bhe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>V$(()=>{const o=Ld(e)??n,a=ju(s,o);return Cs(function xhe(t){return t&&Bd(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Mo())}));return G(i).pipe($u())}(t,i.route,n))),Mo(i=>!0!==i,!0))}(r,s,t,e):G(a)),se(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),$t(c=>{if(o.guardsResult=c.guardsResult,No(c.guardsResult))throw gH(0,c.guardsResult);const l=new ehe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),vi(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),lb(c=>{if(c.guards.canActivateChecks.length)return G(c).pipe($t(l=>{const d=new the(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),cr(l=>{let d=!1;return G(l).pipe(function ofe(t,e){return Pt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=0;return pt(i).pipe(Ba(o=>function afe(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!AH(i)&&(s[Sd]=i.title),function ufe(t,e,n,r){const i=function cfe(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return G({});const s={};return pt(i).pipe(Pt(o=>function lfe(t,e,n,r){const i=Ld(e)??r,s=ju(t,i);return Cs(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Mo(),$t(a=>{s[o]=a}))),qD(1),function Cde(t){return se(()=>t)}(s),xo(o=>wH(o)?Ar:Td(o)))}(s,t,e,r).pipe(se(o=>(t._resolvedData=o,t.data=dH(t,n).resolve,i&&AH(i)&&(t.data[Sd]=i.title),null)))}(o.route,r,t,e)),$t(()=>s++),qD(1),Pt(o=>s===i.length?G(n):Ar))})}(r.paramsInheritanceStrategy,this.environmentInjector),$t({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),$t(l=>{const d=new nhe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),lb(c=>{const l=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe($t(f=>{d.component=f}),se(()=>{})));for(const f of d.children)h.push(...l(f));return h};return HD(l(c.targetSnapshot.root)).pipe(gm(),Fu(1))}),lb(()=>this.afterPreactivation()),se(c=>{const l=function fhe(t,e,n){const r=Fd(t,e._root,n?n._root:void 0);return new cH(r,e)}(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),$t(()=>{this.events.next(new JD)}),((t,e,n,r)=>se(i=>(new Che(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Fu(1),$t({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ds(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),r.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),function Dde(t){return vt((e,n)=>{Pn(t).subscribe(ft(n,()=>n.complete(),Gm)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe($t(c=>{throw c}))),Zc(()=>{a||u||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),xo(c=>{if(u=!0,yH(c))this.events.next(new Pd(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function mhe(t){return yH(t)&&No(t.url)}(c)?this.events.next(new ZD(c.url)):o.resolve(!1);else{this.events.next(new Cm(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(l){o.reject(l)}}return Ar}))}))}cancelNavigationTransition(r,i,s){const o=new Pd(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function xH(t){return t!==kd}let RH=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[Sd]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return F(hfe)},providedIn:"root"}),e})(),hfe=(()=>{var t;class e extends RH{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(U(jR))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),ffe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return F(gfe)},providedIn:"root"}),e})();class pfe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let gfe=(()=>{var t;class e extends pfe{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=function Ut(t){return ri(()=>{const e=t.prototype.constructor,n=e[ii]||jy(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ii]||jy(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}(),t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Rm=new O("",{providedIn:"root",factory:()=>({})});let mfe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:function(){return F(yfe)},providedIn:"root"}),e})(),yfe=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var jd=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(jd||{});function NH(t,e){t.events.pipe(vi(n=>n instanceof Ds||n instanceof Pd||n instanceof Cm||n instanceof Uu),se(n=>n instanceof Ds||n instanceof Uu?jd.COMPLETE:n instanceof Pd&&(0===n.code||1===n.code)?jd.REDIRECTING:jd.FAILED),vi(n=>n!==jd.REDIRECTING),Fu(1)).subscribe(()=>{e()})}function _fe(t){throw t}function vfe(t,e,n){return e.parse("/")}const wfe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ife={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ar=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=F(v1),this.isNgZoneEnabled=!1,this._events=new ur,this.options=F(Rm,{optional:!0})||{},this.pendingTasks=F(Nf),this.errorHandler=this.options.errorHandler||_fe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vfe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=F(mfe),this.routeReuseStrategy=F(ffe),this.titleStrategy=F(RH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=F(Gu,{optional:!0})?.flat()??[],this.navigationTransitions=F(xm),this.urlSerializer=F(Md),this.location=F(Xv),this.componentInputBindingEnabled=!!F(bm,{optional:!0}),this.eventsSubscription=new In,this.isNgZoneEnabled=F(be)instanceof be&&be.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Vu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=lH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(kH(i)&&this._events.next(i));if(i instanceof Em)xH(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof Uu)this.rawUrlTree=s.rawUrl;else if(i instanceof oH){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof JD)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof Pd)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof ZD){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xH(s.source)};this.scheduleNavigation(o,kd,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof Cm&&this.restoreHistory(s,!0),i instanceof Ds&&(this.navigated=!0),kH(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),kd,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ab),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a;let h,d=null;switch(u){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=Z$(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return eH(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=No(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,kd,null,i)}navigate(r,i={skipLocationChange:!1}){return function Efe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new S(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...wfe}:!1===i?{...Ife}:i,No(r))return G$(this.currentUrlTree,r,s);const o=this.parseUrl(r);return G$(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,f)=>{u=h,c=f});const d=this.pendingTasks.add();return NH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function kH(t){return!(t instanceof JD||t instanceof ZD)}let $d=(()=>{var t;class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new ur,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Ds&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||s||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function TS(t,e,n){return function u6(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?bS:Kh}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const s=this.renderer,o=this.el.nativeElement;null!==i?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(ar),T(ko),function Mh(t){return function Az(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(_T(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Vt(),t)}("tabindex"),T(li),T(jn),T(Gs))},t.\u0275dir=K({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Bt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Jt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Fa],skipLocationChange:["skipLocationChange","skipLocationChange",Fa],replaceUrl:["replaceUrl","replaceUrl",Fa],routerLink:"routerLink"},standalone:!0,features:[UA,er]}),e})();class PH{}let bfe=(()=>{var t;class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(vi(r=>r instanceof Ds),Ba(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=yv(o.providers,r,`Route: ${o.path}`));const a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return pt(s).pipe(Vo())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):G(null);const o=s.pipe(Pt(a=>null===a?G(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?pt([o,this.loader.loadComponent(i)]).pipe(Vo()):o})}}return(t=e).\u0275fac=function(r){return new(r||t)(U(ar),U(w1),U(Bn),U(PH),U(db))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const hb=new O("");let OH=(()=>{var t;class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Em?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ds?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Uu&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof aH&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new aH(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function hA(){throw new Error("invalid")}()},t.\u0275prov=$({token:t,factory:t.\u0275fac}),e})();function Li(t,e){return{\u0275kind:t,\u0275providers:e}}function LH(){const t=F(hn);return e=>{const n=t.get(Oa);if(e!==n.components[0])return;const r=t.get(ar),i=t.get(VH);1===t.get(fb)&&r.initialNavigation(),t.get(UH,null,oe.Optional)?.setUpPreloading(),t.get(hb,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const VH=new O("",{factory:()=>new ur}),fb=new O("",{providedIn:"root",factory:()=>1}),UH=new O("");function Mfe(t){return Li(0,[{provide:UH,useExisting:bfe},{provide:PH,useExisting:t}])}const BH=new O("ROUTER_FORROOT_GUARD"),Rfe=[Xv,{provide:Md,useClass:WD},ar,Od,{provide:ko,useFactory:function FH(t){return t.routerState.root},deps:[ar]},db,[]];function Nfe(){return new S1("Router",ar)}let jH=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Rfe,[],{provide:Gu,multi:!0,useValue:r},{provide:BH,useFactory:Ffe,deps:[[ar,new Tn,new Nh]]},{provide:Rm,useValue:i||{}},i?.useHash?{provide:Gs,useClass:qK}:{provide:Gs,useClass:rR},{provide:hb,useFactory:()=>{const t=F(cY),e=F(be),n=F(Rm),r=F(xm),i=F(Md);return n.scrollOffset&&t.setOffset(n.scrollOffset),new OH(i,r,t,e,n)}},i?.preloadingStrategy?Mfe(i.preloadingStrategy).\u0275providers:[],{provide:S1,multi:!0,useFactory:Nfe},i?.initialNavigation?Lfe(i):[],i?.bindToComponentInputs?Li(8,[pH,{provide:bm,useExisting:pH}]).\u0275providers:[],[{provide:$H,useFactory:LH},{provide:jv,multi:!0,useExisting:$H}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Gu,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(U(BH,8))},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({}),e})();function Ffe(t){return"guarded"}function Lfe(t){return["disabled"===t.initialNavigation?Li(3,[{provide:kv,multi:!0,useFactory:()=>{const e=F(ar);return()=>{e.setUpLocationChangeListener()}}},{provide:fb,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Li(2,[{provide:fb,useValue:0},{provide:kv,multi:!0,deps:[hn],useFactory:e=>{const n=e.get(GK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(ar),s=e.get(VH);NH(i,()=>{r(!0)}),e.get(xm).afterPreactivation=()=>(r(!0),s.closed?G(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const $H=new O("");let Ufe=(()=>{var t;class e{constructor(){this.title="watchlist-app"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=hr({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&(ie(0,"body"),Fe(1,"router-outlet"),le())},dependencies:[sb]}),e})();const dt=new Map;dt.set(28,"Action"),dt.set(12,"Adventure"),dt.set(16,"Animation"),dt.set(35,"Comedy"),dt.set(80,"Crime"),dt.set(99,"Documentary"),dt.set(18,"Drama"),dt.set(10751,"Family"),dt.set(14,"Fantasy"),dt.set(36,"History"),dt.set(27,"Horror"),dt.set(10402,"Music"),dt.set(9648,"Mystery"),dt.set(10749,"Romance"),dt.set(878,"Science Fiction"),dt.set(10770,"TV Movie"),dt.set(53,"Thriller"),dt.set(10752," War"),dt.set(37,"Western");const HH=[28,12,16,35,80,99,18,10751,14,36,27,10402,9648,10749,878,10770,53,10752,37];let GH=(()=>{var t;class e{constructor(r){this.http=r,this.singleMovies=new Map,this.url="assets/data/movies.json"}getAllMovies(){if(void 0!==this.movies)return this.movies;const r=this.http.get(this.url,{responseType:"json"});return this.movies=r.pipe(se(i=>i.results.map(s=>this.mapToMovie(s)))),this.movies}mapToMovie(r){return{id:r.id,title:r.title,overview:r.overview,imagePath:`https://image.tmdb.org/t/p/w220_and_h330_face${r.poster_path}`,releaseDate:r.release_date,genreIds:r.genre_ids}}getMovieById(r){if(this.singleMovies.has(r))return this.singleMovies.get(r);const i=this.getAllMovies().pipe(se(s=>s.filter(a=>a.id===r)[0]));return this.singleMovies.set(r,i),i}getMoviesByGenre(r){return this.getAllMovies().pipe(se(s=>s.filter(o=>o.genreIds.includes(r))))}}return(t=e).\u0275fac=function(r){return new(r||t)(U(YR))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),zH=(()=>{var t;class e{constructor(r){this.firestore=r,this.reviewCollection=ide(this.firestore,"reviews")}getAllReviews(){const r=N$(this.reviewCollection);return this.allReviews=x$(r).pipe(se(i=>i.map(s=>this.mapToReview(s)))),this.allReviews}getReviewsForMovie(r){const i=N$(this.reviewCollection,ade("movieId","==",r));return x$(i).pipe(se(o=>o.map(a=>this.mapToReview(a))))}mapToReview(r){return{content:r.content,rating:r.rating,movieId:r.movieId,date:r.date}}addReview(r){var i=this;return v(function*(){const s=yield rde(i.reviewCollection,r),o=R$(i.firestore,"reviewAverage/"+r.movieId);return i.getRatingStats(r.movieId).subscribe(a=>{k$(o,a)}),s})()}getReviewStats(r){var i=this;return v(function*(){const s=R$(i.firestore,"reviewAverage/"+r),o=yield sde(s);return o.data()?i.mapToReviewAverage(o.data()):new Promise(()=>{i.getRatingStats(r).subscribe(u=>{k$(s,u)})})})()}getRatingStats(r){return this.getReviewsForMovie(r).pipe(se(o=>{let a=0,u=0,c=0;for(const l of o)a+=1,u+=l.rating;return u>0&&a>0&&(c=u/a,c=Math.round(10*c)/10),{totalRating:u,ratingCount:a,avgRating:c}}))}mapToReviewAverage(r){return{ratingCount:r.ratingCount,totalRating:r.totalRating,avgRating:r.avgRating}}}return(t=e).\u0275fac=function(r){return new(r||t)(U(fm))},t.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Hd(t){return Hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function L(t,e,n){return(e=function $fe(t){var e=function jfe(t,e){if("object"!==Hd(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Hd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Hd(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Sr=new O("NgValueAccessor");function $pe(t,e){if(1&t&&(ie(0,"div",4),Ct(1),le()),2&t){const n=Re();H(1),yr(n.labelText)}}function Hpe(t,e){1&t&&Fe(0,"i"),2&t&&fi("star-empty ",Re(2).classEmpty,"")}function Gpe(t,e){1&t&&Fe(0,"i"),2&t&&fi("star-half ",Re(2).classHalf,"")}function zpe(t,e){1&t&&Fe(0,"i"),2&t&&fi("star-filled ",Re(2).classFilled,"")}function qpe(t,e){if(1&t&&(Ps(),ie(0,"svg",10),Fe(1,"use",11),le()),2&t){const n=Re(2);H(1),Jt("href",n.pathEmpty,null,"xlink")}}function Wpe(t,e){if(1&t&&(Ps(),ie(0,"svg",12),Fe(1,"use",11),le()),2&t){const n=Re(2);H(1),Jt("href",n.pathHalf,null,"xlink")}}function Kpe(t,e){if(1&t&&(Ps(),ie(0,"svg",13),Fe(1,"use",11),le()),2&t){const n=Re(2);H(1),Jt("href",n.pathFilled,null,"xlink")}}function Qpe(t,e){if(1&t){const n=wf();ie(0,"div",5),Bt("mouseenter",function(){const s=Qo(n).$implicit;return Yo(Re().onStarHover(s))})("click",function(){const s=Qo(n).$implicit;return Yo(Re().onStarClicked(s))}),Ce(1,Hpe,1,3,"i",6),Ce(2,Gpe,1,3,"i",6),Ce(3,zpe,1,3,"i",6),Ce(4,qpe,2,1,"svg",7),Ce(5,Wpe,2,1,"svg",8),Ce(6,Kpe,2,1,"svg",9),le()}if(2&t){const n=Re();H(1),ce("ngIf",!n.svgVisible()),H(1),ce("ngIf",!n.svgVisible()),H(1),ce("ngIf",!n.svgVisible()),H(1),ce("ngIf",n.svgVisible()),H(1),ce("ngIf",n.svgVisible()),H(1),ce("ngIf",n.svgVisible())}}function Ype(t,e){if(1&t&&(ie(0,"div",4),Ct(1),le()),2&t){const n=Re();H(1),yr(n.labelText)}}function Xpe(t,e){1&t&&Fe(0,"i"),2&t&&fi("star-empty ",Re(2).classEmpty,"")}function Jpe(t,e){1&t&&Fe(0,"i"),2&t&&fi("star-half ",Re(2).classHalf,"")}function Zpe(t,e){1&t&&Fe(0,"i"),2&t&&fi("star-filled ",Re(2).classFilled,"")}function ege(t,e){if(1&t&&(Ps(),ie(0,"svg",10),Fe(1,"use",11),le()),2&t){const n=Re(2);H(1),Jt("href",n.pathEmpty,null,"xlink")}}function tge(t,e){if(1&t&&(Ps(),ie(0,"svg",12),Fe(1,"use",11),le()),2&t){const n=Re(2);H(1),Jt("href",n.pathHalf,null,"xlink")}}function nge(t,e){if(1&t&&(Ps(),ie(0,"svg",13),Fe(1,"use",11),le()),2&t){const n=Re(2);H(1),Jt("href",n.pathFilled,null,"xlink")}}function rge(t,e){if(1&t){const n=wf();ie(0,"div",5),Bt("mouseenter",function(){const s=Qo(n).$implicit;return Yo(Re().onStarHover(s))})("click",function(){const s=Qo(n).$implicit;return Yo(Re().onStarClicked(s))}),Ce(1,Xpe,1,3,"i",6),Ce(2,Jpe,1,3,"i",6),Ce(3,Zpe,1,3,"i",6),Ce(4,ege,2,1,"svg",7),Ce(5,tge,2,1,"svg",8),Ce(6,nge,2,1,"svg",9),le()}if(2&t){const n=Re();H(1),ce("ngIf",!n.svgVisible()),H(1),ce("ngIf",!n.svgVisible()),H(1),ce("ngIf",!n.svgVisible()),H(1),ce("ngIf",n.svgVisible()),H(1),ce("ngIf",n.svgVisible()),H(1),ce("ngIf",n.svgVisible())}}class Fo{static getStarsArray(e){const n=[];for(let r=0;r<e;r++)n.push(r+1);return n}static getHalfStarVisible(e){return Math.abs(e%1)>0}static getColor(e,n,r){if(r)return r;const i=n/3;let s="default";return(e=e||0)>0&&(s="negative"),e>i&&(s="ok"),e>2*i&&(s="positive"),s}static isDigitKeyEventCode(e){return 0===e.indexOf("Digit")}}class jm{constructor(){L(this,"_classEmpty","default-star-empty-icon"),L(this,"_classHalf","default-star-half-icon"),L(this,"_classFilled","default-star-filled-icon"),L(this,"_numOfStars",5),L(this,"_size","medium"),L(this,"_staticColor",void 0),L(this,"_labelPosition","left"),L(this,"_speed","noticeable"),L(this,"_starType","svg"),L(this,"_assetsPath","assets/images/"),L(this,"_svgPath",this.assetsPath+"star-rating.icons.svg"),L(this,"_svgEmptySymbolId","star-empty"),L(this,"_svgHalfSymbolId","star-half"),L(this,"_svgFilledSymbolId","star-filled"),L(this,"_svgPathEmpty",this.svgPath+"#"+this.svgEmptySymbolId),L(this,"_svgPathHalf",this.svgPath+"#"+this.svgHalfSymbolId),L(this,"_svgPathFilled",this.svgPath+"#"+this.svgFilledSymbolId)}get classEmpty(){return this._classEmpty}set classEmpty(e){this._classEmpty=e}get classHalf(){return this._classHalf}set classHalf(e){this._classHalf=e}get classFilled(){return this._classFilled}set classFilled(e){this._classFilled=e}get numOfStars(){return this._numOfStars}set numOfStars(e){this._numOfStars=e}get size(){return this._size}set size(e){this._size=e}get staticColor(){return this._staticColor}set staticColor(e){this._staticColor=e}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e}get speed(){return this._speed}set speed(e){this._speed=e}get starType(){return this._starType}set starType(e){this._starType=e}get assetsPath(){return this._assetsPath}set assetsPath(e){this._assetsPath=e}get svgPath(){return this._svgPath}set svgPath(e){this._svgPath=e}get svgEmptySymbolId(){return this._svgEmptySymbolId}set svgEmptySymbolId(e){this._svgEmptySymbolId=e}get svgHalfSymbolId(){return this._svgHalfSymbolId}set svgHalfSymbolId(e){this._svgHalfSymbolId=e}get svgFilledSymbolId(){return this._svgFilledSymbolId}set svgFilledSymbolId(e){this._svgFilledSymbolId=e}get svgPathEmpty(){return this._svgPathEmpty}set svgPathEmpty(e){this._svgPathEmpty=e}get svgPathHalf(){return this._svgPathHalf}set svgPathHalf(e){this._svgPathHalf=e}get svgPathFilled(){return this._svgPathFilled}set svgPathFilled(e){this._svgPathFilled=e}getColor(e,n,r){if(r)return r;const i=n/3;let s="default";return(e=e||0)>0&&(s="negative"),e>i&&(s="ok"),e>2*i&&(s="positive"),s}getHalfStarVisible(e){return Math.abs(e%1)>0}}let Q4=(()=>{var t;class e{get showHalfStars(){return this._showHalfStars}set showHalfStars(r){this._showHalfStars=!!r,this.setHalfStarVisible()}get id(){return this._id}set id(r){this._id=r||""}get focus(){return this._focus}set focus(r){this._focus=!!r}get labelText(){return this._labelText}set labelText(r){this._labelText=r}get labelPosition(){return this._labelPosition}set labelPosition(r){this._labelPosition=r||this.config.labelPosition}get labelVisible(){return this._labelVisible}set labelVisible(r){this._labelVisible=!!r}get hoverEnabled(){return this._hoverEnabled}set hoverEnabled(r){this._hoverEnabled=void 0!==r&&!!r}get staticColor(){return this._staticColor||this.config.staticColor||void 0}set staticColor(r){this._staticColor=r,this.setColor()}get direction(){return this._direction}set direction(r){this._direction=r||void 0}get numOfStars(){return this._numOfStars}set numOfStars(r){this._numOfStars=r>0?r:this.config.numOfStars,this.stars=Fo.getStarsArray(this.numOfStars),this.setColor()}get hoverRating(){return this._hoverRating}set hoverRating(r){this._hoverRating=r>0?r:0}get speed(){return this._speed}set speed(r){this._speed=r||this.config.speed}get size(){return this._size||this.config.size}set size(r){this._size=r}get starType(){return this._starType||this.config.starType}set starType(r){this._starType=r}get space(){return this._space}set space(r){this._space=r}get readOnly(){return this._readOnly}set readOnly(r){this._readOnly=!!r}get disabled(){return this._disabled}set disabled(r){this._disabled=!!r}get step(){return this._step}set step(r){this._step=r>0?r:1}get rating(){return this._rating}set rating(r){this.setRating(r)}setRating(r){let i=0;r>=0&&r<=this.numOfStars&&(i=r),r>this.numOfStars&&(i=this.numOfStars),this._rating=i,this.ratingAsInteger=parseInt(this._rating?.toString(),10),this.setHalfStarVisible(),this.setColor()}constructor(r){L(this,"config",void 0),L(this,"classEmpty",void 0),L(this,"classHalf",void 0),L(this,"classFilled",void 0),L(this,"pathEmpty",void 0),L(this,"pathHalf",void 0),L(this,"pathFilled",void 0),L(this,"color",void 0),L(this,"stars",void 0),L(this,"ratingAsInteger",void 0),L(this,"halfStarVisible",void 0),L(this,"_showHalfStars",void 0),L(this,"getColor",void 0),L(this,"getHalfStarVisible",void 0),L(this,"_id",void 0),L(this,"_focus",void 0),L(this,"_labelText",void 0),L(this,"_labelPosition",void 0),L(this,"_labelVisible",void 0),L(this,"_hoverEnabled",void 0),L(this,"_staticColor",void 0),L(this,"_direction",void 0),L(this,"_numOfStars",void 0),L(this,"_hoverRating",void 0),L(this,"_speed",void 0),L(this,"_size",void 0),L(this,"_starType",void 0),L(this,"_space",void 0),L(this,"_readOnly",void 0),L(this,"_disabled",void 0),L(this,"_step",void 0),L(this,"_rating",void 0),this.config=r,this.classEmpty=this.config.classEmpty,this.classHalf=this.config.classHalf,this.classFilled=this.config.classFilled,this.pathEmpty=this.config.svgPathEmpty,this.pathHalf=this.config.svgPathHalf,this.pathFilled=this.config.svgPathFilled,"getColor"in this.config&&"function"==typeof this.config.getColor&&(this.getColor=this.config.getColor),"getHalfStarVisible"in this.config&&"function"==typeof this.config.getHalfStarVisible&&(this.getHalfStarVisible=this.config.getHalfStarVisible),this.numOfStars=this.config.numOfStars,this.rating=0,this.step=1}svgVisible(){return"svg"===this.starType}interactionPossible(){return!this.readOnly&&!this.disabled}setColor(r=!1){const i=r?this.hoverRating:this.rating;this.color="function"==typeof this.getColor?this.getColor(i,this.numOfStars,this.staticColor):Fo.getColor(i,this.numOfStars,this.staticColor)}setHalfStarVisible(){this.halfStarVisible=!!this.showHalfStars&&("function"==typeof this.getHalfStarVisible?this.getHalfStarVisible(this.rating):Fo.getHalfStarVisible(this.rating))}getComponentClassNames(){const r=[];return r.push(this.rating?"value-"+this.ratingAsInteger:"value-0"),r.push(this.halfStarVisible?"half":""),r.push(this.hoverEnabled?"hover":""),r.push(this.hoverEnabled?this.hoverRating?"hover-"+this.hoverRating:"hover-0":""),r.push(this.space?"space-"+this.space:""),r.push(this.labelPosition?"label-"+this.labelPosition:""),r.push(this.color?"color-"+this.color:""),r.push(this.starType?"star-"+this.starType:""),r.push(this.speed),r.push(this.size),r.push(this.readOnly?"read-only":""),r.push(this.disabled?"disabled":""),r.push(this.direction?"direction-"+this.direction:""),r.join(" ")}increment(){const r=Math.abs(this.rating%this.step);this.rating=this.rating+(r>0?this.step-r:this.step)}decrement(){const r=Math.abs(this.rating%this.step);this.rating=this.rating-(r>0?r:this.step)}reset(){this.rating=0}}return t=e,L(e,"\u0275fac",function(r){return new(r||t)(T(jm))}),L(e,"\u0275cmp",hr({type:t,selectors:[["placeholder-star-rating"]],inputs:{showHalfStars:"showHalfStars",id:"id",focus:"focus",labelText:"labelText",labelPosition:"labelPosition",labelVisible:"labelVisible",hoverEnabled:"hoverEnabled",staticColor:"staticColor",direction:"direction",numOfStars:"numOfStars",hoverRating:"hoverRating",speed:"speed",size:"size",starType:"starType",space:"space",readOnly:"readOnly",disabled:"disabled",step:"step",rating:"rating"},decls:0,vars:0,template:function(r,i){},encapsulation:2})),e})(),Ob=(()=>{var t;class e extends Q4{saveOnClick(r){this.starClickChange&&this.starClickChange.emit(r)}saveOnRatingChange(r){this.ratingChange&&this.ratingChange.emit(r)}saveOnHover(r){this.hoverRatingChange&&this.hoverRatingChange.emit(r)}onKeyDown(r){if(!this.interactionPossible())return;const i={Minus:()=>this.decrement(),ArrowDown:()=>this.decrement(),ArrowLeft:()=>this.decrement(),Plus:()=>this.increment(),ArrowRight:()=>this.increment(),ArrowUp:()=>this.increment(),Backspace:()=>this.reset(),Delete:()=>this.reset(),Digit0:()=>this.reset()};(i[r.code]||Fo.isDigitKeyEventCode(r.code))&&(Fo.isDigitKeyEventCode(r.code)?(o=>{const u=parseInt(o.substr(5,o.length-1),10);this.rating=u})(r.code):i[r.code](),r.preventDefault(),r.stopPropagation())}onStarHover(r){this.interactionPossible()&&this.hoverEnabled&&(this.hoverRating=r?parseInt(r.toString(),10):0,this.setColor(!0),this.saveOnHover({hoverRating:this.hoverRating}))}onStopHover(){!this.interactionPossible()||!this.hoverEnabled||(this.hoverRating=0,this.setColor())}constructor(r){super(r),L(this,"getHalfStarVisible",i=>!1),L(this,"getColor",void 0),L(this,"starClickChange",new xe),L(this,"ratingChange",new xe),L(this,"hoverRatingChange",new xe)}setRating(r){const i=this.rating;super.setRating(r),i!==this.rating&&this.saveOnRatingChange({rating:this.rating})}onStarClicked(r){this.interactionPossible()&&(this.rating=r,this.saveOnClick({rating:this.rating}))}}return t=e,L(e,"\u0275fac",function(r){return new(r||t)(T(jm))}),L(e,"\u0275cmp",hr({type:t,selectors:[["star-rating"]],inputs:{getHalfStarVisible:"getHalfStarVisible",getColor:"getColor"},outputs:{starClickChange:"starClickChange",ratingChange:"ratingChange",hoverRatingChange:"hoverRatingChange"},features:[ve],decls:4,vars:6,consts:[["tabindex","0",3,"id","keydown","mouseleave"],["class","label-value",4,"ngIf"],[1,"star-container"],["class","star",3,"mouseenter","click",4,"ngFor","ngForOf"],[1,"label-value"],[1,"star",3,"mouseenter","click"],[3,"class",4,"ngIf"],["class","star-empty",4,"ngIf"],["class","star-half",4,"ngIf"],["class","star-filled",4,"ngIf"],[1,"star-empty"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink"],[1,"star-half"],[1,"star-filled"]],template:function(r,i){1&r&&(ie(0,"div",0),Bt("keydown",function(o){return i.onKeyDown(o)})("mouseleave",function(){return i.onStopHover()}),Ce(1,$pe,2,1,"div",1),ie(2,"div",2),Ce(3,Qpe,7,6,"div",3),le()()),2&r&&(fi("rating ",i.getComponentClassNames(),""),Ma("id",i.id),H(1),ce("ngIf",i.labelText),H(2),ce("ngForOf",i.stars))},dependencies:[Va,Ua],encapsulation:2})),e})();const ige={provide:Sr,useExisting:Ne(()=>Y4),multi:!0};let Y4=(()=>{var t;class e extends Q4{saveOnClick(r){this.starClickChange&&this.starClickChange.emit(r)}saveOnRatingChange(r){this.ratingChange&&this.ratingChange.emit(r)}saveOnHover(r){this.hoverRatingChange&&this.hoverRatingChange.emit(r)}saveOnTouch(){this.onTouchRegistered&&this.onTouch()}saveOnModelChange(r){this.onModelChangeRegistered&&this.onModelChange(r)}onKeyDown(r){if(!this.interactionPossible())return;const i={Minus:()=>this.decrement(),ArrowDown:()=>this.decrement(),ArrowLeft:()=>this.decrement(),Plus:()=>this.increment(),ArrowRight:()=>this.increment(),ArrowUp:()=>this.increment(),Backspace:()=>this.reset(),Delete:()=>this.reset(),Digit0:()=>this.reset()};(i[r.code]||Fo.isDigitKeyEventCode(r.code))&&(Fo.isDigitKeyEventCode(r.code)?(o=>{const u=parseInt(o.substr(5,o.length-1),10);this.rating=u})(r.code):i[r.code](),r.preventDefault(),r.stopPropagation()),this.saveOnTouch()}onBlur(r){this.focus=!1,r.preventDefault(),r.stopPropagation(),this.saveOnTouch()}onFocus(r){this.focus=!0,r.preventDefault(),r.stopPropagation(),this.saveOnTouch()}onStarHover(r){this.interactionPossible()&&this.hoverEnabled&&(this.hoverRating=r?parseInt(r.toString(),10):0,this.saveOnHover({hoverRating:this.hoverRating}))}writeValue(r){this.rating=r}registerOnChange(r){this.onModelChange=r,this.onModelChangeRegistered=!0}registerOnTouched(r){this.onTouch=r,this.onTouchRegistered=!0}constructor(r){super(r),L(this,"starClickChange",new xe),L(this,"ratingChange",new xe),L(this,"hoverRatingChange",new xe),L(this,"onTouch",void 0),L(this,"onModelChange",void 0),L(this,"onModelChangeRegistered",!1),L(this,"onTouchRegistered",!1)}setRating(r){const i=this.rating;super.setRating(r),i!==this.rating&&(this.saveOnRatingChange({rating:this.rating}),this.saveOnModelChange(this.rating))}onStarClicked(r){this.interactionPossible()&&(this.rating=r,this.saveOnClick({rating:this.rating}))}}return t=e,L(e,"\u0275fac",function(r){return new(r||t)(T(jm))}),L(e,"\u0275cmp",hr({type:t,selectors:[["star-rating-control"]],outputs:{starClickChange:"starClickChange",ratingChange:"ratingChange",hoverRatingChange:"hoverRatingChange"},features:[Be([ige]),ve],decls:4,vars:6,consts:[["tabindex","0",3,"id","keydown","blur","focus","mouseleave"],["class","label-value",4,"ngIf"],[1,"star-container"],["class","star",3,"mouseenter","click",4,"ngFor","ngForOf"],[1,"label-value"],[1,"star",3,"mouseenter","click"],[3,"class",4,"ngIf"],["class","star-empty",4,"ngIf"],["class","star-half",4,"ngIf"],["class","star-filled",4,"ngIf"],[1,"star-empty"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink"],[1,"star-half"],[1,"star-filled"]],template:function(r,i){1&r&&(ie(0,"div",0),Bt("keydown",function(o){return i.onKeyDown(o)})("blur",function(o){return i.onBlur(o)})("focus",function(o){return i.onFocus(o)})("mouseleave",function(){return i.onStarHover(0)}),Ce(1,Ype,2,1,"div",1),ie(2,"div",2),Ce(3,rge,7,6,"div",3),le()()),2&r&&(fi("rating ",i.getComponentClassNames(),""),Ma("id",i.id),H(1),ce("ngIf",i.labelText),H(2),ce("ngForOf",i.stars))},dependencies:[Va,Ua],encapsulation:2})),e})(),sge=(()=>{var t;class e{static forRoot(){return{ngModule:e,providers:[jm]}}static forChild(){return{ngModule:e,providers:[]}}}return t=e,L(e,"\u0275fac",function(r){return new(r||t)}),L(e,"\u0275mod",Jn({type:t})),L(e,"\u0275inj",Fn({imports:[hw]})),e})();const oge=function(){return[""]};let X4=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=hr({type:t,selectors:[["app-header-bar"]],decls:5,vars:2,consts:[[3,"routerLink"]],template:function(r,i){1&r&&(ie(0,"div")(1,"ul")(2,"li")(3,"a",0),Ct(4,"WatchList"),le()()()()),2&r&&(H(3),ce("routerLink",function kx(t,e,n){const r=cn()+t,i=D();return i[r]===ee?Fr(i,r,n?e.call(n):e()):function xc(t,e){return t[e]}(i,r)}(1,oge)))},dependencies:[$d],styles:["div[_ngcontent-%COMP%]{background-color:#079ff0;overflow:hidden;margin-bottom:10px}ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}li[_ngcontent-%COMP%]{float:left;font-size:1.5em}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-align:center;padding:10px;text-decoration:none}"]}),e})();function age(t,e){if(1&t&&(ie(0,"div",18),Fe(1,"star-rating",19),le()),2&t){const n=Re(2);H(1),ce("rating",n.reviewStats.avgRating)}}function uge(t,e){if(1&t&&(ie(0,"span",20),Ct(1),le()),2&t){const n=e.$implicit,r=Re(2);H(1),yr(r.genreIdToGenre.get(n))}}function cge(t,e){if(1&t&&(ie(0,"div",22),Fe(1,"star-rating",23),ie(2,"p",24),Ct(3),le(),ie(4,"span",25),Ct(5),le()()),2&t){const n=e.$implicit;H(1),ce("rating",n.rating)("readOnly",!0),H(2),yr(n.content),H(2),Df("Posted On: ",n.date,"")}}function lge(t,e){if(1&t&&(ie(0,"div"),Ce(1,cge,6,4,"div",21),vv(2,"async"),le()),2&t){const n=Re(2);H(1),ce("ngForOf",wv(2,1,n.reviews))}}function dge(t,e){if(1&t){const n=wf();ie(0,"div"),Ce(1,age,2,1,"div",4),Fe(2,"img",5),ie(3,"div",6),Ct(4),le(),ie(5,"div",7),Ct(6),le(),ie(7,"div",8),Ct(8),le(),ie(9,"div",9),Ce(10,uge,2,1,"span",10),le(),ie(11,"div",11)(12,"h3"),Ct(13,"Reviews"),le(),Ce(14,lge,3,3,"div",12),vv(15,"async"),ie(16,"h4"),Ct(17,"Leave a Review:"),le(),Fe(18,"star-rating",13,14)(20,"textarea",15,16),ie(22,"button",17),Bt("click",function(){Qo(n);const i=Pc(19),s=Pc(21);return Yo(Re().postReview(i.rating,s.value))}),Ct(23,"Post Review"),le()()()}if(2&t){const n=Re(),r=Pc(5);let i;H(1),ce("ngIf",n.reviewStats),H(1),Ma("src",n.movie.imagePath,Kh),Fc("alt","",n.movie.title," Poster"),H(2),yr(n.movie.title),H(2),yr(n.movie.overview),H(2),yr(n.movie.releaseDate),H(2),ce("ngForOf",n.movie.genreIds),H(4),ce("ngIf",null==(i=wv(15,11,n.reviews))?null:i.length)("ngIfElse",r),H(4),ce("rating",1)("hoverEnabled",!0)}}function hge(t,e){1&t&&Ct(0,"Looking for movie...")}function fge(t,e){1&t&&(ie(0,"div",26),Ct(1,"There are no reviews for this title"),le())}function pge(t,e){1&t&&Ct(0,"Looking for review stats...")}let gge=(()=>{var t;class e{constructor(r,i,s){this.movieService=r,this.reviewService=i,this.route=s,this.movieId=Number(this.route.snapshot.params.id),this.genreIdToGenre=dt}postReview(r,i){const s=this.createDate(),o={content:i,rating:r,movieId:this.movieId,date:s};this.clearUserInput(),this.reviewService.addReview(o),this.getReviewStats()}createDate(){const r=new Date;return`${r.getUTCMonth()+1}/${r.getUTCDate()}/${r.getUTCFullYear()}`}clearUserInput(){const r=document.getElementById("reviewTextInput");r&&(r.value="")}ngOnInit(){this.movieService.getMovieById(this.movieId).subscribe(r=>{this.movie=r}),this.reviews=this.reviewService.getReviewsForMovie(this.movieId),this.getReviewStats()}getReviewStats(){pt(this.reviewService.getReviewStats(this.movieId)).subscribe(r=>{this.reviewStats=r})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(GH),T(zH),T(ko))},t.\u0275cmp=hr({type:t,selectors:[["app-movie-details"]],decls:8,vars:1,consts:[[4,"ngIfNoMovie","ngIf"],["noMovie",""],["noReviews",""],["noReviewStats",""],["id","reviewStats",4,"ngIfNoReviewStats","ngIf"],["id","movieImg",3,"src","alt"],["id","title"],["id","overview"],["id","releaseDate"],["id","genres"],["class","genre",4,"ngFor","ngForOf"],["id","reviewSection"],[4,"ngIf","ngIfElse"],["labelText","Select a Rating",1,"rating",3,"rating","hoverEnabled"],["stars",""],["id","reviewTextInput","placeholder","Type your review here...","rows","5","cols","60"],["content",""],[3,"click"],["id","reviewStats"],[1,"rating","postedRating",3,"rating"],[1,"genre"],["class","review",4,"ngFor","ngForOf"],[1,"review"],[1,"rating","postedRating",3,"rating","readOnly"],[1,"reviewContent"],[1,"reviewDate"],["id","noReviews"]],template:function(r,i){1&r&&(Fe(0,"app-header-bar"),Ce(1,dge,24,13,"div",0),Ce(2,hge,1,0,"ng-template",null,1,zc),Ce(4,fge,2,0,"ng-template",null,2,zc),Ce(6,pge,1,0,"ng-template",null,3,zc)),2&r&&(H(1),ce("ngIf",i.movie))},dependencies:[Va,Ua,Ob,X4,vR],styles:['#rating[_ngcontent-%COMP%], #reviewText[_ngcontent-%COMP%]{display:block}.review[_ngcontent-%COMP%], #noReviews[_ngcontent-%COMP%]{max-width:30%;border-top:1px solid black;padding:10px;background-color:#343434}.review[_ngcontent-%COMP%]:last-of-type, #noReviews[_ngcontent-%COMP%]{border-bottom:1px solid black}span.genre[_ngcontent-%COMP%]:after{content:", "}span.genre[_ngcontent-%COMP%]:last-of-type:after{content:""}.rating[_ngcontent-%COMP%]{justify-content:flex-start}.reviewContent[_ngcontent-%COMP%]{margin-bottom:16px}span.reviewDate[_ngcontent-%COMP%]{font-size:smaller}h3[_ngcontent-%COMP%]{background-color:#0079ff;border-radius:20px;max-width:35%;text-align:center}']}),e})();function mge(t,e){if(1&t&&Fe(0,"star-rating",5),2&t){const n=Re();ce("readOnly",!0)("rating",n.reviewStats.avgRating)}}function yge(t,e){1&t&&Ct(0,"Fetching stats...")}const _ge=function(t){return["movie-details/",t]};let vge=(()=>{var t;class e{constructor(r){this.reviewService=r}ngOnInit(){var r=this;return v(function*(){r.reviewStats=yield r.reviewService.getReviewStats(r.movie.id)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(T(zH))},t.\u0275cmp=hr({type:t,selectors:[["app-movie"]],inputs:{movie:"movie"},decls:8,vars:8,consts:[[3,"routerLink"],[3,"readOnly","rating",4,"ngIf","ngIfElse"],["id","movieImg",3,"src","alt"],["id","movieTitle"],["noStats",""],[3,"readOnly","rating"]],template:function(r,i){if(1&r&&(ie(0,"section")(1,"a",0),Ce(2,mge,1,2,"star-rating",1),Fe(3,"img",2),ie(4,"span",3),Ct(5),le()()(),Ce(6,yge,1,0,"ng-template",null,4,zc)),2&r){const s=Pc(7);H(1),ce("routerLink",function Px(t,e,n,r){return Ox(D(),cn(),t,e,n,r)}(6,_ge,i.movie.id)),H(1),ce("ngIf",i.reviewStats)("ngIfElse",s),H(1),Ma("src",i.movie.imagePath,Kh),Fc("alt","",i.movie.title," Poster"),H(2),yr(i.movie.title)}},dependencies:[Ua,$d,Ob],styles:["section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:160px}a[_ngcontent-%COMP%]{text-decoration:none;text-align:center}section[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}img[_ngcontent-%COMP%]{object-fit:contain;max-width:150px;padding:0 5px;margin-bottom:10px}"]}),e})();function wge(t,e){if(1&t&&(ie(0,"li"),Fe(1,"app-movie",2),le()),2&t){const n=e.$implicit;H(1),ce("movie",n)}}function Ige(t,e){if(1&t&&(ie(0,"div")(1,"p"),Ct(2),le(),ie(3,"ul"),Ce(4,wge,2,1,"li",1),le()()),2&t){const n=Re();H(2),yr(n.genreIdToGenre.get(n.genreId)),H(2),ce("ngForOf",n.movies)}}let Ege=(()=>{var t;class e{constructor(r){this.movieService=r,this.genreIds=HH,this.genreIdToGenre=dt}ngOnInit(){this.movieService.getMoviesByGenre(this.genreId).subscribe(r=>{this.movies=r})}}return(t=e).\u0275fac=function(r){return new(r||t)(T(GH))},t.\u0275cmp=hr({type:t,selectors:[["app-movie-list"]],inputs:{genreId:"genreId"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"movie"]],template:function(r,i){1&r&&Ce(0,Ige,5,2,"div",0),2&r&&ce("ngIf",i.movies&&i.movies.length>=1)},dependencies:[Va,Ua,vge],styles:["ul[_ngcontent-%COMP%]{display:flex;flex:0 1 auto;overflow:auto;list-style-type:none;margin:20px;margin-block:0;padding-inline:0;padding:20px;max-height:-moz-fit-content;max-height:fit-content}li[_ngcontent-%COMP%]{flex-direction:row}"]}),e})();function Cge(t,e){if(1&t&&(ie(0,"div"),Fe(1,"app-movie-list",1),le()),2&t){const n=e.$implicit;H(1),ce("genreId",n)}}const Dge=[{path:"",component:(()=>{var t;class e{constructor(){this.genreIds=HH}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=hr({type:t,selectors:[["app-homepage"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"genreId"]],template:function(r,i){1&r&&(Fe(0,"app-header-bar"),Ce(1,Cge,2,1,"div",0)),2&r&&(H(1),ce("ngForOf",i.genreIds))},dependencies:[Va,Ege,X4]}),e})(),title:"Watchlist Homepage"},{path:"movie-details/:id",component:gge}];let bge=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Jn({type:t}),t.\u0275inj=Fn({imports:[hw,jH.forRoot(Dge,{useHash:!0}),jH]}),e})();const Tge_firebase={apiKey:"AIzaSyDDpux_ld3EHARIZoCKIxVLI0L1MHe3LpA",authDomain:"donnelly-senior-project.firebaseapp.com",projectId:"donnelly-senior-project",storageBucket:"donnelly-senior-project.appspot.com",messagingSenderId:"234151376055",appId:"1:234151376055:web:eb279755d5f655bbcd0932",measurementId:"G-DR4DWEXXFM"};let Sge=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Jn({type:t,bootstrap:[Ufe]}),t.\u0275inj=Fn({imports:[nX,NX,bge,sge.forRoot(),Pne(()=>One(Tge_firebase)),nde(()=>ode())]}),e})();eX().bootstrapModule(Sge).catch(t=>console.error(t))}},Me=>{Me(Me.s=419)}]);